(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Fu(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Mt={},Dr=[],gn=()=>{},cT=()=>!1,sl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Uu=e=>e.startsWith("onUpdate:"),ie=Object.assign,Bu=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},uT=Object.prototype.hasOwnProperty,Nt=(e,t)=>uT.call(e,t),ft=Array.isArray,kr=e=>rl(e)==="[object Map]",rg=e=>rl(e)==="[object Set]",gt=e=>typeof e=="function",Zt=e=>typeof e=="string",Ns=e=>typeof e=="symbol",jt=e=>e!==null&&typeof e=="object",ig=e=>(jt(e)||gt(e))&&gt(e.then)&&gt(e.catch),og=Object.prototype.toString,rl=e=>og.call(e),hT=e=>rl(e).slice(8,-1),ag=e=>rl(e)==="[object Object]",ju=e=>Zt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,$i=Fu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),il=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},dT=/-(\w)/g,Je=il(e=>e.replace(dT,(t,n)=>n?n.toUpperCase():"")),fT=/\B([A-Z])/g,ar=il(e=>e.replace(fT,"-$1").toLowerCase()),ol=il(e=>e.charAt(0).toUpperCase()+e.slice(1)),nc=il(e=>e?`on${ol(e)}`:""),ps=(e,t)=>!Object.is(e,t),ha=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},lg=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},qc=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Zd;const al=()=>Zd||(Zd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Hu(e){if(ft(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=Zt(s)?_T(s):Hu(s);if(r)for(const i in r)t[i]=r[i]}return t}else if(Zt(e)||jt(e))return e}const pT=/;(?![^(]*\))/g,mT=/:([^]+)/,gT=/\/\*[^]*?\*\//g;function _T(e){const t={};return e.replace(gT,"").split(pT).forEach(n=>{if(n){const s=n.split(mT);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Zi(e){let t="";if(Zt(e))t=e;else if(ft(e))for(let n=0;n<e.length;n++){const s=Zi(e[n]);s&&(t+=s+" ")}else if(jt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const vT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yT=Fu(vT);function cg(e){return!!e||e===""}const ug=e=>!!(e&&e.__v_isRef===!0),Pt=e=>Zt(e)?e:e==null?"":ft(e)||jt(e)&&(e.toString===og||!gt(e.toString))?ug(e)?Pt(e.value):JSON.stringify(e,hg,2):String(e),hg=(e,t)=>ug(t)?hg(e,t.value):kr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],i)=>(n[sc(s,i)+" =>"]=r,n),{})}:rg(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>sc(n))}:Ns(t)?sc(t):jt(t)&&!ft(t)&&!ag(t)?String(t):t,sc=(e,t="")=>{var n;return Ns(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fe;class ET{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Fe,!t&&Fe&&(this.index=(Fe.scopes||(Fe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Fe;try{return Fe=this,t()}finally{Fe=n}}}on(){Fe=this}off(){Fe=this.parent}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function TT(){return Fe}let $t;const rc=new WeakSet;class dg{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Fe&&Fe.active&&Fe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,rc.has(this)&&(rc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||pg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,tf(this),mg(this);const t=$t,n=on;$t=this,on=!0;try{return this.fn()}finally{gg(this),$t=t,on=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Wu(t);this.deps=this.depsTail=void 0,tf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?rc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Wc(this)&&this.run()}get dirty(){return Wc(this)}}let fg=0,Fi,Ui;function pg(e,t=!1){if(e.flags|=8,t){e.next=Ui,Ui=e;return}e.next=Fi,Fi=e}function Ku(){fg++}function qu(){if(--fg>0)return;if(Ui){let t=Ui;for(Ui=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Fi;){let t=Fi;for(Fi=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function mg(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function gg(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Wu(s),bT(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function Wc(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(_g(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function _g(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===to))return;e.globalVersion=to;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Wc(e)){e.flags&=-3;return}const n=$t,s=on;$t=e,on=!0;try{mg(e);const r=e.fn(e._value);(t.version===0||ps(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{$t=n,on=s,gg(e),e.flags&=-3}}function Wu(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Wu(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function bT(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let on=!0;const vg=[];function Ds(){vg.push(on),on=!1}function ks(){const e=vg.pop();on=e===void 0?!0:e}function tf(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=$t;$t=void 0;try{t()}finally{$t=n}}}let to=0;class wT{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class zu{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!$t||!on||$t===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==$t)n=this.activeLink=new wT($t,this),$t.deps?(n.prevDep=$t.depsTail,$t.depsTail.nextDep=n,$t.depsTail=n):$t.deps=$t.depsTail=n,yg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=$t.depsTail,n.nextDep=void 0,$t.depsTail.nextDep=n,$t.depsTail=n,$t.deps===n&&($t.deps=s)}return n}trigger(t){this.version++,to++,this.notify(t)}notify(t){Ku();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{qu()}}}function yg(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)yg(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const zc=new WeakMap,Qs=Symbol(""),Gc=Symbol(""),eo=Symbol("");function ye(e,t,n){if(on&&$t){let s=zc.get(e);s||zc.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new zu),r.map=s,r.key=n),r.track()}}function $n(e,t,n,s,r,i){const o=zc.get(e);if(!o){to++;return}const l=c=>{c&&c.trigger()};if(Ku(),t==="clear")o.forEach(l);else{const c=ft(e),h=c&&ju(n);if(c&&n==="length"){const d=Number(s);o.forEach((p,g)=>{(g==="length"||g===eo||!Ns(g)&&g>=d)&&l(p)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),h&&l(o.get(eo)),t){case"add":c?h&&l(o.get("length")):(l(o.get(Qs)),kr(e)&&l(o.get(Gc)));break;case"delete":c||(l(o.get(Qs)),kr(e)&&l(o.get(Gc)));break;case"set":kr(e)&&l(o.get(Qs));break}}qu()}function vr(e){const t=Ot(e);return t===e?t:(ye(t,"iterate",eo),Ye(e)?t:t.map(Ee))}function ll(e){return ye(e=Ot(e),"iterate",eo),e}const AT={__proto__:null,[Symbol.iterator](){return ic(this,Symbol.iterator,Ee)},concat(...e){return vr(this).concat(...e.map(t=>ft(t)?vr(t):t))},entries(){return ic(this,"entries",e=>(e[1]=Ee(e[1]),e))},every(e,t){return Ln(this,"every",e,t,void 0,arguments)},filter(e,t){return Ln(this,"filter",e,t,n=>n.map(Ee),arguments)},find(e,t){return Ln(this,"find",e,t,Ee,arguments)},findIndex(e,t){return Ln(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ln(this,"findLast",e,t,Ee,arguments)},findLastIndex(e,t){return Ln(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ln(this,"forEach",e,t,void 0,arguments)},includes(...e){return oc(this,"includes",e)},indexOf(...e){return oc(this,"indexOf",e)},join(e){return vr(this).join(e)},lastIndexOf(...e){return oc(this,"lastIndexOf",e)},map(e,t){return Ln(this,"map",e,t,void 0,arguments)},pop(){return Ri(this,"pop")},push(...e){return Ri(this,"push",e)},reduce(e,...t){return ef(this,"reduce",e,t)},reduceRight(e,...t){return ef(this,"reduceRight",e,t)},shift(){return Ri(this,"shift")},some(e,t){return Ln(this,"some",e,t,void 0,arguments)},splice(...e){return Ri(this,"splice",e)},toReversed(){return vr(this).toReversed()},toSorted(e){return vr(this).toSorted(e)},toSpliced(...e){return vr(this).toSpliced(...e)},unshift(...e){return Ri(this,"unshift",e)},values(){return ic(this,"values",Ee)}};function ic(e,t,n){const s=ll(e),r=s[t]();return s!==e&&!Ye(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const IT=Array.prototype;function Ln(e,t,n,s,r,i){const o=ll(e),l=o!==e&&!Ye(e),c=o[t];if(c!==IT[t]){const p=c.apply(e,i);return l?Ee(p):p}let h=n;o!==e&&(l?h=function(p,g){return n.call(this,Ee(p),g,e)}:n.length>2&&(h=function(p,g){return n.call(this,p,g,e)}));const d=c.call(o,h,s);return l&&r?r(d):d}function ef(e,t,n,s){const r=ll(e);let i=n;return r!==e&&(Ye(e)?n.length>3&&(i=function(o,l,c){return n.call(this,o,l,c,e)}):i=function(o,l,c){return n.call(this,o,Ee(l),c,e)}),r[t](i,...s)}function oc(e,t,n){const s=Ot(e);ye(s,"iterate",eo);const r=s[t](...n);return(r===-1||r===!1)&&Yu(n[0])?(n[0]=Ot(n[0]),s[t](...n)):r}function Ri(e,t,n=[]){Ds(),Ku();const s=Ot(e)[t].apply(e,n);return qu(),ks(),s}const ST=Fu("__proto__,__v_isRef,__isVue"),Eg=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ns));function CT(e){Ns(e)||(e=String(e));const t=Ot(this);return ye(t,"has",e),t.hasOwnProperty(e)}class Tg{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?MT:Ig:i?Ag:wg).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=ft(t);if(!r){let c;if(o&&(c=AT[n]))return c;if(n==="hasOwnProperty")return CT}const l=Reflect.get(t,n,we(t)?t:s);return(Ns(n)?Eg.has(n):ST(n))||(r||ye(t,"get",n),i)?l:we(l)?o&&ju(n)?l:l.value:jt(l)?r?Cg(l):cl(l):l}}class bg extends Tg{constructor(t=!1){super(!1,t)}set(t,n,s,r){let i=t[n];if(!this._isShallow){const c=Zs(i);if(!Ye(s)&&!Zs(s)&&(i=Ot(i),s=Ot(s)),!ft(t)&&we(i)&&!we(s))return c?!1:(i.value=s,!0)}const o=ft(t)&&ju(n)?Number(n)<t.length:Nt(t,n),l=Reflect.set(t,n,s,we(t)?t:r);return t===Ot(r)&&(o?ps(s,i)&&$n(t,"set",n,s):$n(t,"add",n,s)),l}deleteProperty(t,n){const s=Nt(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&$n(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!Ns(n)||!Eg.has(n))&&ye(t,"has",n),s}ownKeys(t){return ye(t,"iterate",ft(t)?"length":Qs),Reflect.ownKeys(t)}}class RT extends Tg{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const PT=new bg,OT=new RT,NT=new bg(!0);const Qc=e=>e,Go=e=>Reflect.getPrototypeOf(e);function DT(e,t,n){return function(...s){const r=this.__v_raw,i=Ot(r),o=kr(i),l=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,h=r[e](...s),d=n?Qc:t?Yc:Ee;return!t&&ye(i,"iterate",c?Gc:Qs),{next(){const{value:p,done:g}=h.next();return g?{value:p,done:g}:{value:l?[d(p[0]),d(p[1])]:d(p),done:g}},[Symbol.iterator](){return this}}}}function Qo(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function kT(e,t){const n={get(r){const i=this.__v_raw,o=Ot(i),l=Ot(r);e||(ps(r,l)&&ye(o,"get",r),ye(o,"get",l));const{has:c}=Go(o),h=t?Qc:e?Yc:Ee;if(c.call(o,r))return h(i.get(r));if(c.call(o,l))return h(i.get(l));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&ye(Ot(r),"iterate",Qs),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=Ot(i),l=Ot(r);return e||(ps(r,l)&&ye(o,"has",r),ye(o,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const o=this,l=o.__v_raw,c=Ot(l),h=t?Qc:e?Yc:Ee;return!e&&ye(c,"iterate",Qs),l.forEach((d,p)=>r.call(i,h(d),h(p),o))}};return ie(n,e?{add:Qo("add"),set:Qo("set"),delete:Qo("delete"),clear:Qo("clear")}:{add(r){!t&&!Ye(r)&&!Zs(r)&&(r=Ot(r));const i=Ot(this);return Go(i).has.call(i,r)||(i.add(r),$n(i,"add",r,r)),this},set(r,i){!t&&!Ye(i)&&!Zs(i)&&(i=Ot(i));const o=Ot(this),{has:l,get:c}=Go(o);let h=l.call(o,r);h||(r=Ot(r),h=l.call(o,r));const d=c.call(o,r);return o.set(r,i),h?ps(i,d)&&$n(o,"set",r,i):$n(o,"add",r,i),this},delete(r){const i=Ot(this),{has:o,get:l}=Go(i);let c=o.call(i,r);c||(r=Ot(r),c=o.call(i,r)),l&&l.call(i,r);const h=i.delete(r);return c&&$n(i,"delete",r,void 0),h},clear(){const r=Ot(this),i=r.size!==0,o=r.clear();return i&&$n(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=DT(r,e,t)}),n}function Gu(e,t){const n=kT(e,t);return(s,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(Nt(n,r)&&r in s?n:s,r,i)}const xT={get:Gu(!1,!1)},LT={get:Gu(!1,!0)},VT={get:Gu(!0,!1)};const wg=new WeakMap,Ag=new WeakMap,Ig=new WeakMap,MT=new WeakMap;function $T(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function FT(e){return e.__v_skip||!Object.isExtensible(e)?0:$T(hT(e))}function cl(e){return Zs(e)?e:Qu(e,!1,PT,xT,wg)}function Sg(e){return Qu(e,!1,NT,LT,Ag)}function Cg(e){return Qu(e,!0,OT,VT,Ig)}function Qu(e,t,n,s,r){if(!jt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=FT(e);if(o===0)return e;const l=new Proxy(e,o===2?s:n);return r.set(e,l),l}function xr(e){return Zs(e)?xr(e.__v_raw):!!(e&&e.__v_isReactive)}function Zs(e){return!!(e&&e.__v_isReadonly)}function Ye(e){return!!(e&&e.__v_isShallow)}function Yu(e){return e?!!e.__v_raw:!1}function Ot(e){const t=e&&e.__v_raw;return t?Ot(t):e}function UT(e){return!Nt(e,"__v_skip")&&Object.isExtensible(e)&&lg(e,"__v_skip",!0),e}const Ee=e=>jt(e)?cl(e):e,Yc=e=>jt(e)?Cg(e):e;function we(e){return e?e.__v_isRef===!0:!1}function sn(e){return Rg(e,!1)}function BT(e){return Rg(e,!0)}function Rg(e,t){return we(e)?e:new jT(e,t)}class jT{constructor(t,n){this.dep=new zu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ot(t),this._value=n?t:Ee(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Ye(t)||Zs(t);t=s?t:Ot(t),ps(t,n)&&(this._rawValue=t,this._value=s?t:Ee(t),this.dep.trigger())}}function Lr(e){return we(e)?e.value:e}const HT={get:(e,t,n)=>t==="__v_raw"?e:Lr(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return we(r)&&!we(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Pg(e){return xr(e)?e:new Proxy(e,HT)}class KT{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new zu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=to-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&$t!==this)return pg(this,!0),!0}get value(){const t=this.dep.track();return _g(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function qT(e,t,n=!1){let s,r;return gt(e)?s=e:(s=e.get,r=e.set),new KT(s,r,n)}const Yo={},Pa=new WeakMap;let Hs;function WT(e,t=!1,n=Hs){if(n){let s=Pa.get(n);s||Pa.set(n,s=[]),s.push(e)}}function zT(e,t,n=Mt){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:l,call:c}=n,h=x=>r?x:Ye(x)||r===!1||r===0?Fn(x,1):Fn(x);let d,p,g,_,N=!1,R=!1;if(we(e)?(p=()=>e.value,N=Ye(e)):xr(e)?(p=()=>h(e),N=!0):ft(e)?(R=!0,N=e.some(x=>xr(x)||Ye(x)),p=()=>e.map(x=>{if(we(x))return x.value;if(xr(x))return h(x);if(gt(x))return c?c(x,2):x()})):gt(e)?t?p=c?()=>c(e,2):e:p=()=>{if(g){Ds();try{g()}finally{ks()}}const x=Hs;Hs=d;try{return c?c(e,3,[_]):e(_)}finally{Hs=x}}:p=gn,t&&r){const x=p,Z=r===!0?1/0:r;p=()=>Fn(x(),Z)}const P=TT(),M=()=>{d.stop(),P&&P.active&&Bu(P.effects,d)};if(i&&t){const x=t;t=(...Z)=>{x(...Z),M()}}let $=R?new Array(e.length).fill(Yo):Yo;const F=x=>{if(!(!(d.flags&1)||!d.dirty&&!x))if(t){const Z=d.run();if(r||N||(R?Z.some((tt,w)=>ps(tt,$[w])):ps(Z,$))){g&&g();const tt=Hs;Hs=d;try{const w=[Z,$===Yo?void 0:R&&$[0]===Yo?[]:$,_];c?c(t,3,w):t(...w),$=Z}finally{Hs=tt}}}else d.run()};return l&&l(F),d=new dg(p),d.scheduler=o?()=>o(F,!1):F,_=x=>WT(x,!1,d),g=d.onStop=()=>{const x=Pa.get(d);if(x){if(c)c(x,4);else for(const Z of x)Z();Pa.delete(d)}},t?s?F(!0):$=d.run():o?o(F.bind(null,!0),!0):d.run(),M.pause=d.pause.bind(d),M.resume=d.resume.bind(d),M.stop=M,M}function Fn(e,t=1/0,n){if(t<=0||!jt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,we(e))Fn(e.value,t,n);else if(ft(e))for(let s=0;s<e.length;s++)Fn(e[s],t,n);else if(rg(e)||kr(e))e.forEach(s=>{Fn(s,t,n)});else if(ag(e)){for(const s in e)Fn(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Fn(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _o(e,t,n,s){try{return s?e(...s):e()}catch(r){ul(r,t,n)}}function An(e,t,n,s){if(gt(e)){const r=_o(e,t,n,s);return r&&ig(r)&&r.catch(i=>{ul(i,t,n)}),r}if(ft(e)){const r=[];for(let i=0;i<e.length;i++)r.push(An(e[i],t,n,s));return r}}function ul(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Mt;if(t){let l=t.parent;const c=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,c,h)===!1)return}l=l.parent}if(i){Ds(),_o(i,null,10,[e,c,h]),ks();return}}GT(e,n,r,s,o)}function GT(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const Pe=[];let hn=-1;const Vr=[];let os=null,Tr=0;const Og=Promise.resolve();let Oa=null;function Ng(e){const t=Oa||Og;return e?t.then(this?e.bind(this):e):t}function QT(e){let t=hn+1,n=Pe.length;for(;t<n;){const s=t+n>>>1,r=Pe[s],i=no(r);i<e||i===e&&r.flags&2?t=s+1:n=s}return t}function Xu(e){if(!(e.flags&1)){const t=no(e),n=Pe[Pe.length-1];!n||!(e.flags&2)&&t>=no(n)?Pe.push(e):Pe.splice(QT(t),0,e),e.flags|=1,Dg()}}function Dg(){Oa||(Oa=Og.then(xg))}function YT(e){ft(e)?Vr.push(...e):os&&e.id===-1?os.splice(Tr+1,0,e):e.flags&1||(Vr.push(e),e.flags|=1),Dg()}function nf(e,t,n=hn+1){for(;n<Pe.length;n++){const s=Pe[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Pe.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function kg(e){if(Vr.length){const t=[...new Set(Vr)].sort((n,s)=>no(n)-no(s));if(Vr.length=0,os){os.push(...t);return}for(os=t,Tr=0;Tr<os.length;Tr++){const n=os[Tr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}os=null,Tr=0}}const no=e=>e.id==null?e.flags&2?-1:1/0:e.id;function xg(e){try{for(hn=0;hn<Pe.length;hn++){const t=Pe[hn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),_o(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;hn<Pe.length;hn++){const t=Pe[hn];t&&(t.flags&=-2)}hn=-1,Pe.length=0,kg(),Oa=null,(Pe.length||Vr.length)&&xg()}}let Ue=null,Lg=null;function Na(e){const t=Ue;return Ue=e,Lg=e&&e.type.__scopeId||null,t}function pn(e,t=Ue,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&df(-1);const i=Na(t);let o;try{o=e(...r)}finally{Na(i),s._d&&df(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ge(e,t){if(Ue===null)return e;const n=pl(Ue),s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,o,l,c=Mt]=t[r];i&&(gt(i)&&(i={mounted:i,updated:i}),i.deep&&Fn(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return e}function Bs(e,t,n,s){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const l=r[o];i&&(l.oldValue=i[o].value);let c=l.dir[s];c&&(Ds(),An(c,n,8,[e.el,l,e,t]),ks())}}const XT=Symbol("_vte"),JT=e=>e.__isTeleport;function Ju(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ju(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Vg(e,t){return gt(e)?ie({name:e.name},t,{setup:e}):e}function Mg(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Da(e,t,n,s,r=!1){if(ft(e)){e.forEach((N,R)=>Da(N,t&&(ft(t)?t[R]:t),n,s,r));return}if(Bi(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Da(e,t,n,s.component.subTree);return}const i=s.shapeFlag&4?pl(s.component):s.el,o=r?null:i,{i:l,r:c}=e,h=t&&t.r,d=l.refs===Mt?l.refs={}:l.refs,p=l.setupState,g=Ot(p),_=p===Mt?()=>!1:N=>Nt(g,N);if(h!=null&&h!==c&&(Zt(h)?(d[h]=null,_(h)&&(p[h]=null)):we(h)&&(h.value=null)),gt(c))_o(c,l,12,[o,d]);else{const N=Zt(c),R=we(c);if(N||R){const P=()=>{if(e.f){const M=N?_(c)?p[c]:d[c]:c.value;r?ft(M)&&Bu(M,i):ft(M)?M.includes(i)||M.push(i):N?(d[c]=[i],_(c)&&(p[c]=d[c])):(c.value=[i],e.k&&(d[e.k]=c.value))}else N?(d[c]=o,_(c)&&(p[c]=o)):R&&(c.value=o,e.k&&(d[e.k]=o))};o?(P.id=-1,$e(P,n)):P()}}}al().requestIdleCallback;al().cancelIdleCallback;const Bi=e=>!!e.type.__asyncLoader,$g=e=>e.type.__isKeepAlive;function ZT(e,t){Fg(e,"a",t)}function tb(e,t){Fg(e,"da",t)}function Fg(e,t,n=be){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(hl(t,s,n),n){let r=n.parent;for(;r&&r.parent;)$g(r.parent.vnode)&&eb(s,t,n,r),r=r.parent}}function eb(e,t,n,s){const r=hl(t,e,s,!0);Ug(()=>{Bu(s[t],r)},n)}function hl(e,t,n=be,s=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Ds();const l=vo(n),c=An(t,n,e,o);return l(),ks(),c});return s?r.unshift(i):r.push(i),i}}const Yn=e=>(t,n=be)=>{(!io||e==="sp")&&hl(e,(...s)=>t(...s),n)},nb=Yn("bm"),sb=Yn("m"),rb=Yn("bu"),ib=Yn("u"),ob=Yn("bum"),Ug=Yn("um"),ab=Yn("sp"),lb=Yn("rtg"),cb=Yn("rtc");function ub(e,t=be){hl("ec",e,t)}const hb="components";function ai(e,t){return fb(hb,e,!0,t)||e}const db=Symbol.for("v-ndc");function fb(e,t,n=!0,s=!1){const r=Ue||be;if(r){const i=r.type;{const l=Zb(i,!1);if(l&&(l===t||l===Je(t)||l===ol(Je(t))))return i}const o=sf(r[e]||i[e],t)||sf(r.appContext[e],t);return!o&&s?i:o}}function sf(e,t){return e&&(e[t]||e[Je(t)]||e[ol(Je(t))])}function Es(e,t,n,s){let r;const i=n,o=ft(e);if(o||Zt(e)){const l=o&&xr(e);let c=!1;l&&(c=!Ye(e),e=ll(e)),r=new Array(e.length);for(let h=0,d=e.length;h<d;h++)r[h]=t(c?Ee(e[h]):e[h],h,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,i)}else if(jt(e))if(e[Symbol.iterator])r=Array.from(e,(l,c)=>t(l,c,void 0,i));else{const l=Object.keys(e);r=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const d=l[c];r[c]=t(e[d],d,c,i)}}else r=[];return r}const Xc=e=>e?o_(e)?pl(e):Xc(e.parent):null,ji=ie(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Xc(e.parent),$root:e=>Xc(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Zu(e),$forceUpdate:e=>e.f||(e.f=()=>{Xu(e.update)}),$nextTick:e=>e.n||(e.n=Ng.bind(e.proxy)),$watch:e=>xb.bind(e)}),ac=(e,t)=>e!==Mt&&!e.__isScriptSetup&&Nt(e,t),pb={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:l,appContext:c}=e;let h;if(t[0]!=="$"){const _=o[t];if(_!==void 0)switch(_){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(ac(s,t))return o[t]=1,s[t];if(r!==Mt&&Nt(r,t))return o[t]=2,r[t];if((h=e.propsOptions[0])&&Nt(h,t))return o[t]=3,i[t];if(n!==Mt&&Nt(n,t))return o[t]=4,n[t];Jc&&(o[t]=0)}}const d=ji[t];let p,g;if(d)return t==="$attrs"&&ye(e.attrs,"get",""),d(e);if((p=l.__cssModules)&&(p=p[t]))return p;if(n!==Mt&&Nt(n,t))return o[t]=4,n[t];if(g=c.config.globalProperties,Nt(g,t))return g[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:i}=e;return ac(r,t)?(r[t]=n,!0):s!==Mt&&Nt(s,t)?(s[t]=n,!0):Nt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let l;return!!n[o]||e!==Mt&&Nt(e,o)||ac(t,o)||(l=i[0])&&Nt(l,o)||Nt(s,o)||Nt(ji,o)||Nt(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Nt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function rf(e){return ft(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Jc=!0;function mb(e){const t=Zu(e),n=e.proxy,s=e.ctx;Jc=!1,t.beforeCreate&&of(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:l,provide:c,inject:h,created:d,beforeMount:p,mounted:g,beforeUpdate:_,updated:N,activated:R,deactivated:P,beforeDestroy:M,beforeUnmount:$,destroyed:F,unmounted:x,render:Z,renderTracked:tt,renderTriggered:w,errorCaptured:v,serverPrefetch:E,expose:A,inheritAttrs:S,components:C,directives:T,filters:Ht}=t;if(h&&gb(h,s,null),o)for(const ht in o){const vt=o[ht];gt(vt)&&(s[ht]=vt.bind(n))}if(r){const ht=r.call(n,n);jt(ht)&&(e.data=cl(ht))}if(Jc=!0,i)for(const ht in i){const vt=i[ht],Wt=gt(vt)?vt.bind(n,n):gt(vt.get)?vt.get.bind(n,n):gn,he=!gt(vt)&&gt(vt.set)?vt.set.bind(n):gn,de=We({get:Wt,set:he});Object.defineProperty(s,ht,{enumerable:!0,configurable:!0,get:()=>de.value,set:Dt=>de.value=Dt})}if(l)for(const ht in l)Bg(l[ht],s,n,ht);if(c){const ht=gt(c)?c.call(n):c;Reflect.ownKeys(ht).forEach(vt=>{da(vt,ht[vt])})}d&&of(d,e,"c");function Tt(ht,vt){ft(vt)?vt.forEach(Wt=>ht(Wt.bind(n))):vt&&ht(vt.bind(n))}if(Tt(nb,p),Tt(sb,g),Tt(rb,_),Tt(ib,N),Tt(ZT,R),Tt(tb,P),Tt(ub,v),Tt(cb,tt),Tt(lb,w),Tt(ob,$),Tt(Ug,x),Tt(ab,E),ft(A))if(A.length){const ht=e.exposed||(e.exposed={});A.forEach(vt=>{Object.defineProperty(ht,vt,{get:()=>n[vt],set:Wt=>n[vt]=Wt})})}else e.exposed||(e.exposed={});Z&&e.render===gn&&(e.render=Z),S!=null&&(e.inheritAttrs=S),C&&(e.components=C),T&&(e.directives=T),E&&Mg(e)}function gb(e,t,n=gn){ft(e)&&(e=Zc(e));for(const s in e){const r=e[s];let i;jt(r)?"default"in r?i=_n(r.from||s,r.default,!0):i=_n(r.from||s):i=_n(r),we(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[s]=i}}function of(e,t,n){An(ft(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Bg(e,t,n,s){let r=s.includes(".")?e_(n,s):()=>n[s];if(Zt(e)){const i=t[e];gt(i)&&fa(r,i)}else if(gt(e))fa(r,e.bind(n));else if(jt(e))if(ft(e))e.forEach(i=>Bg(i,t,n,s));else{const i=gt(e.handler)?e.handler.bind(n):t[e.handler];gt(i)&&fa(r,i,e)}}function Zu(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,l=i.get(t);let c;return l?c=l:!r.length&&!n&&!s?c=t:(c={},r.length&&r.forEach(h=>ka(c,h,o,!0)),ka(c,t,o)),jt(t)&&i.set(t,c),c}function ka(e,t,n,s=!1){const{mixins:r,extends:i}=t;i&&ka(e,i,n,!0),r&&r.forEach(o=>ka(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const l=_b[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const _b={data:af,props:lf,emits:lf,methods:ki,computed:ki,beforeCreate:Re,created:Re,beforeMount:Re,mounted:Re,beforeUpdate:Re,updated:Re,beforeDestroy:Re,beforeUnmount:Re,destroyed:Re,unmounted:Re,activated:Re,deactivated:Re,errorCaptured:Re,serverPrefetch:Re,components:ki,directives:ki,watch:yb,provide:af,inject:vb};function af(e,t){return t?e?function(){return ie(gt(e)?e.call(this,this):e,gt(t)?t.call(this,this):t)}:t:e}function vb(e,t){return ki(Zc(e),Zc(t))}function Zc(e){if(ft(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Re(e,t){return e?[...new Set([].concat(e,t))]:t}function ki(e,t){return e?ie(Object.create(null),e,t):t}function lf(e,t){return e?ft(e)&&ft(t)?[...new Set([...e,...t])]:ie(Object.create(null),rf(e),rf(t??{})):t}function yb(e,t){if(!e)return t;if(!t)return e;const n=ie(Object.create(null),e);for(const s in t)n[s]=Re(e[s],t[s]);return n}function jg(){return{app:null,config:{isNativeTag:cT,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Eb=0;function Tb(e,t){return function(s,r=null){gt(s)||(s=ie({},s)),r!=null&&!jt(r)&&(r=null);const i=jg(),o=new WeakSet,l=[];let c=!1;const h=i.app={_uid:Eb++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:ew,get config(){return i.config},set config(d){},use(d,...p){return o.has(d)||(d&&gt(d.install)?(o.add(d),d.install(h,...p)):gt(d)&&(o.add(d),d(h,...p))),h},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),h},component(d,p){return p?(i.components[d]=p,h):i.components[d]},directive(d,p){return p?(i.directives[d]=p,h):i.directives[d]},mount(d,p,g){if(!c){const _=h._ceVNode||Bt(s,r);return _.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),p&&t?t(_,d):e(_,d,g),c=!0,h._container=d,d.__vue_app__=h,pl(_.component)}},onUnmount(d){l.push(d)},unmount(){c&&(An(l,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(d,p){return i.provides[d]=p,h},runWithContext(d){const p=Mr;Mr=h;try{return d()}finally{Mr=p}}};return h}}let Mr=null;function da(e,t){if(be){let n=be.provides;const s=be.parent&&be.parent.provides;s===n&&(n=be.provides=Object.create(s)),n[e]=t}}function _n(e,t,n=!1){const s=be||Ue;if(s||Mr){const r=Mr?Mr._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&gt(t)?t.call(s&&s.proxy):t}}const Hg={},Kg=()=>Object.create(Hg),qg=e=>Object.getPrototypeOf(e)===Hg;function bb(e,t,n,s=!1){const r={},i=Kg();e.propsDefaults=Object.create(null),Wg(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=s?r:Sg(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function wb(e,t,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,l=Ot(r),[c]=e.propsOptions;let h=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let p=0;p<d.length;p++){let g=d[p];if(dl(e.emitsOptions,g))continue;const _=t[g];if(c)if(Nt(i,g))_!==i[g]&&(i[g]=_,h=!0);else{const N=Je(g);r[N]=tu(c,l,N,_,e,!1)}else _!==i[g]&&(i[g]=_,h=!0)}}}else{Wg(e,t,r,i)&&(h=!0);let d;for(const p in l)(!t||!Nt(t,p)&&((d=ar(p))===p||!Nt(t,d)))&&(c?n&&(n[p]!==void 0||n[d]!==void 0)&&(r[p]=tu(c,l,p,void 0,e,!0)):delete r[p]);if(i!==l)for(const p in i)(!t||!Nt(t,p))&&(delete i[p],h=!0)}h&&$n(e.attrs,"set","")}function Wg(e,t,n,s){const[r,i]=e.propsOptions;let o=!1,l;if(t)for(let c in t){if($i(c))continue;const h=t[c];let d;r&&Nt(r,d=Je(c))?!i||!i.includes(d)?n[d]=h:(l||(l={}))[d]=h:dl(e.emitsOptions,c)||(!(c in s)||h!==s[c])&&(s[c]=h,o=!0)}if(i){const c=Ot(n),h=l||Mt;for(let d=0;d<i.length;d++){const p=i[d];n[p]=tu(r,c,p,h[p],e,!Nt(h,p))}}return o}function tu(e,t,n,s,r,i){const o=e[n];if(o!=null){const l=Nt(o,"default");if(l&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&gt(c)){const{propsDefaults:h}=r;if(n in h)s=h[n];else{const d=vo(r);s=h[n]=c.call(null,t),d()}}else s=c;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!l?s=!1:o[1]&&(s===""||s===ar(n))&&(s=!0))}return s}const Ab=new WeakMap;function zg(e,t,n=!1){const s=n?Ab:t.propsCache,r=s.get(e);if(r)return r;const i=e.props,o={},l=[];let c=!1;if(!gt(e)){const d=p=>{c=!0;const[g,_]=zg(p,t,!0);ie(o,g),_&&l.push(..._)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!i&&!c)return jt(e)&&s.set(e,Dr),Dr;if(ft(i))for(let d=0;d<i.length;d++){const p=Je(i[d]);cf(p)&&(o[p]=Mt)}else if(i)for(const d in i){const p=Je(d);if(cf(p)){const g=i[d],_=o[p]=ft(g)||gt(g)?{type:g}:ie({},g),N=_.type;let R=!1,P=!0;if(ft(N))for(let M=0;M<N.length;++M){const $=N[M],F=gt($)&&$.name;if(F==="Boolean"){R=!0;break}else F==="String"&&(P=!1)}else R=gt(N)&&N.name==="Boolean";_[0]=R,_[1]=P,(R||Nt(_,"default"))&&l.push(p)}}const h=[o,l];return jt(e)&&s.set(e,h),h}function cf(e){return e[0]!=="$"&&!$i(e)}const Gg=e=>e[0]==="_"||e==="$stable",th=e=>ft(e)?e.map(fn):[fn(e)],Ib=(e,t,n)=>{if(t._n)return t;const s=pn((...r)=>th(t(...r)),n);return s._c=!1,s},Qg=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Gg(r))continue;const i=e[r];if(gt(i))t[r]=Ib(r,i,s);else if(i!=null){const o=th(i);t[r]=()=>o}}},Yg=(e,t)=>{const n=th(t);e.slots.default=()=>n},Xg=(e,t,n)=>{for(const s in t)(n||s!=="_")&&(e[s]=t[s])},Sb=(e,t,n)=>{const s=e.slots=Kg();if(e.vnode.shapeFlag&32){const r=t._;r?(Xg(s,t,n),n&&lg(s,"_",r,!0)):Qg(t,s)}else t&&Yg(e,t)},Cb=(e,t,n)=>{const{vnode:s,slots:r}=e;let i=!0,o=Mt;if(s.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:Xg(r,t,n):(i=!t.$stable,Qg(t,r)),o=t}else t&&(Yg(e,t),o={default:1});if(i)for(const l in r)!Gg(l)&&o[l]==null&&delete r[l]},$e=Bb;function Rb(e){return Pb(e)}function Pb(e,t){const n=al();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:l,createComment:c,setText:h,setElementText:d,parentNode:p,nextSibling:g,setScopeId:_=gn,insertStaticContent:N}=e,R=(y,b,D,B=null,V=null,H=null,Y=void 0,q=null,W=!!b.dynamicChildren)=>{if(y===b)return;y&&!Pi(y,b)&&(B=L(y),Dt(y,V,H,!0),y=null),b.patchFlag===-2&&(W=!1,b.dynamicChildren=null);const{type:K,ref:it,shapeFlag:X}=b;switch(K){case fl:P(y,b,D,B);break;case tr:M(y,b,D,B);break;case pa:y==null&&$(b,D,B,Y);break;case Jt:C(y,b,D,B,V,H,Y,q,W);break;default:X&1?Z(y,b,D,B,V,H,Y,q,W):X&6?T(y,b,D,B,V,H,Y,q,W):(X&64||X&128)&&K.process(y,b,D,B,V,H,Y,q,W,st)}it!=null&&V&&Da(it,y&&y.ref,H,b||y,!b)},P=(y,b,D,B)=>{if(y==null)s(b.el=l(b.children),D,B);else{const V=b.el=y.el;b.children!==y.children&&h(V,b.children)}},M=(y,b,D,B)=>{y==null?s(b.el=c(b.children||""),D,B):b.el=y.el},$=(y,b,D,B)=>{[y.el,y.anchor]=N(y.children,b,D,B,y.el,y.anchor)},F=({el:y,anchor:b},D,B)=>{let V;for(;y&&y!==b;)V=g(y),s(y,D,B),y=V;s(b,D,B)},x=({el:y,anchor:b})=>{let D;for(;y&&y!==b;)D=g(y),r(y),y=D;r(b)},Z=(y,b,D,B,V,H,Y,q,W)=>{b.type==="svg"?Y="svg":b.type==="math"&&(Y="mathml"),y==null?tt(b,D,B,V,H,Y,q,W):E(y,b,V,H,Y,q,W)},tt=(y,b,D,B,V,H,Y,q)=>{let W,K;const{props:it,shapeFlag:X,transition:rt,dirs:nt}=y;if(W=y.el=o(y.type,H,it&&it.is,it),X&8?d(W,y.children):X&16&&v(y.children,W,null,B,V,lc(y,H),Y,q),nt&&Bs(y,null,B,"created"),w(W,y,y.scopeId,Y,B),it){for(const bt in it)bt!=="value"&&!$i(bt)&&i(W,bt,null,it[bt],H,B);"value"in it&&i(W,"value",null,it.value,H),(K=it.onVnodeBeforeMount)&&un(K,B,y)}nt&&Bs(y,null,B,"beforeMount");const at=Ob(V,rt);at&&rt.beforeEnter(W),s(W,b,D),((K=it&&it.onVnodeMounted)||at||nt)&&$e(()=>{K&&un(K,B,y),at&&rt.enter(W),nt&&Bs(y,null,B,"mounted")},V)},w=(y,b,D,B,V)=>{if(D&&_(y,D),B)for(let H=0;H<B.length;H++)_(y,B[H]);if(V){let H=V.subTree;if(b===H||s_(H.type)&&(H.ssContent===b||H.ssFallback===b)){const Y=V.vnode;w(y,Y,Y.scopeId,Y.slotScopeIds,V.parent)}}},v=(y,b,D,B,V,H,Y,q,W=0)=>{for(let K=W;K<y.length;K++){const it=y[K]=q?as(y[K]):fn(y[K]);R(null,it,b,D,B,V,H,Y,q)}},E=(y,b,D,B,V,H,Y)=>{const q=b.el=y.el;let{patchFlag:W,dynamicChildren:K,dirs:it}=b;W|=y.patchFlag&16;const X=y.props||Mt,rt=b.props||Mt;let nt;if(D&&js(D,!1),(nt=rt.onVnodeBeforeUpdate)&&un(nt,D,b,y),it&&Bs(b,y,D,"beforeUpdate"),D&&js(D,!0),(X.innerHTML&&rt.innerHTML==null||X.textContent&&rt.textContent==null)&&d(q,""),K?A(y.dynamicChildren,K,q,D,B,lc(b,V),H):Y||vt(y,b,q,null,D,B,lc(b,V),H,!1),W>0){if(W&16)S(q,X,rt,D,V);else if(W&2&&X.class!==rt.class&&i(q,"class",null,rt.class,V),W&4&&i(q,"style",X.style,rt.style,V),W&8){const at=b.dynamicProps;for(let bt=0;bt<at.length;bt++){const Ct=at[bt],fe=X[Ct],se=rt[Ct];(se!==fe||Ct==="value")&&i(q,Ct,fe,se,V,D)}}W&1&&y.children!==b.children&&d(q,b.children)}else!Y&&K==null&&S(q,X,rt,D,V);((nt=rt.onVnodeUpdated)||it)&&$e(()=>{nt&&un(nt,D,b,y),it&&Bs(b,y,D,"updated")},B)},A=(y,b,D,B,V,H,Y)=>{for(let q=0;q<b.length;q++){const W=y[q],K=b[q],it=W.el&&(W.type===Jt||!Pi(W,K)||W.shapeFlag&70)?p(W.el):D;R(W,K,it,null,B,V,H,Y,!0)}},S=(y,b,D,B,V)=>{if(b!==D){if(b!==Mt)for(const H in b)!$i(H)&&!(H in D)&&i(y,H,b[H],null,V,B);for(const H in D){if($i(H))continue;const Y=D[H],q=b[H];Y!==q&&H!=="value"&&i(y,H,q,Y,V,B)}"value"in D&&i(y,"value",b.value,D.value,V)}},C=(y,b,D,B,V,H,Y,q,W)=>{const K=b.el=y?y.el:l(""),it=b.anchor=y?y.anchor:l("");let{patchFlag:X,dynamicChildren:rt,slotScopeIds:nt}=b;nt&&(q=q?q.concat(nt):nt),y==null?(s(K,D,B),s(it,D,B),v(b.children||[],D,it,V,H,Y,q,W)):X>0&&X&64&&rt&&y.dynamicChildren?(A(y.dynamicChildren,rt,D,V,H,Y,q),(b.key!=null||V&&b===V.subTree)&&Jg(y,b,!0)):vt(y,b,D,it,V,H,Y,q,W)},T=(y,b,D,B,V,H,Y,q,W)=>{b.slotScopeIds=q,y==null?b.shapeFlag&512?V.ctx.activate(b,D,B,Y,W):Ht(b,D,B,V,H,Y,W):Qt(y,b,W)},Ht=(y,b,D,B,V,H,Y)=>{const q=y.component=Gb(y,B,V);if($g(y)&&(q.ctx.renderer=st),Qb(q,!1,Y),q.asyncDep){if(V&&V.registerDep(q,Tt,Y),!y.el){const W=q.subTree=Bt(tr);M(null,W,b,D)}}else Tt(q,y,b,D,V,H,Y)},Qt=(y,b,D)=>{const B=b.component=y.component;if(Fb(y,b,D))if(B.asyncDep&&!B.asyncResolved){ht(B,b,D);return}else B.next=b,B.update();else b.el=y.el,B.vnode=b},Tt=(y,b,D,B,V,H,Y)=>{const q=()=>{if(y.isMounted){let{next:X,bu:rt,u:nt,parent:at,vnode:bt}=y;{const pe=Zg(y);if(pe){X&&(X.el=bt.el,ht(y,X,Y)),pe.asyncDep.then(()=>{y.isUnmounted||q()});return}}let Ct=X,fe;js(y,!1),X?(X.el=bt.el,ht(y,X,Y)):X=bt,rt&&ha(rt),(fe=X.props&&X.props.onVnodeBeforeUpdate)&&un(fe,at,X,bt),js(y,!0);const se=cc(y),oe=y.subTree;y.subTree=se,R(oe,se,p(oe.el),L(oe),y,V,H),X.el=se.el,Ct===null&&Ub(y,se.el),nt&&$e(nt,V),(fe=X.props&&X.props.onVnodeUpdated)&&$e(()=>un(fe,at,X,bt),V)}else{let X;const{el:rt,props:nt}=b,{bm:at,m:bt,parent:Ct,root:fe,type:se}=y,oe=Bi(b);if(js(y,!1),at&&ha(at),!oe&&(X=nt&&nt.onVnodeBeforeMount)&&un(X,Ct,b),js(y,!0),rt&&kt){const pe=()=>{y.subTree=cc(y),kt(rt,y.subTree,y,V,null)};oe&&se.__asyncHydrate?se.__asyncHydrate(rt,y,pe):pe()}else{fe.ce&&fe.ce._injectChildStyle(se);const pe=y.subTree=cc(y);R(null,pe,D,B,y,V,H),b.el=pe.el}if(bt&&$e(bt,V),!oe&&(X=nt&&nt.onVnodeMounted)){const pe=b;$e(()=>un(X,Ct,pe),V)}(b.shapeFlag&256||Ct&&Bi(Ct.vnode)&&Ct.vnode.shapeFlag&256)&&y.a&&$e(y.a,V),y.isMounted=!0,b=D=B=null}};y.scope.on();const W=y.effect=new dg(q);y.scope.off();const K=y.update=W.run.bind(W),it=y.job=W.runIfDirty.bind(W);it.i=y,it.id=y.uid,W.scheduler=()=>Xu(it),js(y,!0),K()},ht=(y,b,D)=>{b.component=y;const B=y.vnode.props;y.vnode=b,y.next=null,wb(y,b.props,B,D),Cb(y,b.children,D),Ds(),nf(y),ks()},vt=(y,b,D,B,V,H,Y,q,W=!1)=>{const K=y&&y.children,it=y?y.shapeFlag:0,X=b.children,{patchFlag:rt,shapeFlag:nt}=b;if(rt>0){if(rt&128){he(K,X,D,B,V,H,Y,q,W);return}else if(rt&256){Wt(K,X,D,B,V,H,Y,q,W);return}}nt&8?(it&16&&Yt(K,V,H),X!==K&&d(D,X)):it&16?nt&16?he(K,X,D,B,V,H,Y,q,W):Yt(K,V,H,!0):(it&8&&d(D,""),nt&16&&v(X,D,B,V,H,Y,q,W))},Wt=(y,b,D,B,V,H,Y,q,W)=>{y=y||Dr,b=b||Dr;const K=y.length,it=b.length,X=Math.min(K,it);let rt;for(rt=0;rt<X;rt++){const nt=b[rt]=W?as(b[rt]):fn(b[rt]);R(y[rt],nt,D,null,V,H,Y,q,W)}K>it?Yt(y,V,H,!0,!1,X):v(b,D,B,V,H,Y,q,W,X)},he=(y,b,D,B,V,H,Y,q,W)=>{let K=0;const it=b.length;let X=y.length-1,rt=it-1;for(;K<=X&&K<=rt;){const nt=y[K],at=b[K]=W?as(b[K]):fn(b[K]);if(Pi(nt,at))R(nt,at,D,null,V,H,Y,q,W);else break;K++}for(;K<=X&&K<=rt;){const nt=y[X],at=b[rt]=W?as(b[rt]):fn(b[rt]);if(Pi(nt,at))R(nt,at,D,null,V,H,Y,q,W);else break;X--,rt--}if(K>X){if(K<=rt){const nt=rt+1,at=nt<it?b[nt].el:B;for(;K<=rt;)R(null,b[K]=W?as(b[K]):fn(b[K]),D,at,V,H,Y,q,W),K++}}else if(K>rt)for(;K<=X;)Dt(y[K],V,H,!0),K++;else{const nt=K,at=K,bt=new Map;for(K=at;K<=rt;K++){const Se=b[K]=W?as(b[K]):fn(b[K]);Se.key!=null&&bt.set(Se.key,K)}let Ct,fe=0;const se=rt-at+1;let oe=!1,pe=0;const Zn=new Array(se);for(K=0;K<se;K++)Zn[K]=0;for(K=nt;K<=X;K++){const Se=y[K];if(fe>=se){Dt(Se,V,H,!0);continue}let qe;if(Se.key!=null)qe=bt.get(Se.key);else for(Ct=at;Ct<=rt;Ct++)if(Zn[Ct-at]===0&&Pi(Se,b[Ct])){qe=Ct;break}qe===void 0?Dt(Se,V,H,!0):(Zn[qe-at]=K+1,qe>=pe?pe=qe:oe=!0,R(Se,b[qe],D,null,V,H,Y,q,W),fe++)}const dr=oe?Nb(Zn):Dr;for(Ct=dr.length-1,K=se-1;K>=0;K--){const Se=at+K,qe=b[Se],fr=Se+1<it?b[Se+1].el:B;Zn[K]===0?R(null,qe,D,fr,V,H,Y,q,W):oe&&(Ct<0||K!==dr[Ct]?de(qe,D,fr,2):Ct--)}}},de=(y,b,D,B,V=null)=>{const{el:H,type:Y,transition:q,children:W,shapeFlag:K}=y;if(K&6){de(y.component.subTree,b,D,B);return}if(K&128){y.suspense.move(b,D,B);return}if(K&64){Y.move(y,b,D,st);return}if(Y===Jt){s(H,b,D);for(let X=0;X<W.length;X++)de(W[X],b,D,B);s(y.anchor,b,D);return}if(Y===pa){F(y,b,D);return}if(B!==2&&K&1&&q)if(B===0)q.beforeEnter(H),s(H,b,D),$e(()=>q.enter(H),V);else{const{leave:X,delayLeave:rt,afterLeave:nt}=q,at=()=>s(H,b,D),bt=()=>{X(H,()=>{at(),nt&&nt()})};rt?rt(H,at,bt):bt()}else s(H,b,D)},Dt=(y,b,D,B=!1,V=!1)=>{const{type:H,props:Y,ref:q,children:W,dynamicChildren:K,shapeFlag:it,patchFlag:X,dirs:rt,cacheIndex:nt}=y;if(X===-2&&(V=!1),q!=null&&Da(q,null,D,y,!0),nt!=null&&(b.renderCache[nt]=void 0),it&256){b.ctx.deactivate(y);return}const at=it&1&&rt,bt=!Bi(y);let Ct;if(bt&&(Ct=Y&&Y.onVnodeBeforeUnmount)&&un(Ct,b,y),it&6)te(y.component,D,B);else{if(it&128){y.suspense.unmount(D,B);return}at&&Bs(y,null,b,"beforeUnmount"),it&64?y.type.remove(y,b,D,st,B):K&&!K.hasOnce&&(H!==Jt||X>0&&X&64)?Yt(K,b,D,!1,!0):(H===Jt&&X&384||!V&&it&16)&&Yt(W,b,D),B&&Lt(y)}(bt&&(Ct=Y&&Y.onVnodeUnmounted)||at)&&$e(()=>{Ct&&un(Ct,b,y),at&&Bs(y,null,b,"unmounted")},D)},Lt=y=>{const{type:b,el:D,anchor:B,transition:V}=y;if(b===Jt){Ie(D,B);return}if(b===pa){x(y);return}const H=()=>{r(D),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(y.shapeFlag&1&&V&&!V.persisted){const{leave:Y,delayLeave:q}=V,W=()=>Y(D,H);q?q(y.el,H,W):W()}else H()},Ie=(y,b)=>{let D;for(;y!==b;)D=g(y),r(y),y=D;r(b)},te=(y,b,D)=>{const{bum:B,scope:V,job:H,subTree:Y,um:q,m:W,a:K}=y;uf(W),uf(K),B&&ha(B),V.stop(),H&&(H.flags|=8,Dt(Y,y,b,D)),q&&$e(q,b),$e(()=>{y.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},Yt=(y,b,D,B=!1,V=!1,H=0)=>{for(let Y=H;Y<y.length;Y++)Dt(y[Y],b,D,B,V)},L=y=>{if(y.shapeFlag&6)return L(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const b=g(y.anchor||y.el),D=b&&b[XT];return D?g(D):b};let J=!1;const Q=(y,b,D)=>{y==null?b._vnode&&Dt(b._vnode,null,null,!0):R(b._vnode||null,y,b,null,null,null,D),b._vnode=y,J||(J=!0,nf(),kg(),J=!1)},st={p:R,um:Dt,m:de,r:Lt,mt:Ht,mc:v,pc:vt,pbc:A,n:L,o:e};let yt,kt;return{render:Q,hydrate:yt,createApp:Tb(Q,yt)}}function lc({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function js({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ob(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Jg(e,t,n=!1){const s=e.children,r=t.children;if(ft(s)&&ft(r))for(let i=0;i<s.length;i++){const o=s[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=as(r[i]),l.el=o.el),!n&&l.patchFlag!==-2&&Jg(o,l)),l.type===fl&&(l.el=o.el)}}function Nb(e){const t=e.slice(),n=[0];let s,r,i,o,l;const c=e.length;for(s=0;s<c;s++){const h=e[s];if(h!==0){if(r=n[n.length-1],e[r]<h){t[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,e[n[l]]<h?i=l+1:o=l;h<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function Zg(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Zg(t)}function uf(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Db=Symbol.for("v-scx"),kb=()=>_n(Db);function fa(e,t,n){return t_(e,t,n)}function t_(e,t,n=Mt){const{immediate:s,deep:r,flush:i,once:o}=n,l=ie({},n),c=t&&s||!t&&i!=="post";let h;if(io){if(i==="sync"){const _=kb();h=_.__watcherHandles||(_.__watcherHandles=[])}else if(!c){const _=()=>{};return _.stop=gn,_.resume=gn,_.pause=gn,_}}const d=be;l.call=(_,N,R)=>An(_,d,N,R);let p=!1;i==="post"?l.scheduler=_=>{$e(_,d&&d.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(_,N)=>{N?_():Xu(_)}),l.augmentJob=_=>{t&&(_.flags|=4),p&&(_.flags|=2,d&&(_.id=d.uid,_.i=d))};const g=zT(e,t,l);return io&&(h?h.push(g):c&&g()),g}function xb(e,t,n){const s=this.proxy,r=Zt(e)?e.includes(".")?e_(s,e):()=>s[e]:e.bind(s,s);let i;gt(t)?i=t:(i=t.handler,n=t);const o=vo(this),l=t_(r,i.bind(s),n);return o(),l}function e_(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Lb=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Je(t)}Modifiers`]||e[`${ar(t)}Modifiers`];function Vb(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Mt;let r=n;const i=t.startsWith("update:"),o=i&&Lb(s,t.slice(7));o&&(o.trim&&(r=n.map(d=>Zt(d)?d.trim():d)),o.number&&(r=n.map(qc)));let l,c=s[l=nc(t)]||s[l=nc(Je(t))];!c&&i&&(c=s[l=nc(ar(t))]),c&&An(c,e,6,r);const h=s[l+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,An(h,e,6,r)}}function n_(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const i=e.emits;let o={},l=!1;if(!gt(e)){const c=h=>{const d=n_(h,t,!0);d&&(l=!0,ie(o,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!l?(jt(e)&&s.set(e,null),null):(ft(i)?i.forEach(c=>o[c]=null):ie(o,i),jt(e)&&s.set(e,o),o)}function dl(e,t){return!e||!sl(t)?!1:(t=t.slice(2).replace(/Once$/,""),Nt(e,t[0].toLowerCase()+t.slice(1))||Nt(e,ar(t))||Nt(e,t))}function cc(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:l,emit:c,render:h,renderCache:d,props:p,data:g,setupState:_,ctx:N,inheritAttrs:R}=e,P=Na(e);let M,$;try{if(n.shapeFlag&4){const x=r||s,Z=x;M=fn(h.call(Z,x,d,p,_,g,N)),$=l}else{const x=t;M=fn(x.length>1?x(p,{attrs:l,slots:o,emit:c}):x(p,null)),$=t.props?l:Mb(l)}}catch(x){Hi.length=0,ul(x,e,1),M=Bt(tr)}let F=M;if($&&R!==!1){const x=Object.keys($),{shapeFlag:Z}=F;x.length&&Z&7&&(i&&x.some(Uu)&&($=$b($,i)),F=Hr(F,$,!1,!0))}return n.dirs&&(F=Hr(F,null,!1,!0),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&Ju(F,n.transition),M=F,Na(P),M}const Mb=e=>{let t;for(const n in e)(n==="class"||n==="style"||sl(n))&&((t||(t={}))[n]=e[n]);return t},$b=(e,t)=>{const n={};for(const s in e)(!Uu(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Fb(e,t,n){const{props:s,children:r,component:i}=e,{props:o,children:l,patchFlag:c}=t,h=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?hf(s,o,h):!!o;if(c&8){const d=t.dynamicProps;for(let p=0;p<d.length;p++){const g=d[p];if(o[g]!==s[g]&&!dl(h,g))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?hf(s,o,h):!0:!!o;return!1}function hf(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==e[i]&&!dl(n,i))return!0}return!1}function Ub({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const s_=e=>e.__isSuspense;function Bb(e,t){t&&t.pendingBranch?ft(e)?t.effects.push(...e):t.effects.push(e):YT(e)}const Jt=Symbol.for("v-fgt"),fl=Symbol.for("v-txt"),tr=Symbol.for("v-cmt"),pa=Symbol.for("v-stc"),Hi=[];let Be=null;function dt(e=!1){Hi.push(Be=e?null:[])}function jb(){Hi.pop(),Be=Hi[Hi.length-1]||null}let so=1;function df(e,t=!1){so+=e,e<0&&Be&&t&&(Be.hasOnce=!0)}function r_(e){return e.dynamicChildren=so>0?Be||Dr:null,jb(),so>0&&Be&&Be.push(e),e}function mt(e,t,n,s,r,i){return r_(I(e,t,n,s,r,i,!0))}function eu(e,t,n,s,r){return r_(Bt(e,t,n,s,r,!0))}function xa(e){return e?e.__v_isVNode===!0:!1}function Pi(e,t){return e.type===t.type&&e.key===t.key}const i_=({key:e})=>e??null,ma=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Zt(e)||we(e)||gt(e)?{i:Ue,r:e,k:t,f:!!n}:e:null);function I(e,t=null,n=null,s=0,r=null,i=e===Jt?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&i_(t),ref:t&&ma(t),scopeId:Lg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ue};return l?(eh(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=Zt(n)?8:16),so>0&&!o&&Be&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Be.push(c),c}const Bt=Hb;function Hb(e,t=null,n=null,s=0,r=null,i=!1){if((!e||e===db)&&(e=tr),xa(e)){const l=Hr(e,t,!0);return n&&eh(l,n),so>0&&!i&&Be&&(l.shapeFlag&6?Be[Be.indexOf(e)]=l:Be.push(l)),l.patchFlag=-2,l}if(tw(e)&&(e=e.__vccOpts),t){t=Kb(t);let{class:l,style:c}=t;l&&!Zt(l)&&(t.class=Zi(l)),jt(c)&&(Yu(c)&&!ft(c)&&(c=ie({},c)),t.style=Hu(c))}const o=Zt(e)?1:s_(e)?128:JT(e)?64:jt(e)?4:gt(e)?2:0;return I(e,t,n,s,r,o,i,!0)}function Kb(e){return e?Yu(e)||qg(e)?ie({},e):e:null}function Hr(e,t,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:l,transition:c}=e,h=t?qb(r||{},t):r,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&i_(h),ref:t&&t.ref?n&&i?ft(i)?i.concat(ma(t)):[i,ma(t)]:ma(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Jt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Hr(e.ssContent),ssFallback:e.ssFallback&&Hr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&s&&Ju(d,c.clone(d)),d}function ce(e=" ",t=0){return Bt(fl,null,e,t)}function ro(e,t){const n=Bt(pa,null,e);return n.staticCount=t,n}function xe(e="",t=!1){return t?(dt(),eu(tr,null,e)):Bt(tr,null,e)}function fn(e){return e==null||typeof e=="boolean"?Bt(tr):ft(e)?Bt(Jt,null,e.slice()):xa(e)?as(e):Bt(fl,null,String(e))}function as(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Hr(e)}function eh(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ft(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),eh(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!qg(t)?t._ctx=Ue:r===3&&Ue&&(Ue.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else gt(t)?(t={default:t,_ctx:Ue},n=32):(t=String(t),s&64?(n=16,t=[ce(t)]):n=8);e.children=t,e.shapeFlag|=n}function qb(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Zi([t.class,s.class]));else if(r==="style")t.style=Hu([t.style,s.style]);else if(sl(r)){const i=t[r],o=s[r];o&&i!==o&&!(ft(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=s[r])}return t}function un(e,t,n,s=null){An(e,t,7,[n,s])}const Wb=jg();let zb=0;function Gb(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||Wb,i={uid:zb++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ET(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zg(s,r),emitsOptions:n_(s,r),emit:null,emitted:null,propsDefaults:Mt,inheritAttrs:s.inheritAttrs,ctx:Mt,data:Mt,props:Mt,attrs:Mt,slots:Mt,refs:Mt,setupState:Mt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Vb.bind(null,i),e.ce&&e.ce(i),i}let be=null,La,nu;{const e=al(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};La=t("__VUE_INSTANCE_SETTERS__",n=>be=n),nu=t("__VUE_SSR_SETTERS__",n=>io=n)}const vo=e=>{const t=be;return La(e),e.scope.on(),()=>{e.scope.off(),La(t)}},ff=()=>{be&&be.scope.off(),La(null)};function o_(e){return e.vnode.shapeFlag&4}let io=!1;function Qb(e,t=!1,n=!1){t&&nu(t);const{props:s,children:r}=e.vnode,i=o_(e);bb(e,s,i,t),Sb(e,r,n);const o=i?Yb(e,t):void 0;return t&&nu(!1),o}function Yb(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,pb);const{setup:s}=n;if(s){Ds();const r=e.setupContext=s.length>1?Jb(e):null,i=vo(e),o=_o(s,e,0,[e.props,r]),l=ig(o);if(ks(),i(),(l||e.sp)&&!Bi(e)&&Mg(e),l){if(o.then(ff,ff),t)return o.then(c=>{pf(e,c,t)}).catch(c=>{ul(c,e,0)});e.asyncDep=o}else pf(e,o,t)}else a_(e,t)}function pf(e,t,n){gt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:jt(t)&&(e.setupState=Pg(t)),a_(e,n)}let mf;function a_(e,t,n){const s=e.type;if(!e.render){if(!t&&mf&&!s.render){const r=s.template||Zu(e).template;if(r){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:l,compilerOptions:c}=s,h=ie(ie({isCustomElement:i,delimiters:l},o),c);s.render=mf(r,h)}}e.render=s.render||gn}{const r=vo(e);Ds();try{mb(e)}finally{ks(),r()}}}const Xb={get(e,t){return ye(e,"get",""),e[t]}};function Jb(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Xb),slots:e.slots,emit:e.emit,expose:t}}function pl(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Pg(UT(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ji)return ji[n](e)},has(t,n){return n in t||n in ji}})):e.proxy}function Zb(e,t=!0){return gt(e)?e.displayName||e.name:e.name||t&&e.__name}function tw(e){return gt(e)&&"__vccOpts"in e}const We=(e,t)=>qT(e,t,io);function l_(e,t,n){const s=arguments.length;return s===2?jt(t)&&!ft(t)?xa(t)?Bt(e,null,[t]):Bt(e,t):Bt(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&xa(n)&&(n=[n]),Bt(e,t,n))}const ew="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let su;const gf=typeof window<"u"&&window.trustedTypes;if(gf)try{su=gf.createPolicy("vue",{createHTML:e=>e})}catch{}const c_=su?e=>su.createHTML(e):e=>e,nw="http://www.w3.org/2000/svg",sw="http://www.w3.org/1998/Math/MathML",Mn=typeof document<"u"?document:null,_f=Mn&&Mn.createElement("template"),rw={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?Mn.createElementNS(nw,e):t==="mathml"?Mn.createElementNS(sw,e):n?Mn.createElement(e,{is:n}):Mn.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Mn.createTextNode(e),createComment:e=>Mn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Mn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,i){const o=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{_f.innerHTML=c_(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const l=_f.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},iw=Symbol("_vtc");function ow(e,t,n){const s=e[iw];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const vf=Symbol("_vod"),aw=Symbol("_vsh"),lw=Symbol(""),cw=/(^|;)\s*display\s*:/;function uw(e,t,n){const s=e.style,r=Zt(n);let i=!1;if(n&&!r){if(t)if(Zt(t))for(const o of t.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&ga(s,l,"")}else for(const o in t)n[o]==null&&ga(s,o,"");for(const o in n)o==="display"&&(i=!0),ga(s,o,n[o])}else if(r){if(t!==n){const o=s[lw];o&&(n+=";"+o),s.cssText=n,i=cw.test(n)}}else t&&e.removeAttribute("style");vf in e&&(e[vf]=i?s.display:"",e[aw]&&(s.display="none"))}const yf=/\s*!important$/;function ga(e,t,n){if(ft(n))n.forEach(s=>ga(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=hw(e,t);yf.test(n)?e.setProperty(ar(s),n.replace(yf,""),"important"):e[s]=n}}const Ef=["Webkit","Moz","ms"],uc={};function hw(e,t){const n=uc[t];if(n)return n;let s=Je(t);if(s!=="filter"&&s in e)return uc[t]=s;s=ol(s);for(let r=0;r<Ef.length;r++){const i=Ef[r]+s;if(i in e)return uc[t]=i}return t}const Tf="http://www.w3.org/1999/xlink";function bf(e,t,n,s,r,i=yT(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Tf,t.slice(6,t.length)):e.setAttributeNS(Tf,t,n):n==null||i&&!cg(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Ns(n)?String(n):n)}function wf(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?c_(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=cg(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(r||t)}function br(e,t,n,s){e.addEventListener(t,n,s)}function dw(e,t,n,s){e.removeEventListener(t,n,s)}const Af=Symbol("_vei");function fw(e,t,n,s,r=null){const i=e[Af]||(e[Af]={}),o=i[t];if(s&&o)o.value=s;else{const[l,c]=pw(t);if(s){const h=i[t]=_w(s,r);br(e,l,h,c)}else o&&(dw(e,l,o,c),i[t]=void 0)}}const If=/(?:Once|Passive|Capture)$/;function pw(e){let t;if(If.test(e)){t={};let s;for(;s=e.match(If);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ar(e.slice(2)),t]}let hc=0;const mw=Promise.resolve(),gw=()=>hc||(mw.then(()=>hc=0),hc=Date.now());function _w(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;An(vw(s,n.value),t,5,[s])};return n.value=e,n.attached=gw(),n}function vw(e,t){if(ft(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const Sf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,yw=(e,t,n,s,r,i)=>{const o=r==="svg";t==="class"?ow(e,s,o):t==="style"?uw(e,n,s):sl(t)?Uu(t)||fw(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ew(e,t,s,o))?(wf(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&bf(e,t,s,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Zt(s))?wf(e,Je(t),s,i,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),bf(e,t,s,o))};function Ew(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Sf(t)&&gt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Sf(t)&&Zt(n)?!1:t in e}const Cf=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ft(t)?n=>ha(t,n):t};function Tw(e){e.target.composing=!0}function Rf(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const dc=Symbol("_assign"),Qe={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[dc]=Cf(r);const i=s||r.props&&r.props.type==="number";br(e,t?"change":"input",o=>{if(o.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=qc(l)),e[dc](l)}),n&&br(e,"change",()=>{e.value=e.value.trim()}),t||(br(e,"compositionstart",Tw),br(e,"compositionend",Rf),br(e,"change",Rf))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(e[dc]=Cf(o),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?qc(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||r&&e.value.trim()===c)||(e.value=c))}},bw=["ctrl","shift","alt","meta"],ww={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>bw.some(n=>e[`${n}Key`]&&!t.includes(n))},u_=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...i)=>{for(let o=0;o<t.length;o++){const l=ww[t[o]];if(l&&l(r,t))return}return e(r,...i)})},Aw=ie({patchProp:yw},rw);let Pf;function Iw(){return Pf||(Pf=Rb(Aw))}const Sw=(...e)=>{const t=Iw().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=Rw(s);if(!r)return;const i=t._component;!gt(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,Cw(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function Cw(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Rw(e){return Zt(e)?document.querySelector(e):e}const Pw=()=>{};var Of={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Ow=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const r=e[n++];if(r<128)t[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=e[n++];t[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=e[n++],o=e[n++],l=e[n++],c=((r&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;t[s++]=String.fromCharCode(55296+(c>>10)),t[s++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],o=e[n++];t[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return t.join("")},d_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<e.length;r+=3){const i=e[r],o=r+1<e.length,l=o?e[r+1]:0,c=r+2<e.length,h=c?e[r+2]:0,d=i>>2,p=(i&3)<<4|l>>4;let g=(l&15)<<2|h>>6,_=h&63;c||(_=64,o||(g=64)),s.push(n[d],n[p],n[g],n[_])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(h_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Ow(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<e.length;){const i=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,i==null||l==null||h==null||p==null)throw new Nw;const g=i<<2|l>>4;if(s.push(g),h!==64){const _=l<<4&240|h>>2;if(s.push(_),p!==64){const N=h<<6&192|p;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Nw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dw=function(e){const t=h_(e);return d_.encodeByteArray(t,!0)},Va=function(e){return Dw(e).replace(/\./g,"")},f_=function(e){try{return d_.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=()=>kw().__FIREBASE_DEFAULTS__,Lw=()=>{if(typeof process>"u"||typeof Of>"u")return;const e=Of.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Vw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&f_(e[1]);return t&&JSON.parse(t)},ml=()=>{try{return Pw()||xw()||Lw()||Vw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},p_=e=>{var t,n;return(n=(t=ml())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},m_=e=>{const t=p_(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},g_=()=>{var e;return(e=ml())===null||e===void 0?void 0:e.config},__=e=>{var t;return(t=ml())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Va(JSON.stringify(n)),Va(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $w(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function Fw(){var e;const t=(e=ml())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bw(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function jw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hw(){const e=Ae();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Kw(){return!Fw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qw(){try{return typeof indexedDB=="object"}catch{return!1}}function Ww(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;t(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="FirebaseError";class On extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=zw,Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yo.prototype.create)}}class yo{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},r=`${this.service}/${t}`,i=this.errors[t],o=i?Gw(i,s):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new On(r,l,s)}}function Gw(e,t){return e.replace(Qw,(n,s)=>{const r=t[s];return r!=null?String(r):`<${s}?>`})}const Qw=/\{\$([^}]+)}/g;function Yw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function er(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const r of n){if(!s.includes(r))return!1;const i=e[r],o=t[r];if(Nf(i)&&Nf(o)){if(!er(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Nf(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Xw(e,t){const n=new Jw(e,t);return n.subscribe.bind(n)}class Jw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let r;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Zw(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:s},r.next===void 0&&(r.next=fc),r.error===void 0&&(r.error=fc),r.complete===void 0&&(r.complete=fc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zw(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function fc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(e){return e&&e._delegate?e._delegate:e}class Ts{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Mw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nA(t))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(t=Ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ks){return this.instances.has(t)}getOptions(t=Ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&o.resolve(r)}return r}onInit(t,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eA(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ks){return this.component?this.component.multipleInstances?t:Ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eA(e){return e===Ks?void 0:e}function nA(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new tA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Et||(Et={}));const rA={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},iA=Et.INFO,oA={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},aA=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),r=oA[t];if(r)console[r](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class nh{constructor(t){this.name=t,this._logLevel=iA,this._logHandler=aA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Et))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...t),this._logHandler(this,Et.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...t),this._logHandler(this,Et.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...t),this._logHandler(this,Et.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...t),this._logHandler(this,Et.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...t),this._logHandler(this,Et.ERROR,...t)}}const lA=(e,t)=>t.some(n=>e instanceof n);let Df,kf;function cA(){return Df||(Df=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uA(){return kf||(kf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y_=new WeakMap,ru=new WeakMap,E_=new WeakMap,pc=new WeakMap,sh=new WeakMap;function hA(e){const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(ms(e.result)),r()},o=()=>{s(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&y_.set(n,e)}).catch(()=>{}),sh.set(t,e),t}function dA(e){if(ru.has(e))return;const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});ru.set(e,t)}let iu={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ru.get(e);if(t==="objectStoreNames")return e.objectStoreNames||E_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function fA(e){iu=e(iu)}function pA(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(mc(this),t,...n);return E_.set(s,t.sort?t.sort():[t]),ms(s)}:uA().includes(e)?function(...t){return e.apply(mc(this),t),ms(y_.get(this))}:function(...t){return ms(e.apply(mc(this),t))}}function mA(e){return typeof e=="function"?pA(e):(e instanceof IDBTransaction&&dA(e),lA(e,cA())?new Proxy(e,iu):e)}function ms(e){if(e instanceof IDBRequest)return hA(e);if(pc.has(e))return pc.get(e);const t=mA(e);return t!==e&&(pc.set(e,t),sh.set(t,e)),t}const mc=e=>sh.get(e);function gA(e,t,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(e,t),l=ms(o);return s&&o.addEventListener("upgradeneeded",c=>{s(ms(o.result),c.oldVersion,c.newVersion,ms(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const _A=["get","getKey","getAll","getAllKeys","count"],vA=["put","add","delete","clear"],gc=new Map;function xf(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gc.get(t))return gc.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,r=vA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||_A.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,r?"readwrite":"readonly");let h=c.store;return s&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&c.done]))[0]};return gc.set(t,i),i}fA(e=>({...e,get:(t,n,s)=>xf(t,n)||e.get(t,n,s),has:(t,n)=>!!xf(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function EA(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ou="@firebase/app",Lf="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=new nh("@firebase/app"),TA="@firebase/app-compat",bA="@firebase/analytics-compat",wA="@firebase/analytics",AA="@firebase/app-check-compat",IA="@firebase/app-check",SA="@firebase/auth",CA="@firebase/auth-compat",RA="@firebase/database",PA="@firebase/data-connect",OA="@firebase/database-compat",NA="@firebase/functions",DA="@firebase/functions-compat",kA="@firebase/installations",xA="@firebase/installations-compat",LA="@firebase/messaging",VA="@firebase/messaging-compat",MA="@firebase/performance",$A="@firebase/performance-compat",FA="@firebase/remote-config",UA="@firebase/remote-config-compat",BA="@firebase/storage",jA="@firebase/storage-compat",HA="@firebase/firestore",KA="@firebase/vertexai",qA="@firebase/firestore-compat",WA="firebase",zA="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au="[DEFAULT]",GA={[ou]:"fire-core",[TA]:"fire-core-compat",[wA]:"fire-analytics",[bA]:"fire-analytics-compat",[IA]:"fire-app-check",[AA]:"fire-app-check-compat",[SA]:"fire-auth",[CA]:"fire-auth-compat",[RA]:"fire-rtdb",[PA]:"fire-data-connect",[OA]:"fire-rtdb-compat",[NA]:"fire-fn",[DA]:"fire-fn-compat",[kA]:"fire-iid",[xA]:"fire-iid-compat",[LA]:"fire-fcm",[VA]:"fire-fcm-compat",[MA]:"fire-perf",[$A]:"fire-perf-compat",[FA]:"fire-rc",[UA]:"fire-rc-compat",[BA]:"fire-gcs",[jA]:"fire-gcs-compat",[HA]:"fire-fst",[qA]:"fire-fst-compat",[KA]:"fire-vertex","fire-js":"fire-js",[WA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new Map,QA=new Map,lu=new Map;function Vf(e,t){try{e.container.addComponent(t)}catch(n){Wn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function nr(e){const t=e.name;if(lu.has(t))return Wn.debug(`There were multiple attempts to register component ${t}.`),!1;lu.set(t,e);for(const n of Ma.values())Vf(n,e);for(const n of QA.values())Vf(n,e);return!0}function gl(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ze(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new yo("app","Firebase",YA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=zA;function T_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:au,automaticDataCollectionEnabled:!1},t),r=s.name;if(typeof r!="string"||!r)throw gs.create("bad-app-name",{appName:String(r)});if(n||(n=g_()),!n)throw gs.create("no-options");const i=Ma.get(r);if(i){if(er(n,i.options)&&er(s,i.config))return i;throw gs.create("duplicate-app",{appName:r})}const o=new sA(r);for(const c of lu.values())o.addComponent(c);const l=new XA(n,s,o);return Ma.set(r,l),l}function rh(e=au){const t=Ma.get(e);if(!t&&e===au&&g_())return T_();if(!t)throw gs.create("no-app",{appName:e});return t}function vn(e,t,n){var s;let r=(s=GA[e])!==null&&s!==void 0?s:e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${t}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wn.warn(l.join(" "));return}nr(new Ts(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="firebase-heartbeat-database",ZA=1,oo="firebase-heartbeat-store";let _c=null;function b_(){return _c||(_c=gA(JA,ZA,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(oo)}catch(n){console.warn(n)}}}}).catch(e=>{throw gs.create("idb-open",{originalErrorMessage:e.message})})),_c}async function tI(e){try{const n=(await b_()).transaction(oo),s=await n.objectStore(oo).get(w_(e));return await n.done,s}catch(t){if(t instanceof On)Wn.warn(t.message);else{const n=gs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Wn.warn(n.message)}}}async function Mf(e,t){try{const s=(await b_()).transaction(oo,"readwrite");await s.objectStore(oo).put(t,w_(e)),await s.done}catch(n){if(n instanceof On)Wn.warn(n.message);else{const s=gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wn.warn(s.message)}}}function w_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=1024,nI=30;class sI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$f();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>nI){const o=oI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Wn.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$f(),{heartbeatsToSend:s,unsentEntries:r}=rI(this._heartbeatsCache.heartbeats),i=Va(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Wn.warn(n),""}}}function $f(){return new Date().toISOString().substring(0,10)}function rI(e,t=eI){const n=[];let s=e.slice();for(const r of e){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Ff(n)>t){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ff(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class iI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qw()?Ww().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Mf(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Mf(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Ff(e){return Va(JSON.stringify({version:2,heartbeats:e})).length}function oI(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(e){nr(new Ts("platform-logger",t=>new yA(t),"PRIVATE")),nr(new Ts("heartbeat",t=>new sI(t),"PRIVATE")),vn(ou,Lf,e),vn(ou,Lf,"esm2017"),vn("fire-js","")}aI("");var Uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,A_;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(A,S,C){for(var T=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)T[Ht-2]=arguments[Ht];return v.prototype[S].apply(A,T)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(w,v,E){E||(E=0);var A=Array(16);if(typeof v=="string")for(var S=0;16>S;++S)A[S]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(S=0;16>S;++S)A[S]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],S=w.g[2];var C=w.g[3],T=v+(C^E&(S^C))+A[0]+3614090360&4294967295;v=E+(T<<7&4294967295|T>>>25),T=C+(S^v&(E^S))+A[1]+3905402710&4294967295,C=v+(T<<12&4294967295|T>>>20),T=S+(E^C&(v^E))+A[2]+606105819&4294967295,S=C+(T<<17&4294967295|T>>>15),T=E+(v^S&(C^v))+A[3]+3250441966&4294967295,E=S+(T<<22&4294967295|T>>>10),T=v+(C^E&(S^C))+A[4]+4118548399&4294967295,v=E+(T<<7&4294967295|T>>>25),T=C+(S^v&(E^S))+A[5]+1200080426&4294967295,C=v+(T<<12&4294967295|T>>>20),T=S+(E^C&(v^E))+A[6]+2821735955&4294967295,S=C+(T<<17&4294967295|T>>>15),T=E+(v^S&(C^v))+A[7]+4249261313&4294967295,E=S+(T<<22&4294967295|T>>>10),T=v+(C^E&(S^C))+A[8]+1770035416&4294967295,v=E+(T<<7&4294967295|T>>>25),T=C+(S^v&(E^S))+A[9]+2336552879&4294967295,C=v+(T<<12&4294967295|T>>>20),T=S+(E^C&(v^E))+A[10]+4294925233&4294967295,S=C+(T<<17&4294967295|T>>>15),T=E+(v^S&(C^v))+A[11]+2304563134&4294967295,E=S+(T<<22&4294967295|T>>>10),T=v+(C^E&(S^C))+A[12]+1804603682&4294967295,v=E+(T<<7&4294967295|T>>>25),T=C+(S^v&(E^S))+A[13]+4254626195&4294967295,C=v+(T<<12&4294967295|T>>>20),T=S+(E^C&(v^E))+A[14]+2792965006&4294967295,S=C+(T<<17&4294967295|T>>>15),T=E+(v^S&(C^v))+A[15]+1236535329&4294967295,E=S+(T<<22&4294967295|T>>>10),T=v+(S^C&(E^S))+A[1]+4129170786&4294967295,v=E+(T<<5&4294967295|T>>>27),T=C+(E^S&(v^E))+A[6]+3225465664&4294967295,C=v+(T<<9&4294967295|T>>>23),T=S+(v^E&(C^v))+A[11]+643717713&4294967295,S=C+(T<<14&4294967295|T>>>18),T=E+(C^v&(S^C))+A[0]+3921069994&4294967295,E=S+(T<<20&4294967295|T>>>12),T=v+(S^C&(E^S))+A[5]+3593408605&4294967295,v=E+(T<<5&4294967295|T>>>27),T=C+(E^S&(v^E))+A[10]+38016083&4294967295,C=v+(T<<9&4294967295|T>>>23),T=S+(v^E&(C^v))+A[15]+3634488961&4294967295,S=C+(T<<14&4294967295|T>>>18),T=E+(C^v&(S^C))+A[4]+3889429448&4294967295,E=S+(T<<20&4294967295|T>>>12),T=v+(S^C&(E^S))+A[9]+568446438&4294967295,v=E+(T<<5&4294967295|T>>>27),T=C+(E^S&(v^E))+A[14]+3275163606&4294967295,C=v+(T<<9&4294967295|T>>>23),T=S+(v^E&(C^v))+A[3]+4107603335&4294967295,S=C+(T<<14&4294967295|T>>>18),T=E+(C^v&(S^C))+A[8]+1163531501&4294967295,E=S+(T<<20&4294967295|T>>>12),T=v+(S^C&(E^S))+A[13]+2850285829&4294967295,v=E+(T<<5&4294967295|T>>>27),T=C+(E^S&(v^E))+A[2]+4243563512&4294967295,C=v+(T<<9&4294967295|T>>>23),T=S+(v^E&(C^v))+A[7]+1735328473&4294967295,S=C+(T<<14&4294967295|T>>>18),T=E+(C^v&(S^C))+A[12]+2368359562&4294967295,E=S+(T<<20&4294967295|T>>>12),T=v+(E^S^C)+A[5]+4294588738&4294967295,v=E+(T<<4&4294967295|T>>>28),T=C+(v^E^S)+A[8]+2272392833&4294967295,C=v+(T<<11&4294967295|T>>>21),T=S+(C^v^E)+A[11]+1839030562&4294967295,S=C+(T<<16&4294967295|T>>>16),T=E+(S^C^v)+A[14]+4259657740&4294967295,E=S+(T<<23&4294967295|T>>>9),T=v+(E^S^C)+A[1]+2763975236&4294967295,v=E+(T<<4&4294967295|T>>>28),T=C+(v^E^S)+A[4]+1272893353&4294967295,C=v+(T<<11&4294967295|T>>>21),T=S+(C^v^E)+A[7]+4139469664&4294967295,S=C+(T<<16&4294967295|T>>>16),T=E+(S^C^v)+A[10]+3200236656&4294967295,E=S+(T<<23&4294967295|T>>>9),T=v+(E^S^C)+A[13]+681279174&4294967295,v=E+(T<<4&4294967295|T>>>28),T=C+(v^E^S)+A[0]+3936430074&4294967295,C=v+(T<<11&4294967295|T>>>21),T=S+(C^v^E)+A[3]+3572445317&4294967295,S=C+(T<<16&4294967295|T>>>16),T=E+(S^C^v)+A[6]+76029189&4294967295,E=S+(T<<23&4294967295|T>>>9),T=v+(E^S^C)+A[9]+3654602809&4294967295,v=E+(T<<4&4294967295|T>>>28),T=C+(v^E^S)+A[12]+3873151461&4294967295,C=v+(T<<11&4294967295|T>>>21),T=S+(C^v^E)+A[15]+530742520&4294967295,S=C+(T<<16&4294967295|T>>>16),T=E+(S^C^v)+A[2]+3299628645&4294967295,E=S+(T<<23&4294967295|T>>>9),T=v+(S^(E|~C))+A[0]+4096336452&4294967295,v=E+(T<<6&4294967295|T>>>26),T=C+(E^(v|~S))+A[7]+1126891415&4294967295,C=v+(T<<10&4294967295|T>>>22),T=S+(v^(C|~E))+A[14]+2878612391&4294967295,S=C+(T<<15&4294967295|T>>>17),T=E+(C^(S|~v))+A[5]+4237533241&4294967295,E=S+(T<<21&4294967295|T>>>11),T=v+(S^(E|~C))+A[12]+1700485571&4294967295,v=E+(T<<6&4294967295|T>>>26),T=C+(E^(v|~S))+A[3]+2399980690&4294967295,C=v+(T<<10&4294967295|T>>>22),T=S+(v^(C|~E))+A[10]+4293915773&4294967295,S=C+(T<<15&4294967295|T>>>17),T=E+(C^(S|~v))+A[1]+2240044497&4294967295,E=S+(T<<21&4294967295|T>>>11),T=v+(S^(E|~C))+A[8]+1873313359&4294967295,v=E+(T<<6&4294967295|T>>>26),T=C+(E^(v|~S))+A[15]+4264355552&4294967295,C=v+(T<<10&4294967295|T>>>22),T=S+(v^(C|~E))+A[6]+2734768916&4294967295,S=C+(T<<15&4294967295|T>>>17),T=E+(C^(S|~v))+A[13]+1309151649&4294967295,E=S+(T<<21&4294967295|T>>>11),T=v+(S^(E|~C))+A[4]+4149444226&4294967295,v=E+(T<<6&4294967295|T>>>26),T=C+(E^(v|~S))+A[11]+3174756917&4294967295,C=v+(T<<10&4294967295|T>>>22),T=S+(v^(C|~E))+A[2]+718787259&4294967295,S=C+(T<<15&4294967295|T>>>17),T=E+(C^(S|~v))+A[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(S+(T<<21&4294967295|T>>>11))&4294967295,w.g[2]=w.g[2]+S&4294967295,w.g[3]=w.g[3]+C&4294967295}s.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,A=this.B,S=this.h,C=0;C<v;){if(S==0)for(;C<=E;)r(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(A[S++]=w.charCodeAt(C++),S==this.blockSize){r(this,A),S=0;break}}else for(;C<v;)if(A[S++]=w[C++],S==this.blockSize){r(this,A),S=0;break}}this.h=S,this.o+=v},s.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var A=0;32>A;A+=8)w[E++]=this.g[v]>>>A&255;return w};function i(w,v){var E=l;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function o(w,v){this.h=v;for(var E=[],A=!0,S=w.length-1;0<=S;S--){var C=w[S]|0;A&&C==v||(E[S]=C,A=!1)}this.g=E}var l={};function c(w){return-128<=w&&128>w?i(w,function(v){return new o([v|0],0>v?-1:0)}):new o([w|0],0>w?-1:0)}function h(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return P(h(-w));for(var v=[],E=1,A=0;w>=E;A++)v[A]=w/E|0,E*=4294967296;return new o(v,0)}function d(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return P(d(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(v,8)),A=p,S=0;S<w.length;S+=8){var C=Math.min(8,w.length-S),T=parseInt(w.substring(S,S+C),v);8>C?(C=h(Math.pow(v,C)),A=A.j(C).add(h(T))):(A=A.j(E),A=A.add(h(T)))}return A}var p=c(0),g=c(1),_=c(16777216);e=o.prototype,e.m=function(){if(R(this))return-P(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var A=this.i(E);w+=(0<=A?A:4294967296+A)*v,v*=4294967296}return w},e.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N(this))return"0";if(R(this))return"-"+P(this).toString(w);for(var v=h(Math.pow(w,6)),E=this,A="";;){var S=x(E,v).g;E=M(E,S.j(v));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=S,N(E))return C+A;for(;6>C.length;)C="0"+C;A=C+A}},e.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function N(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function R(w){return w.h==-1}e.l=function(w){return w=M(this,w),R(w)?-1:N(w)?0:1};function P(w){for(var v=w.g.length,E=[],A=0;A<v;A++)E[A]=~w.g[A];return new o(E,~w.h).add(g)}e.abs=function(){return R(this)?P(this):this},e.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],A=0,S=0;S<=v;S++){var C=A+(this.i(S)&65535)+(w.i(S)&65535),T=(C>>>16)+(this.i(S)>>>16)+(w.i(S)>>>16);A=T>>>16,C&=65535,T&=65535,E[S]=T<<16|C}return new o(E,E[E.length-1]&-2147483648?-1:0)};function M(w,v){return w.add(P(v))}e.j=function(w){if(N(this)||N(w))return p;if(R(this))return R(w)?P(this).j(P(w)):P(P(this).j(w));if(R(w))return P(this.j(P(w)));if(0>this.l(_)&&0>w.l(_))return h(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],A=0;A<2*v;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var S=0;S<w.g.length;S++){var C=this.i(A)>>>16,T=this.i(A)&65535,Ht=w.i(S)>>>16,Qt=w.i(S)&65535;E[2*A+2*S]+=T*Qt,$(E,2*A+2*S),E[2*A+2*S+1]+=C*Qt,$(E,2*A+2*S+1),E[2*A+2*S+1]+=T*Ht,$(E,2*A+2*S+1),E[2*A+2*S+2]+=C*Ht,$(E,2*A+2*S+2)}for(A=0;A<v;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=v;A<2*v;A++)E[A]=0;return new o(E,0)};function $(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function F(w,v){this.g=w,this.h=v}function x(w,v){if(N(v))throw Error("division by zero");if(N(w))return new F(p,p);if(R(w))return v=x(P(w),v),new F(P(v.g),P(v.h));if(R(v))return v=x(w,P(v)),new F(P(v.g),v.h);if(30<w.g.length){if(R(w)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,A=v;0>=A.l(w);)E=Z(E),A=Z(A);var S=tt(E,1),C=tt(A,1);for(A=tt(A,2),E=tt(E,2);!N(A);){var T=C.add(A);0>=T.l(w)&&(S=S.add(E),C=T),A=tt(A,1),E=tt(E,1)}return v=M(w,S.j(v)),new F(S,v)}for(S=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),C=h(E),T=C.j(v);R(T)||0<T.l(w);)E-=A,C=h(E),T=C.j(v);N(C)&&(C=g),S=S.add(C),w=M(w,T)}return new F(S,w)}e.A=function(w){return x(this,w).h},e.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],A=0;A<v;A++)E[A]=this.i(A)&w.i(A);return new o(E,this.h&w.h)},e.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],A=0;A<v;A++)E[A]=this.i(A)|w.i(A);return new o(E,this.h|w.h)},e.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],A=0;A<v;A++)E[A]=this.i(A)^w.i(A);return new o(E,this.h^w.h)};function Z(w){for(var v=w.g.length+1,E=[],A=0;A<v;A++)E[A]=w.i(A)<<1|w.i(A-1)>>>31;return new o(E,w.h)}function tt(w,v){var E=v>>5;v%=32;for(var A=w.g.length-E,S=[],C=0;C<A;C++)S[C]=0<v?w.i(C+E)>>>v|w.i(C+E+1)<<32-v:w.i(C+E);return new o(S,w.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,A_=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,_s=o}).apply(typeof Uf<"u"?Uf:typeof self<"u"?self:typeof window<"u"?window:{});var Xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I_,xi,S_,_a,cu,C_,R_,P_;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,u,f){return a==Array.prototype||a==Object.prototype||(a[u]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xo=="object"&&Xo];for(var u=0;u<a.length;++u){var f=a[u];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var s=n(this);function r(a,u){if(u)t:{var f=s;a=a.split(".");for(var m=0;m<a.length-1;m++){var O=a[m];if(!(O in f))break t;f=f[O]}a=a[a.length-1],m=f[a],u=u(m),u!=m&&u!=null&&t(f,a,{configurable:!0,writable:!0,value:u})}}function i(a,u){a instanceof String&&(a+="");var f=0,m=!1,O={next:function(){if(!m&&f<a.length){var k=f++;return{value:u(k,a[k]),done:!1}}return m=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}r("Array.prototype.values",function(a){return a||function(){return i(this,function(u,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var u=typeof a;return u=u!="object"?u:a?Array.isArray(a)?"array":u:"null",u=="array"||u=="object"&&typeof a.length=="number"}function h(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function d(a,u,f){return a.call.apply(a.bind,arguments)}function p(a,u,f){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,m),a.apply(u,O)}}return function(){return a.apply(u,arguments)}}function g(a,u,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function _(a,u){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function N(a,u){function f(){}f.prototype=u.prototype,a.aa=u.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(m,O,k){for(var z=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)z[Vt-2]=arguments[Vt];return u.prototype[O].apply(m,z)}}function R(a){const u=a.length;if(0<u){const f=Array(u);for(let m=0;m<u;m++)f[m]=a[m];return f}return[]}function P(a,u){for(let f=1;f<arguments.length;f++){const m=arguments[f];if(c(m)){const O=a.length||0,k=m.length||0;a.length=O+k;for(let z=0;z<k;z++)a[O+z]=m[z]}else a.push(m)}}class M{constructor(u,f){this.i=u,this.j=f,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function $(a){return/^[\s\xa0]*$/.test(a)}function F(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function x(a){return x[" "](a),a}x[" "]=function(){};var Z=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function tt(a,u,f){for(const m in a)u.call(f,a[m],m,a)}function w(a,u){for(const f in a)u.call(void 0,a[f],f,a)}function v(a){const u={};for(const f in a)u[f]=a[f];return u}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(a,u){let f,m;for(let O=1;O<arguments.length;O++){m=arguments[O];for(f in m)a[f]=m[f];for(let k=0;k<E.length;k++)f=E[k],Object.prototype.hasOwnProperty.call(m,f)&&(a[f]=m[f])}}function S(a){var u=1;a=a.split(":");const f=[];for(;0<u&&a.length;)f.push(a.shift()),u--;return a.length&&f.push(a.join(":")),f}function C(a){l.setTimeout(()=>{throw a},0)}function T(){var a=Wt;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class Ht{constructor(){this.h=this.g=null}add(u,f){const m=Qt.get();m.set(u,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Qt=new M(()=>new Tt,a=>a.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(u,f){this.h=u,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,vt=!1,Wt=new Ht,he=()=>{const a=l.Promise.resolve(void 0);ht=()=>{a.then(de)}};var de=()=>{for(var a;a=T();){try{a.h.call(a.g)}catch(f){C(f)}var u=Qt;u.j(a),100>u.h&&(u.h++,a.next=u.g,u.g=a)}vt=!1};function Dt(){this.s=this.s,this.C=this.C}Dt.prototype.s=!1,Dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Lt(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}Lt.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};l.addEventListener("test",f,u),l.removeEventListener("test",f,u)}catch{}return a}();function te(a,u){if(Lt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget){if(Z){t:{try{x(u.nodeName);var O=!0;break t}catch{}O=!1}O||(u=null)}}else f=="mouseover"?u=a.fromElement:f=="mouseout"&&(u=a.toElement);this.relatedTarget=u,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Yt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&te.aa.h.call(this)}}N(te,Lt);var Yt={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),J=0;function Q(a,u,f,m,O){this.listener=a,this.proxy=null,this.src=u,this.type=f,this.capture=!!m,this.ha=O,this.key=++J,this.da=this.fa=!1}function st(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function yt(a){this.src=a,this.g={},this.h=0}yt.prototype.add=function(a,u,f,m,O){var k=a.toString();a=this.g[k],a||(a=this.g[k]=[],this.h++);var z=y(a,u,m,O);return-1<z?(u=a[z],f||(u.fa=!1)):(u=new Q(u,this.src,k,!!m,O),u.fa=f,a.push(u)),u};function kt(a,u){var f=u.type;if(f in a.g){var m=a.g[f],O=Array.prototype.indexOf.call(m,u,void 0),k;(k=0<=O)&&Array.prototype.splice.call(m,O,1),k&&(st(u),a.g[f].length==0&&(delete a.g[f],a.h--))}}function y(a,u,f,m){for(var O=0;O<a.length;++O){var k=a[O];if(!k.da&&k.listener==u&&k.capture==!!f&&k.ha==m)return O}return-1}var b="closure_lm_"+(1e6*Math.random()|0),D={};function B(a,u,f,m,O){if(Array.isArray(u)){for(var k=0;k<u.length;k++)B(a,u[k],f,m,O);return null}return f=rt(f),a&&a[L]?a.K(u,f,h(m)?!!m.capture:!!m,O):V(a,u,f,!1,m,O)}function V(a,u,f,m,O,k){if(!u)throw Error("Invalid event type");var z=h(O)?!!O.capture:!!O,Vt=it(a);if(Vt||(a[b]=Vt=new yt(a)),f=Vt.add(u,f,m,z,k),f.proxy)return f;if(m=H(),f.proxy=m,m.src=a,m.listener=f,a.addEventListener)Ie||(O=z),O===void 0&&(O=!1),a.addEventListener(u.toString(),m,O);else if(a.attachEvent)a.attachEvent(W(u.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function H(){function a(f){return u.call(a.src,a.listener,f)}const u=K;return a}function Y(a,u,f,m,O){if(Array.isArray(u))for(var k=0;k<u.length;k++)Y(a,u[k],f,m,O);else m=h(m)?!!m.capture:!!m,f=rt(f),a&&a[L]?(a=a.i,u=String(u).toString(),u in a.g&&(k=a.g[u],f=y(k,f,m,O),-1<f&&(st(k[f]),Array.prototype.splice.call(k,f,1),k.length==0&&(delete a.g[u],a.h--)))):a&&(a=it(a))&&(u=a.g[u.toString()],a=-1,u&&(a=y(u,f,m,O)),(f=-1<a?u[a]:null)&&q(f))}function q(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[L])kt(u.i,a);else{var f=a.type,m=a.proxy;u.removeEventListener?u.removeEventListener(f,m,a.capture):u.detachEvent?u.detachEvent(W(f),m):u.addListener&&u.removeListener&&u.removeListener(m),(f=it(u))?(kt(f,a),f.h==0&&(f.src=null,u[b]=null)):st(a)}}}function W(a){return a in D?D[a]:D[a]="on"+a}function K(a,u){if(a.da)a=!0;else{u=new te(u,this);var f=a.listener,m=a.ha||a.src;a.fa&&q(a),a=f.call(m,u)}return a}function it(a){return a=a[b],a instanceof yt?a:null}var X="__closure_events_fn_"+(1e9*Math.random()>>>0);function rt(a){return typeof a=="function"?a:(a[X]||(a[X]=function(u){return a.handleEvent(u)}),a[X])}function nt(){Dt.call(this),this.i=new yt(this),this.M=this,this.F=null}N(nt,Dt),nt.prototype[L]=!0,nt.prototype.removeEventListener=function(a,u,f,m){Y(this,a,u,f,m)};function at(a,u){var f,m=a.F;if(m)for(f=[];m;m=m.F)f.push(m);if(a=a.M,m=u.type||u,typeof u=="string")u=new Lt(u,a);else if(u instanceof Lt)u.target=u.target||a;else{var O=u;u=new Lt(m,a),A(u,O)}if(O=!0,f)for(var k=f.length-1;0<=k;k--){var z=u.g=f[k];O=bt(z,m,!0,u)&&O}if(z=u.g=a,O=bt(z,m,!0,u)&&O,O=bt(z,m,!1,u)&&O,f)for(k=0;k<f.length;k++)z=u.g=f[k],O=bt(z,m,!1,u)&&O}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var a=this.i,u;for(u in a.g){for(var f=a.g[u],m=0;m<f.length;m++)st(f[m]);delete a.g[u],a.h--}}this.F=null},nt.prototype.K=function(a,u,f,m){return this.i.add(String(a),u,!1,f,m)},nt.prototype.L=function(a,u,f,m){return this.i.add(String(a),u,!0,f,m)};function bt(a,u,f,m){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();for(var O=!0,k=0;k<u.length;++k){var z=u[k];if(z&&!z.da&&z.capture==f){var Vt=z.listener,ae=z.ha||z.src;z.fa&&kt(a.i,z),O=Vt.call(ae,m)!==!1&&O}}return O&&!m.defaultPrevented}function Ct(a,u,f){if(typeof a=="function")f&&(a=g(a,f));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(a,u||0)}function fe(a){a.g=Ct(()=>{a.g=null,a.i&&(a.i=!1,fe(a))},a.l);const u=a.h;a.h=null,a.m.apply(null,u)}class se extends Dt{constructor(u,f){super(),this.m=u,this.l=f,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:fe(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oe(a){Dt.call(this),this.h=a,this.g={}}N(oe,Dt);var pe=[];function Zn(a){tt(a.g,function(u,f){this.g.hasOwnProperty(f)&&q(u)},a),a.g={}}oe.prototype.N=function(){oe.aa.N.call(this),Zn(this)},oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=l.JSON.stringify,Se=l.JSON.parse,qe=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function fr(){}fr.prototype.h=null;function ld(a){return a.h||(a.h=a.i())}function cd(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jl(){Lt.call(this,"d")}N(jl,Lt);function Hl(){Lt.call(this,"c")}N(Hl,Lt);var Ms={},ud=null;function ko(){return ud=ud||new nt}Ms.La="serverreachability";function hd(a){Lt.call(this,Ms.La,a)}N(hd,Lt);function _i(a){const u=ko();at(u,new hd(u))}Ms.STAT_EVENT="statevent";function dd(a,u){Lt.call(this,Ms.STAT_EVENT,a),this.stat=u}N(dd,Lt);function Ce(a){const u=ko();at(u,new dd(u,a))}Ms.Ma="timingevent";function fd(a,u){Lt.call(this,Ms.Ma,a),this.size=u}N(fd,Lt);function vi(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},u)}function yi(){this.g=!0}yi.prototype.xa=function(){this.g=!1};function UE(a,u,f,m,O,k){a.info(function(){if(a.g)if(k)for(var z="",Vt=k.split("&"),ae=0;ae<Vt.length;ae++){var Rt=Vt[ae].split("=");if(1<Rt.length){var me=Rt[0];Rt=Rt[1];var ge=me.split("_");z=2<=ge.length&&ge[1]=="type"?z+(me+"="+Rt+"&"):z+(me+"=redacted&")}}else z=null;else z=k;return"XMLHTTP REQ ("+m+") [attempt "+O+"]: "+u+`
`+f+`
`+z})}function BE(a,u,f,m,O,k,z){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+O+"]: "+u+`
`+f+`
`+k+" "+z})}function pr(a,u,f,m){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+HE(a,f)+(m?" "+m:"")})}function jE(a,u){a.info(function(){return"TIMEOUT: "+u})}yi.prototype.info=function(){};function HE(a,u){if(!a.g)return u;if(!u)return null;try{var f=JSON.parse(u);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var m=f[a];if(!(2>m.length)){var O=m[1];if(Array.isArray(O)&&!(1>O.length)){var k=O[0];if(k!="noop"&&k!="stop"&&k!="close")for(var z=1;z<O.length;z++)O[z]=""}}}}return dr(f)}catch{return u}}var xo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kl;function Lo(){}N(Lo,fr),Lo.prototype.g=function(){return new XMLHttpRequest},Lo.prototype.i=function(){return{}},Kl=new Lo;function ts(a,u,f,m){this.j=a,this.i=u,this.l=f,this.R=m||1,this.U=new oe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new md}function md(){this.i=null,this.g="",this.h=!1}var gd={},ql={};function Wl(a,u,f){a.L=1,a.v=Fo(kn(u)),a.m=f,a.P=!0,_d(a,null)}function _d(a,u){a.F=Date.now(),Vo(a),a.A=kn(a.v);var f=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),Nd(f.i,"t",m),a.C=0,f=a.j.J,a.h=new md,a.g=Qd(a.j,f?u:null,!a.m),0<a.O&&(a.M=new se(g(a.Y,a,a.g),a.O)),u=a.U,f=a.g,m=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(pe[0]=O.toString()),O=pe);for(var k=0;k<O.length;k++){var z=B(f,O[k],m||u.handleEvent,!1,u.h||u);if(!z)break;u.g[z.key]=z}u=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,u)):(a.u="GET",a.g.ea(a.A,a.u,null,u)),_i(),UE(a.i,a.u,a.A,a.l,a.R,a.m)}ts.prototype.ca=function(a){a=a.target;const u=this.M;u&&xn(a)==3?u.j():this.Y(a)},ts.prototype.Y=function(a){try{if(a==this.g)t:{const ge=xn(this.g);var u=this.g.Ba();const _r=this.g.Z();if(!(3>ge)&&(ge!=3||this.g&&(this.h.h||this.g.oa()||$d(this.g)))){this.J||ge!=4||u==7||(u==8||0>=_r?_i(3):_i(2)),zl(this);var f=this.g.Z();this.X=f;e:if(vd(this)){var m=$d(this.g);a="";var O=m.length,k=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$s(this),Ei(this);var z="";break e}this.h.i=new l.TextDecoder}for(u=0;u<O;u++)this.h.h=!0,a+=this.h.i.decode(m[u],{stream:!(k&&u==O-1)});m.length=0,this.h.g+=a,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=f==200,BE(this.i,this.u,this.A,this.l,this.R,ge,f),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ae=this.g;if((Vt=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Vt)){var Rt=Vt;break e}}Rt=null}if(f=Rt)pr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gl(this,f);else{this.o=!1,this.s=3,Ce(12),$s(this),Ei(this);break t}}if(this.P){f=!0;let nn;for(;!this.J&&this.C<z.length;)if(nn=KE(this,z),nn==ql){ge==4&&(this.s=4,Ce(14),f=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==gd){this.s=4,Ce(15),pr(this.i,this.l,z,"[Invalid Chunk]"),f=!1;break}else pr(this.i,this.l,nn,null),Gl(this,nn);if(vd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ge!=4||z.length!=0||this.h.h||(this.s=1,Ce(16),f=!1),this.o=this.o&&f,!f)pr(this.i,this.l,z,"[Invalid Chunked Response]"),$s(this),Ei(this);else if(0<z.length&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.ba&&!me.M&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),tc(me),me.M=!0,Ce(11))}}else pr(this.i,this.l,z,null),Gl(this,z);ge==4&&$s(this),this.o&&!this.J&&(ge==4?qd(this.j,this):(this.o=!1,Vo(this)))}else aT(this.g),f==400&&0<z.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),$s(this),Ei(this)}}}catch{}finally{}};function vd(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function KE(a,u){var f=a.C,m=u.indexOf(`
`,f);return m==-1?ql:(f=Number(u.substring(f,m)),isNaN(f)?gd:(m+=1,m+f>u.length?ql:(u=u.slice(m,m+f),a.C=m+f,u)))}ts.prototype.cancel=function(){this.J=!0,$s(this)};function Vo(a){a.S=Date.now()+a.I,yd(a,a.I)}function yd(a,u){if(a.B!=null)throw Error("WatchDog timer not null");a.B=vi(g(a.ba,a),u)}function zl(a){a.B&&(l.clearTimeout(a.B),a.B=null)}ts.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(jE(this.i,this.A),this.L!=2&&(_i(),Ce(17)),$s(this),this.s=2,Ei(this)):yd(this,this.S-a)};function Ei(a){a.j.G==0||a.J||qd(a.j,a)}function $s(a){zl(a);var u=a.M;u&&typeof u.ma=="function"&&u.ma(),a.M=null,Zn(a.U),a.g&&(u=a.g,a.g=null,u.abort(),u.ma())}function Gl(a,u){try{var f=a.j;if(f.G!=0&&(f.g==a||Ql(f.h,a))){if(!a.K&&Ql(f.h,a)&&f.G==3){try{var m=f.Da.g.parse(u)}catch{m=null}if(Array.isArray(m)&&m.length==3){var O=m;if(O[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)qo(f),Ho(f);else break t;Zl(f),Ce(18)}}else f.za=O[1],0<f.za-f.T&&37500>O[2]&&f.F&&f.v==0&&!f.C&&(f.C=vi(g(f.Za,f),6e3));if(1>=bd(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Us(f,11)}else if((a.K||f.g==a)&&qo(f),!$(u))for(O=f.Da.g.parse(u),u=0;u<O.length;u++){let Rt=O[u];if(f.T=Rt[0],Rt=Rt[1],f.G==2)if(Rt[0]=="c"){f.K=Rt[1],f.ia=Rt[2];const me=Rt[3];me!=null&&(f.la=me,f.j.info("VER="+f.la));const ge=Rt[4];ge!=null&&(f.Aa=ge,f.j.info("SVER="+f.Aa));const _r=Rt[5];_r!=null&&typeof _r=="number"&&0<_r&&(m=1.5*_r,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;const nn=a.g;if(nn){const zo=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zo){var k=m.h;k.g||zo.indexOf("spdy")==-1&&zo.indexOf("quic")==-1&&zo.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Yl(k,k.h),k.h=null))}if(m.D){const ec=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;ec&&(m.ya=ec,Ft(m.I,m.D,ec))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var z=a;if(m.qa=Gd(m,m.J?m.ia:null,m.W),z.K){wd(m.h,z);var Vt=z,ae=m.L;ae&&(Vt.I=ae),Vt.B&&(zl(Vt),Vo(Vt)),m.g=z}else Hd(m);0<f.i.length&&Ko(f)}else Rt[0]!="stop"&&Rt[0]!="close"||Us(f,7);else f.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Us(f,7):Jl(f):Rt[0]!="noop"&&f.l&&f.l.ta(Rt),f.v=0)}}_i(4)}catch{}}var qE=class{constructor(a,u){this.g=a,this.map=u}};function Ed(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Td(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function bd(a){return a.h?1:a.g?a.g.size:0}function Ql(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function Yl(a,u){a.g?a.g.add(u):a.h=u}function wd(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}Ed.prototype.cancel=function(){if(this.i=Ad(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ad(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let u=a.i;for(const f of a.g.values())u=u.concat(f.D);return u}return R(a.i)}function WE(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var u=[],f=a.length,m=0;m<f;m++)u.push(a[m]);return u}u=[],f=0;for(m in a)u[f++]=a[m];return u}function zE(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var u=[];a=a.length;for(var f=0;f<a;f++)u.push(f);return u}u=[],f=0;for(const m in a)u[f++]=m;return u}}}function Id(a,u){if(a.forEach&&typeof a.forEach=="function")a.forEach(u,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,u,void 0);else for(var f=zE(a),m=WE(a),O=m.length,k=0;k<O;k++)u.call(void 0,m[k],f&&f[k],a)}var Sd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GE(a,u){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var m=a[f].indexOf("="),O=null;if(0<=m){var k=a[f].substring(0,m);O=a[f].substring(m+1)}else k=a[f];u(k,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Fs(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Fs){this.h=a.h,Mo(this,a.j),this.o=a.o,this.g=a.g,$o(this,a.s),this.l=a.l;var u=a.i,f=new wi;f.i=u.i,u.g&&(f.g=new Map(u.g),f.h=u.h),Cd(this,f),this.m=a.m}else a&&(u=String(a).match(Sd))?(this.h=!1,Mo(this,u[1]||"",!0),this.o=Ti(u[2]||""),this.g=Ti(u[3]||"",!0),$o(this,u[4]),this.l=Ti(u[5]||"",!0),Cd(this,u[6]||"",!0),this.m=Ti(u[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}Fs.prototype.toString=function(){var a=[],u=this.j;u&&a.push(bi(u,Rd,!0),":");var f=this.g;return(f||u=="file")&&(a.push("//"),(u=this.o)&&a.push(bi(u,Rd,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(bi(f,f.charAt(0)=="/"?XE:YE,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",bi(f,ZE)),a.join("")};function kn(a){return new Fs(a)}function Mo(a,u,f){a.j=f?Ti(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function $o(a,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);a.s=u}else a.s=null}function Cd(a,u,f){u instanceof wi?(a.i=u,tT(a.i,a.h)):(f||(u=bi(u,JE)),a.i=new wi(u,a.h))}function Ft(a,u,f){a.i.set(u,f)}function Fo(a){return Ft(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ti(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function bi(a,u,f){return typeof a=="string"?(a=encodeURI(a).replace(u,QE),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function QE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Rd=/[#\/\?@]/g,YE=/[#\?:]/g,XE=/[#\?]/g,JE=/[#\?@]/g,ZE=/#/g;function wi(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function es(a){a.g||(a.g=new Map,a.h=0,a.i&&GE(a.i,function(u,f){a.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}e=wi.prototype,e.add=function(a,u){es(this),this.i=null,a=mr(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(u),this.h+=1,this};function Pd(a,u){es(a),u=mr(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function Od(a,u){return es(a),u=mr(a,u),a.g.has(u)}e.forEach=function(a,u){es(this),this.g.forEach(function(f,m){f.forEach(function(O){a.call(u,O,m,this)},this)},this)},e.na=function(){es(this);const a=Array.from(this.g.values()),u=Array.from(this.g.keys()),f=[];for(let m=0;m<u.length;m++){const O=a[m];for(let k=0;k<O.length;k++)f.push(u[m])}return f},e.V=function(a){es(this);let u=[];if(typeof a=="string")Od(this,a)&&(u=u.concat(this.g.get(mr(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)u=u.concat(a[f])}return u},e.set=function(a,u){return es(this),this.i=null,a=mr(this,a),Od(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},e.get=function(a,u){return a?(a=this.V(a),0<a.length?String(a[0]):u):u};function Nd(a,u,f){Pd(a,u),0<f.length&&(a.i=null,a.g.set(mr(a,u),R(f)),a.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],u=Array.from(this.g.keys());for(var f=0;f<u.length;f++){var m=u[f];const k=encodeURIComponent(String(m)),z=this.V(m);for(m=0;m<z.length;m++){var O=k;z[m]!==""&&(O+="="+encodeURIComponent(String(z[m]))),a.push(O)}}return this.i=a.join("&")};function mr(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function tT(a,u){u&&!a.j&&(es(a),a.i=null,a.g.forEach(function(f,m){var O=m.toLowerCase();m!=O&&(Pd(this,m),Nd(this,O,f))},a)),a.j=u}function eT(a,u){const f=new yi;if(l.Image){const m=new Image;m.onload=_(ns,f,"TestLoadImage: loaded",!0,u,m),m.onerror=_(ns,f,"TestLoadImage: error",!1,u,m),m.onabort=_(ns,f,"TestLoadImage: abort",!1,u,m),m.ontimeout=_(ns,f,"TestLoadImage: timeout",!1,u,m),l.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else u(!1)}function nT(a,u){const f=new yi,m=new AbortController,O=setTimeout(()=>{m.abort(),ns(f,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:m.signal}).then(k=>{clearTimeout(O),k.ok?ns(f,"TestPingServer: ok",!0,u):ns(f,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(O),ns(f,"TestPingServer: error",!1,u)})}function ns(a,u,f,m,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),m(f)}catch{}}function sT(){this.g=new qe}function rT(a,u,f){const m=f||"";try{Id(a,function(O,k){let z=O;h(O)&&(z=dr(O)),u.push(m+k+"="+encodeURIComponent(z))})}catch(O){throw u.push(m+"type="+encodeURIComponent("_badmap")),O}}function Uo(a){this.l=a.Ub||null,this.j=a.eb||!1}N(Uo,fr),Uo.prototype.g=function(){return new Bo(this.l,this.j)},Uo.prototype.i=function(a){return function(){return a}}({});function Bo(a,u){nt.call(this),this.D=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Bo,nt),e=Bo.prototype,e.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=u,this.readyState=1,Ii(this)},e.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(u.body=a),(this.D||l).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ai(this)),this.readyState=0},e.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ii(this)),this.g&&(this.readyState=3,Ii(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dd(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dd(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}e.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?Ai(this):Ii(this),this.readyState==3&&Dd(this)}},e.Ra=function(a){this.g&&(this.response=this.responseText=a,Ai(this))},e.Qa=function(a){this.g&&(this.response=a,Ai(this))},e.ga=function(){this.g&&Ai(this)};function Ai(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ii(a)}e.setRequestHeader=function(a,u){this.u.append(a,u)},e.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],u=this.h.entries();for(var f=u.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=u.next();return a.join(`\r
`)};function Ii(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Bo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function kd(a){let u="";return tt(a,function(f,m){u+=m,u+=":",u+=f,u+=`\r
`}),u}function Xl(a,u,f){t:{for(m in f){var m=!1;break t}m=!0}m||(f=kd(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Ft(a,u,f))}function qt(a){nt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(qt,nt);var iT=/^https?$/i,oT=["POST","PUT"];e=qt.prototype,e.Ha=function(a){this.J=a},e.ea=function(a,u,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kl.g(),this.v=this.o?ld(this.o):ld(Kl),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(k){xd(this,k);return}if(a=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var O in m)f.set(O,m[O]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const k of m.keys())f.set(k,m.get(k));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(k=>k.toLowerCase()=="content-type"),O=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(oT,u,void 0))||m||O||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,z]of f)this.g.setRequestHeader(k,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Md(this),this.u=!0,this.g.send(a),this.u=!1}catch(k){xd(this,k)}};function xd(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.m=5,Ld(a),jo(a)}function Ld(a){a.A||(a.A=!0,at(a,"complete"),at(a,"error"))}e.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,at(this,"complete"),at(this,"abort"),jo(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jo(this,!0)),qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vd(this):this.bb())},e.bb=function(){Vd(this)};function Vd(a){if(a.h&&typeof o<"u"&&(!a.v[1]||xn(a)!=4||a.Z()!=2)){if(a.u&&xn(a)==4)Ct(a.Ea,0,a);else if(at(a,"readystatechange"),xn(a)==4){a.h=!1;try{const z=a.Z();t:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var f;if(!(f=u)){var m;if(m=z===0){var O=String(a.D).match(Sd)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),m=!iT.test(O?O.toLowerCase():"")}f=m}if(f)at(a,"complete"),at(a,"success");else{a.m=6;try{var k=2<xn(a)?a.g.statusText:""}catch{k=""}a.l=k+" ["+a.Z()+"]",Ld(a)}}finally{jo(a)}}}}function jo(a,u){if(a.g){Md(a);const f=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,u||at(a,"ready");try{f.onreadystatechange=m}catch{}}}function Md(a){a.I&&(l.clearTimeout(a.I),a.I=null)}e.isActive=function(){return!!this.g};function xn(a){return a.g?a.g.readyState:0}e.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),Se(u)}};function $d(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function aT(a){const u={};a=(a.g&&2<=xn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if($(a[m]))continue;var f=S(a[m]);const O=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const k=u[O]||[];u[O]=k,k.push(f)}w(u,function(m){return m.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(a,u,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||u}function Fd(a){this.Aa=0,this.i=[],this.j=new yi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Si("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Si("baseRetryDelayMs",5e3,a),this.cb=Si("retryDelaySeedMs",1e4,a),this.Wa=Si("forwardChannelMaxRetries",2,a),this.wa=Si("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Ed(a&&a.concurrentRequestLimit),this.Da=new sT,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Fd.prototype,e.la=8,e.G=1,e.connect=function(a,u,f,m){Ce(0),this.W=a,this.H=u||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Gd(this,null,this.W),Ko(this)};function Jl(a){if(Ud(a),a.G==3){var u=a.U++,f=kn(a.I);if(Ft(f,"SID",a.K),Ft(f,"RID",u),Ft(f,"TYPE","terminate"),Ci(a,f),u=new ts(a,a.j,u),u.L=2,u.v=Fo(kn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(u.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=u.v,f=!0),f||(u.g=Qd(u.j,null),u.g.ea(u.v)),u.F=Date.now(),Vo(u)}zd(a)}function Ho(a){a.g&&(tc(a),a.g.cancel(),a.g=null)}function Ud(a){Ho(a),a.u&&(l.clearTimeout(a.u),a.u=null),qo(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Ko(a){if(!Td(a.h)&&!a.s){a.s=!0;var u=a.Ga;ht||he(),vt||(ht(),vt=!0),Wt.add(u,a),a.B=0}}function lT(a,u){return bd(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=u.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=vi(g(a.Ga,a,u),Wd(a,a.B)),a.B++,!0)}e.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const O=new ts(this,this.j,a);let k=this.o;if(this.S&&(k?(k=v(k),A(k,this.S)):k=this.S),this.m!==null||this.O||(O.H=k,k=null),this.P)t:{for(var u=0,f=0;f<this.i.length;f++){e:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break e}m=void 0}if(m===void 0)break;if(u+=m,4096<u){u=f;break t}if(u===4096||f===this.i.length-1){u=f+1;break t}}u=1e3}else u=1e3;u=jd(this,O,u),f=kn(this.I),Ft(f,"RID",a),Ft(f,"CVER",22),this.D&&Ft(f,"X-HTTP-Session-Id",this.D),Ci(this,f),k&&(this.O?u="headers="+encodeURIComponent(String(kd(k)))+"&"+u:this.m&&Xl(f,this.m,k)),Yl(this.h,O),this.Ua&&Ft(f,"TYPE","init"),this.P?(Ft(f,"$req",u),Ft(f,"SID","null"),O.T=!0,Wl(O,f,null)):Wl(O,f,u),this.G=2}}else this.G==3&&(a?Bd(this,a):this.i.length==0||Td(this.h)||Bd(this))};function Bd(a,u){var f;u?f=u.l:f=a.U++;const m=kn(a.I);Ft(m,"SID",a.K),Ft(m,"RID",f),Ft(m,"AID",a.T),Ci(a,m),a.m&&a.o&&Xl(m,a.m,a.o),f=new ts(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),u&&(a.i=u.D.concat(a.i)),u=jd(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Yl(a.h,f),Wl(f,m,u)}function Ci(a,u){a.H&&tt(a.H,function(f,m){Ft(u,m,f)}),a.l&&Id({},function(f,m){Ft(u,m,f)})}function jd(a,u,f){f=Math.min(a.i.length,f);var m=a.l?g(a.l.Na,a.l,a):null;t:{var O=a.i;let k=-1;for(;;){const z=["count="+f];k==-1?0<f?(k=O[0].g,z.push("ofs="+k)):k=0:z.push("ofs="+k);let Vt=!0;for(let ae=0;ae<f;ae++){let Rt=O[ae].g;const me=O[ae].map;if(Rt-=k,0>Rt)k=Math.max(0,O[ae].g-100),Vt=!1;else try{rT(me,z,"req"+Rt+"_")}catch{m&&m(me)}}if(Vt){m=z.join("&");break t}}}return a=a.i.splice(0,f),u.D=a,m}function Hd(a){if(!a.g&&!a.u){a.Y=1;var u=a.Fa;ht||he(),vt||(ht(),vt=!0),Wt.add(u,a),a.v=0}}function Zl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=vi(g(a.Fa,a),Wd(a,a.v)),a.v++,!0)}e.Fa=function(){if(this.u=null,Kd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=vi(g(this.ab,this),a)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),Ho(this),Kd(this))};function tc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Kd(a){a.g=new ts(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var u=kn(a.qa);Ft(u,"RID","rpc"),Ft(u,"SID",a.K),Ft(u,"AID",a.T),Ft(u,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ft(u,"TO",a.ja),Ft(u,"TYPE","xmlhttp"),Ci(a,u),a.m&&a.o&&Xl(u,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Fo(kn(u)),f.m=null,f.P=!0,_d(f,a)}e.Za=function(){this.C!=null&&(this.C=null,Ho(this),Zl(this),Ce(19))};function qo(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function qd(a,u){var f=null;if(a.g==u){qo(a),tc(a),a.g=null;var m=2}else if(Ql(a.h,u))f=u.D,wd(a.h,u),m=1;else return;if(a.G!=0){if(u.o)if(m==1){f=u.m?u.m.length:0,u=Date.now()-u.F;var O=a.B;m=ko(),at(m,new fd(m,f)),Ko(a)}else Hd(a);else if(O=u.s,O==3||O==0&&0<u.X||!(m==1&&lT(a,u)||m==2&&Zl(a)))switch(f&&0<f.length&&(u=a.h,u.i=u.i.concat(f)),O){case 1:Us(a,5);break;case 4:Us(a,10);break;case 3:Us(a,6);break;default:Us(a,2)}}}function Wd(a,u){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*u}function Us(a,u){if(a.j.info("Error code "+u),u==2){var f=g(a.fb,a),m=a.Xa;const O=!m;m=new Fs(m||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Mo(m,"https"),Fo(m),O?eT(m.toString(),f):nT(m.toString(),f)}else Ce(2);a.G=0,a.l&&a.l.sa(u),zd(a),Ud(a)}e.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function zd(a){if(a.G=0,a.ka=[],a.l){const u=Ad(a.h);(u.length!=0||a.i.length!=0)&&(P(a.ka,u),P(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function Gd(a,u,f){var m=f instanceof Fs?kn(f):new Fs(f);if(m.g!="")u&&(m.g=u+"."+m.g),$o(m,m.s);else{var O=l.location;m=O.protocol,u=u?u+"."+O.hostname:O.hostname,O=+O.port;var k=new Fs(null);m&&Mo(k,m),u&&(k.g=u),O&&$o(k,O),f&&(k.l=f),m=k}return f=a.D,u=a.ya,f&&u&&Ft(m,f,u),Ft(m,"VER",a.la),Ci(a,m),m}function Qd(a,u,f){if(u&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Ca&&!a.pa?new qt(new Uo({eb:f})):new qt(a.pa),u.Ha(a.J),u}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yd(){}e=Yd.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Wo(){}Wo.prototype.g=function(a,u){return new Me(a,u)};function Me(a,u){nt.call(this),this.g=new Fd(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(a?a["X-WebChannel-Client-Profile"]=u.va:a={"X-WebChannel-Client-Profile":u.va}),this.g.S=a,(a=u&&u.Sb)&&!$(a)&&(this.g.m=a),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!$(u)&&(this.g.D=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new gr(this)}N(Me,nt),Me.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Me.prototype.close=function(){Jl(this.g)},Me.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=dr(a),a=f);u.i.push(new qE(u.Ya++,a)),u.G==3&&Ko(u)},Me.prototype.N=function(){this.g.l=null,delete this.j,Jl(this.g),delete this.g,Me.aa.N.call(this)};function Xd(a){jl.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){t:{for(const f in u){a=f;break t}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}N(Xd,jl);function Jd(){Hl.call(this),this.status=1}N(Jd,Hl);function gr(a){this.g=a}N(gr,Yd),gr.prototype.ua=function(){at(this.g,"a")},gr.prototype.ta=function(a){at(this.g,new Xd(a))},gr.prototype.sa=function(a){at(this.g,new Jd)},gr.prototype.ra=function(){at(this.g,"b")},Wo.prototype.createWebChannel=Wo.prototype.g,Me.prototype.send=Me.prototype.o,Me.prototype.open=Me.prototype.m,Me.prototype.close=Me.prototype.close,P_=function(){return new Wo},R_=function(){return ko()},C_=Ms,cu={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xo.NO_ERROR=0,xo.TIMEOUT=8,xo.HTTP_ERROR=6,_a=xo,pd.COMPLETE="complete",S_=pd,cd.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",nt.prototype.listen=nt.prototype.K,xi=cd,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,I_=qt}).apply(typeof Xo<"u"?Xo:typeof self<"u"?self:typeof window<"u"?window:{});const Bf="@firebase/firestore",jf="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ve.UNAUTHENTICATED=new ve(null),ve.GOOGLE_CREDENTIALS=new ve("google-credentials-uid"),ve.FIRST_PARTY=new ve("first-party-uid"),ve.MOCK_USER=new ve("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let li="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new nh("@firebase/firestore");function wr(){return sr.logLevel}function et(e,...t){if(sr.logLevel<=Et.DEBUG){const n=t.map(ih);sr.debug(`Firestore (${li}): ${e}`,...n)}}function zn(e,...t){if(sr.logLevel<=Et.ERROR){const n=t.map(ih);sr.error(`Firestore (${li}): ${e}`,...n)}}function Kr(e,...t){if(sr.logLevel<=Et.WARN){const n=t.map(ih);sr.warn(`Firestore (${li}): ${e}`,...n)}}function ih(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(e="Unexpected state"){const t=`FIRESTORE (${li}) INTERNAL ASSERTION FAILED: `+e;throw zn(t),new Error(t)}function Kt(e,t){e||_t()}function It(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends On{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ve.UNAUTHENTICATED))}shutdown(){}}class cI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uI{constructor(t){this.t=t,this.currentUser=ve.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vs,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=i;t.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vs)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string"),new O_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string"),new ve(t)}}class hI{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=ve.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class dI{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new hI(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(ve.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hf{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fI{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ze(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0);const s=i=>{i.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,et("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>s(i))};const r=i=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?r(i):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Hf(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Kt(typeof n.token=="string"),this.R=n.token,new Hf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=pI(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=t.charAt(r[i]%62))}return s}}function At(e,t){return e<t?-1:e>t?1:0}function qr(e,t,n){return e.length===t.length&&e.every((s,r)=>n(s,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=-62135596800,qf=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*qf);return new Ve(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Kf)throw new ot(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qf}_compareTo(t){return this.seconds===t.seconds?At(this.nanoseconds,t.nanoseconds):At(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Kf;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(t){return new pt(t)}static min(){return new pt(new Ve(0,0))}static max(){return new pt(new Ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="__name__";class dn{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(),s===void 0?s=t.length-n:s>t.length-n&&_t(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return dn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof dn?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let r=0;r<s;r++){const i=dn.compareSegments(t.get(r),n.get(r));if(i!==0)return i}return Math.sign(t.length-n.length)}static compareSegments(t,n){const s=dn.isNumericId(t),r=dn.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?dn.extractNumericId(t).compare(dn.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _s.fromString(t.substring(4,t.length-2))}}class Ut extends dn{construct(t,n,s){return new Ut(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot(G.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Ut(n)}static emptyPath(){return new Ut([])}}const mI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Oe extends dn{construct(t,n,s){return new Oe(t,n,s)}static isValidIdentifier(t){return mI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Oe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wf}static keyField(){return new Oe([Wf])}static fromServerFormat(t){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new ot(G.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new ot(G.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ot(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=c,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(s+=l,r++):(i(),r++)}if(i(),o)throw new ot(G.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Oe(n)}static emptyPath(){return new Oe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.path=t}static fromPath(t){return new ct(Ut.fromString(t))}static fromName(t){return new ct(Ut.fromString(t).popFirst(5))}static empty(){return new ct(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ut.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ut.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new Ut(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=-1;function gI(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,r=pt.fromTimestamp(s===1e9?new Ve(n+1,0):new Ve(n,s));return new bs(r,ct.empty(),t)}function _I(e){return new bs(e.readTime,e.key,ao)}class bs{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new bs(pt.min(),ct.empty(),ao)}static max(){return new bs(pt.max(),ct.empty(),ao)}}function vI(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ct.comparator(e.documentKey,t.documentKey),n!==0?n:At(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(e){if(e.code!==G.FAILED_PRECONDITION||e.message!==yI)throw e;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new U((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):U.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):U.reject(n)}static resolve(t){return new U((n,s)=>{n(t)})}static reject(t){return new U((n,s)=>{s(t)})}static waitFor(t){return new U((n,s)=>{let r=0,i=0,o=!1;t.forEach(l=>{++r,l.next(()=>{++i,o&&i===r&&n()},c=>s(c))}),o=!0,i===r&&n()})}static or(t){let n=U.resolve(!1);for(const s of t)n=n.next(r=>r?U.resolve(r):s());return n}static forEach(t,n){const s=[];return t.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(t,n){return new U((s,r)=>{const i=t.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const h=c;n(t[h]).next(d=>{o[h]=d,++l,l===i&&s(o)},d=>r(d))}})}static doWhile(t,n){return new U((s,r)=>{const i=()=>{t()===!0?n().next(()=>{i()},r):s()};i()})}}function TI(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ci(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}vl.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=-1;function yl(e){return e==null}function uu(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="";function wI(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=zf(t)),t=AI(e.get(n),t);return zf(t)}function AI(e,t){let n=t;const s=e.length;for(let r=0;r<s;r++){const i=e.charAt(r);switch(i){case"\0":n+="";break;case D_:n+="";break;default:n+=i}}return n}function zf(e){return e+D_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function To(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function II(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t,n){this.comparator=t,this.root=n||le.EMPTY}insert(t,n){return new Gt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,le.BLACK,null,null))}remove(t){return new Gt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,le.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(t,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jo(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jo(this.root,t,this.comparator,!0)}}class Jo{constructor(t,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?s(t.key,n):1,n&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class le{constructor(t,n,s,r,i){this.key=t,this.value=n,this.color=s??le.RED,this.left=r??le.EMPTY,this.right=i??le.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,r,i){return new le(t??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let r=this;const i=s(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return le.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return le.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,le.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const t=this.left.check();if(t!==this.right.check())throw _t();return t+(this.isRed()?0:1)}}le.EMPTY=null,le.RED=!0,le.BLACK=!1;le.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(t,n,s,r,i){return this}insert(t,n,s){return new le(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t){this.comparator=t,this.data=new Gt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qf(this.data.getIterator())}getIteratorFrom(t){return new Qf(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof ne)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ne(this.comparator);return n.data=t,n}}class Qf{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t){this.fields=t,t.sort(Oe.comparator)}static empty(){return new ds([])}unionWith(t){let n=new ne(Oe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new ds(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return qr(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new k_("Invalid base64 string: "+i):i}}(t);return new ue(n)}static fromUint8Array(t){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(t);return new ue(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return At(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ue.EMPTY_BYTE_STRING=new ue("");const SI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(e){if(Kt(!!e),typeof e=="string"){let t=0;const n=SI.exec(e);if(Kt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:zt(e.seconds),nanos:zt(e.nanos)}}function zt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function As(e){return typeof e=="string"?ue.fromBase64String(e):ue.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="server_timestamp",L_="__type__",V_="__previous_value__",M_="__local_write_time__";function oh(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[L_])===null||n===void 0?void 0:n.stringValue)===x_}function El(e){const t=e.mapValue.fields[V_];return oh(t)?El(t):t}function lo(e){const t=ws(e.mapValue.fields[M_].timestampValue);return new Ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t,n,s,r,i,o,l,c,h){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}const $a="(default)";class co{constructor(t,n){this.projectId=t,this.database=n||$a}static empty(){return new co("","")}get isDefaultDatabase(){return this.database===$a}isEqual(t){return t instanceof co&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="__type__",$_="__max__",Zo={mapValue:{fields:{__type__:{stringValue:$_}}}},PI="__vector__",hu="value";function Is(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oh(e)?4:NI(e)?9007199254740991:OI(e)?10:11:_t()}function In(e,t){if(e===t)return!0;const n=Is(e);if(n!==Is(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return lo(e).isEqual(lo(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=ws(r.timestampValue),l=ws(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return As(r.bytesValue).isEqual(As(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return zt(r.geoPointValue.latitude)===zt(i.geoPointValue.latitude)&&zt(r.geoPointValue.longitude)===zt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return zt(r.integerValue)===zt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=zt(r.doubleValue),l=zt(i.doubleValue);return o===l?uu(o)===uu(l):isNaN(o)&&isNaN(l)}return!1}(e,t);case 9:return qr(e.arrayValue.values||[],t.arrayValue.values||[],In);case 10:case 11:return function(r,i){const o=r.mapValue.fields||{},l=i.mapValue.fields||{};if(Gf(o)!==Gf(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!In(o[c],l[c])))return!1;return!0}(e,t);default:return _t()}}function uo(e,t){return(e.values||[]).find(n=>In(n,t))!==void 0}function Wr(e,t){if(e===t)return 0;const n=Is(e),s=Is(t);if(n!==s)return At(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return At(e.booleanValue,t.booleanValue);case 2:return function(i,o){const l=zt(i.integerValue||i.doubleValue),c=zt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(e,t);case 3:return Yf(e.timestampValue,t.timestampValue);case 4:return Yf(lo(e),lo(t));case 5:return At(e.stringValue,t.stringValue);case 6:return function(i,o){const l=As(i),c=As(o);return l.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const d=At(l[h],c[h]);if(d!==0)return d}return At(l.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){const l=At(zt(i.latitude),zt(o.latitude));return l!==0?l:At(zt(i.longitude),zt(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Xf(e.arrayValue,t.arrayValue);case 10:return function(i,o){var l,c,h,d;const p=i.fields||{},g=o.fields||{},_=(l=p[hu])===null||l===void 0?void 0:l.arrayValue,N=(c=g[hu])===null||c===void 0?void 0:c.arrayValue,R=At(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((d=N==null?void 0:N.values)===null||d===void 0?void 0:d.length)||0);return R!==0?R:Xf(_,N)}(e.mapValue,t.mapValue);case 11:return function(i,o){if(i===Zo.mapValue&&o===Zo.mapValue)return 0;if(i===Zo.mapValue)return 1;if(o===Zo.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),h=o.fields||{},d=Object.keys(h);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const g=At(c[p],d[p]);if(g!==0)return g;const _=Wr(l[c[p]],h[d[p]]);if(_!==0)return _}return At(c.length,d.length)}(e.mapValue,t.mapValue);default:throw _t()}}function Yf(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return At(e,t);const n=ws(e),s=ws(t),r=At(n.seconds,s.seconds);return r!==0?r:At(n.nanos,s.nanos)}function Xf(e,t){const n=e.values||[],s=t.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=Wr(n[r],s[r]);if(i)return i}return At(n.length,s.length)}function zr(e){return du(e)}function du(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=ws(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return As(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ct.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=du(i);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const o of s)i?i=!1:r+=",",r+=`${o}:${du(n.fields[o])}`;return r+"}"}(e.mapValue):_t()}function va(e){switch(Is(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=El(e);return t?16+va(t):16;case 5:return 2*e.stringValue.length;case 6:return As(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+va(i),0)}(e.arrayValue);case 10:case 11:return function(s){let r=0;return To(s.fields,(i,o)=>{r+=i.length+va(o)}),r}(e.mapValue);default:throw _t()}}function fu(e){return!!e&&"integerValue"in e}function ah(e){return!!e&&"arrayValue"in e}function Jf(e){return!!e&&"nullValue"in e}function Zf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vc(e){return!!e&&"mapValue"in e}function OI(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[RI])===null||n===void 0?void 0:n.stringValue)===PI}function Ki(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return To(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Ki(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ki(e.arrayValue.values[n]);return t}return Object.assign({},e)}function NI(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===$_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!vc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ki(n)}setAll(t){let n=Oe.emptyPath(),s={},r=[];t.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}o?s[l.lastSegment()]=Ki(o):r.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(t){const n=this.field(t.popLast());vc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return In(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let r=n.mapValue.fields[t.get(s)];vc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,s){To(n,(r,i)=>t[r]=i);for(const r of s)delete t[r]}clone(){return new mn(Ki(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t,n,s,r,i,o,l){this.key=t,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(t){return new Te(t,0,pt.min(),pt.min(),pt.min(),mn.empty(),0)}static newFoundDocument(t,n,s,r){return new Te(t,1,n,pt.min(),s,r,0)}static newNoDocument(t,n){return new Te(t,2,n,pt.min(),pt.min(),mn.empty(),0)}static newUnknownDocument(t,n){return new Te(t,3,n,pt.min(),pt.min(),mn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Te&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Te(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t,n){this.position=t,this.inclusive=n}}function tp(e,t,n){let s=0;for(let r=0;r<e.position.length;r++){const i=t[r],o=e.position[r];if(i.field.isKeyField()?s=ct.comparator(ct.fromName(o.referenceValue),n.key):s=Wr(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function ep(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!In(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,n="asc"){this.field=t,this.dir=n}}function DI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{}class ee extends F_{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new xI(t,n,s):n==="array-contains"?new MI(t,s):n==="in"?new $I(t,s):n==="not-in"?new FI(t,s):n==="array-contains-any"?new UI(t,s):new ee(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new LI(t,s):new VI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wr(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(Wr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sn extends F_{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Sn(t,n)}matches(t){return U_(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function U_(e){return e.op==="and"}function B_(e){return kI(e)&&U_(e)}function kI(e){for(const t of e.filters)if(t instanceof Sn)return!1;return!0}function pu(e){if(e instanceof ee)return e.field.canonicalString()+e.op.toString()+zr(e.value);if(B_(e))return e.filters.map(t=>pu(t)).join(",");{const t=e.filters.map(n=>pu(n)).join(",");return`${e.op}(${t})`}}function j_(e,t){return e instanceof ee?function(s,r){return r instanceof ee&&s.op===r.op&&s.field.isEqual(r.field)&&In(s.value,r.value)}(e,t):e instanceof Sn?function(s,r){return r instanceof Sn&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,o,l)=>i&&j_(o,r.filters[l]),!0):!1}(e,t):void _t()}function H_(e){return e instanceof ee?function(n){return`${n.field.canonicalString()} ${n.op} ${zr(n.value)}`}(e):e instanceof Sn?function(n){return n.op.toString()+" {"+n.getFilters().map(H_).join(" ,")+"}"}(e):"Filter"}class xI extends ee{constructor(t,n,s){super(t,n,s),this.key=ct.fromName(s.referenceValue)}matches(t){const n=ct.comparator(t.key,this.key);return this.matchesComparison(n)}}class LI extends ee{constructor(t,n){super(t,"in",n),this.keys=K_("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class VI extends ee{constructor(t,n){super(t,"not-in",n),this.keys=K_("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function K_(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ct.fromName(s.referenceValue))}class MI extends ee{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ah(n)&&uo(n.arrayValue,this.value)}}class $I extends ee{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&uo(this.value.arrayValue,n)}}class FI extends ee{constructor(t,n){super(t,"not-in",n)}matches(t){if(uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!uo(this.value.arrayValue,n)}}class UI extends ee{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ah(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>uo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t,n=null,s=[],r=[],i=null,o=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=l,this.le=null}}function np(e,t=null,n=[],s=[],r=null,i=null,o=null){return new BI(e,t,n,s,r,i,o)}function lh(e){const t=It(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>pu(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),yl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>zr(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>zr(s)).join(",")),t.le=n}return t.le}function ch(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!DI(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!j_(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ep(e.startAt,t.startAt)&&ep(e.endAt,t.endAt)}function mu(e){return ct.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(t,n=null,s=[],r=[],i=null,o="F",l=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function jI(e,t,n,s,r,i,o,l){return new Tl(e,t,n,s,r,i,o,l)}function uh(e){return new Tl(e)}function sp(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function HI(e){return e.collectionGroup!==null}function qi(e){const t=It(e);if(t.he===null){t.he=[];const n=new Set;for(const i of t.explicitOrderBy)t.he.push(i),n.add(i.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new ne(Oe.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.he.push(new Ua(i,s))}),n.has(Oe.keyField().canonicalString())||t.he.push(new Ua(Oe.keyField(),s))}return t.he}function yn(e){const t=It(e);return t.Pe||(t.Pe=KI(t,qi(e))),t.Pe}function KI(e,t){if(e.limitType==="F")return np(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new Ua(r.field,i)});const n=e.endAt?new Fa(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Fa(e.startAt.position,e.startAt.inclusive):null;return np(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function gu(e,t,n){return new Tl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bl(e,t){return ch(yn(e),yn(t))&&e.limitType===t.limitType}function q_(e){return`${lh(yn(e))}|lt:${e.limitType}`}function Ar(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>H_(r)).join(", ")}]`),yl(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>zr(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>zr(r)).join(",")),`Target(${s})`}(yn(e))}; limitType=${e.limitType})`}function wl(e,t){return t.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):ct.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(e,t)&&function(s,r){for(const i of qi(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(s,r){return!(s.startAt&&!function(o,l,c){const h=tp(o,l,c);return o.inclusive?h<=0:h<0}(s.startAt,qi(s),r)||s.endAt&&!function(o,l,c){const h=tp(o,l,c);return o.inclusive?h>=0:h>0}(s.endAt,qi(s),r))}(e,t)}function qI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function W_(e){return(t,n)=>{let s=!1;for(const r of qi(e)){const i=WI(r,t,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function WI(e,t,n){const s=e.field.isKeyField()?ct.comparator(t.key,n.key):function(i,o,l){const c=o.data.field(i),h=l.data.field(i);return c!==null&&h!==null?Wr(c,h):_t()}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),r=this.inner[s];if(r===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(t){To(this.inner,(n,s)=>{for(const[r,i]of s)t(r,i)})}isEmpty(){return II(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new Gt(ct.comparator);function Ss(){return zI}const z_=new Gt(ct.comparator);function Li(...e){let t=z_;for(const n of e)t=t.insert(n.key,n);return t}function GI(e){let t=z_;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function qs(){return Wi()}function G_(){return Wi()}function Wi(){return new cr(e=>e.toString(),(e,t)=>e.isEqual(t))}const QI=new ne(ct.comparator);function St(...e){let t=QI;for(const n of e)t=t.add(n);return t}const YI=new ne(At);function XI(){return YI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uu(t)?"-0":t}}function ZI(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this._=void 0}}function t0(e,t,n){return e instanceof _u?function(r,i){const o={fields:{[L_]:{stringValue:x_},[M_]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&oh(i)&&(i=El(i)),i&&(o.fields[V_]=i),{mapValue:o}}(n,t):e instanceof Ba?Q_(e,t):e instanceof ja?Y_(e,t):function(r,i){const o=n0(r,i),l=rp(o)+rp(r.Ie);return fu(o)&&fu(r.Ie)?ZI(l):JI(r.serializer,l)}(e,t)}function e0(e,t,n){return e instanceof Ba?Q_(e,t):e instanceof ja?Y_(e,t):n}function n0(e,t){return e instanceof vu?function(s){return fu(s)||function(i){return!!i&&"doubleValue"in i}(s)}(t)?t:{integerValue:0}:null}class _u extends Al{}class Ba extends Al{constructor(t){super(),this.elements=t}}function Q_(e,t){const n=X_(t);for(const s of e.elements)n.some(r=>In(r,s))||n.push(s);return{arrayValue:{values:n}}}class ja extends Al{constructor(t){super(),this.elements=t}}function Y_(e,t){let n=X_(t);for(const s of e.elements)n=n.filter(r=>!In(r,s));return{arrayValue:{values:n}}}class vu extends Al{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function rp(e){return zt(e.integerValue||e.doubleValue)}function X_(e){return ah(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function s0(e,t){return e.field.isEqual(t.field)&&function(s,r){return s instanceof Ba&&r instanceof Ba||s instanceof ja&&r instanceof ja?qr(s.elements,r.elements,In):s instanceof vu&&r instanceof vu?In(s.Ie,r.Ie):s instanceof _u&&r instanceof _u}(e.transform,t.transform)}class Ys{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ys}static exists(t){return new Ys(void 0,t)}static updateTime(t){return new Ys(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ya(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class hh{}function J_(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new i0(e.key,Ys.none()):new dh(e.key,e.data,Ys.none());{const n=e.data,s=mn.empty();let r=new ne(Oe.comparator);for(let i of t.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new Il(e.key,s,new ds(r.toArray()),Ys.none())}}function r0(e,t,n){e instanceof dh?function(r,i,o){const l=r.value.clone(),c=op(r.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):e instanceof Il?function(r,i,o){if(!ya(r.precondition,i))return void i.convertToUnknownDocument(o.version);const l=op(r.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Z_(r)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(e,t,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function zi(e,t,n,s){return e instanceof dh?function(i,o,l,c){if(!ya(i.precondition,o))return l;const h=i.value.clone(),d=ap(i.fieldTransforms,c,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(e,t,n,s):e instanceof Il?function(i,o,l,c){if(!ya(i.precondition,o))return l;const h=ap(i.fieldTransforms,c,o),d=o.data;return d.setAll(Z_(i)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(e,t,n,s):function(i,o,l){return ya(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(e,t,n)}function ip(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&qr(s,r,(i,o)=>s0(i,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class dh extends hh{constructor(t,n,s,r=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Il extends hh{constructor(t,n,s,r,i=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Z_(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function op(e,t,n){const s=new Map;Kt(e.length===n.length);for(let r=0;r<n.length;r++){const i=e[r],o=i.transform,l=t.data.field(i.field);s.set(i.field,e0(o,l,n[r]))}return s}function ap(e,t,n){const s=new Map;for(const r of e){const i=r.transform,o=n.data.field(r.field);s.set(r.field,t0(i,o,t))}return s}class i0 extends hh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,n,s,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(t.key)&&r0(i,t,s[r])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=zi(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=zi(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=G_();return this.mutations.forEach(r=>{const i=t.get(r.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(r.key)?null:l;const c=J_(o,l);c!==null&&s.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(pt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),St())}isEqual(t){return this.batchId===t.batchId&&qr(this.mutations,t.mutations,(n,s)=>ip(n,s))&&qr(this.baseMutations,t.baseMutations,(n,s)=>ip(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,wt;function tv(e){if(e===void 0)return zn("GRPC error has no .code"),G.UNKNOWN;switch(e){case Xt.OK:return G.OK;case Xt.CANCELLED:return G.CANCELLED;case Xt.UNKNOWN:return G.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return G.INTERNAL;case Xt.UNAVAILABLE:return G.UNAVAILABLE;case Xt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Xt.NOT_FOUND:return G.NOT_FOUND;case Xt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Xt.ABORTED:return G.ABORTED;case Xt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Xt.DATA_LOSS:return G.DATA_LOSS;default:return _t()}}(wt=Xt||(Xt={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new _s([4294967295,4294967295],0);function lp(e){const t=c0().encode(e),n=new A_;return n.update(t),new Uint8Array(n.digest())}function cp(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),r=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new _s([n,s],0),new _s([r,i],0)]}class fh{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Vi(`Invalid padding: ${n}`);if(s<0)throw new Vi(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Vi(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Vi(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=_s.fromNumber(this.Ee)}Ae(t,n,s){let r=t.add(n.multiply(_s.fromNumber(s)));return r.compare(u0)===1&&(r=new _s([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=lp(t),[s,r]=cp(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(s,r,i);if(!this.Re(o))return!1}return!0}static create(t,n,s){const r=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new fh(i,r,n);return s.forEach(l=>o.insert(l)),o}insert(t){if(this.Ee===0)return;const n=lp(t),[s,r]=cp(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(s,r,i);this.Ve(o)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Vi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(t,n,s,r,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const r=new Map;return r.set(t,bo.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Sl(pt.min(),r,new Gt(At),Ss(),St())}}class bo{constructor(t,n,s,r,i){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new bo(s,n,St(),St(),St())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t,n,s,r){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=r}}class ev{constructor(t,n){this.targetId=t,this.ge=n}}class nv{constructor(t,n,s=ue.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=r}}class up{constructor(){this.pe=0,this.ye=hp(),this.we=ue.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=St(),n=St(),s=St();return this.ye.forEach((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:_t()}}),new bo(this.we,this.be,t,n,s)}Me(){this.Se=!1,this.ye=hp()}xe(t,n){this.Se=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Kt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class h0{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Ss(),this.$e=ta(),this.Ke=ta(),this.Ue=new Gt(At)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:_t()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,r)=>{this.Je(r)&&n(r)})}Ze(t){const n=t.targetId,s=t.ge.count,r=this.Xe(n);if(r){const i=r.target;if(mu(i))if(s===0){const o=new ct(i.path);this.ze(n,o,Te.newNoDocument(o,pt.min()))}else Kt(s===1);else{const o=this.et(n);if(o!==s){const l=this.tt(t),c=l?this.nt(l,t,o):1;if(c!==0){this.Ye(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,h)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let o,l;try{o=As(s).toUint8Array()}catch(c){if(c instanceof k_)return Kr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new fh(o,r,i)}catch(c){return Kr(c instanceof Vi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ee===0?null:l}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const o=this.ke.it(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.ze(n,i,null),r++)}),r}ot(t){const n=new Map;this.qe.forEach((i,o)=>{const l=this.Xe(o);if(l){if(i.current&&mu(l.target)){const c=new ct(l.target.path);this._t(c).has(o)||this.ut(o,c)||this.ze(o,c,Te.newNoDocument(c,t))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let s=St();this.Ke.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const h=this.Xe(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(t));const r=new Sl(t,n,this.Ue,this.Qe,s);return this.Qe=Ss(),this.$e=ta(),this.Ke=ta(),this.Ue=new Gt(At),r}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const r=this.He(t);this.ut(t,n)?r.xe(n,1):r.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(t)),this.Ke=this.Ke.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new up,this.qe.set(t,n)),n}ct(t){let n=this.Ke.get(t);return n||(n=new ne(At),this.Ke=this.Ke.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new ne(At),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||et("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new up),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function ta(){return new Gt(ct.comparator)}function hp(){return new Gt(ct.comparator)}const d0={asc:"ASCENDING",desc:"DESCENDING"},f0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p0={and:"AND",or:"OR"};class m0{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function yu(e,t){return e.useProto3Json||yl(t)?t:{value:t}}function g0(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _0(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function $r(e){return Kt(!!e),pt.fromTimestamp(function(n){const s=ws(n);return new Ve(s.seconds,s.nanos)}(e))}function v0(e,t){return Eu(e,t).canonicalString()}function Eu(e,t){const n=function(r){return new Ut(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function sv(e){const t=Ut.fromString(e);return Kt(lv(t)),t}function yc(e,t){const n=sv(t);if(n.get(1)!==e.databaseId.projectId)throw new ot(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ot(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ct(iv(n))}function rv(e,t){return v0(e.databaseId,t)}function y0(e){const t=sv(e);return t.length===4?Ut.emptyPath():iv(t)}function dp(e){return new Ut(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iv(e){return Kt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function E0(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:_t()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=function(h,d){return h.useProto3Json?(Kt(d===void 0||typeof d=="string"),ue.fromBase64String(d||"")):(Kt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ue.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(h){const d=h.code===void 0?G.UNKNOWN:tv(h.code);return new ot(d,h.message||"")}(o);n=new nv(s,r,i,l||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const r=yc(e,s.document.name),i=$r(s.document.updateTime),o=s.document.createTime?$r(s.document.createTime):pt.min(),l=new mn({mapValue:{fields:s.document.fields}}),c=Te.newFoundDocument(r,i,o,l),h=s.targetIds||[],d=s.removedTargetIds||[];n=new Ea(h,d,c.key,c)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const r=yc(e,s.document),i=s.readTime?$r(s.readTime):pt.min(),o=Te.newNoDocument(r,i),l=s.removedTargetIds||[];n=new Ea([],l,o.key,o)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const r=yc(e,s.document),i=s.removedTargetIds||[];n=new Ea([],i,r,null)}else{if(!("filter"in t))return _t();{t.filter;const s=t.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new l0(r,i),l=s.targetId;n=new ev(l,o)}}return n}function T0(e,t){return{documents:[rv(e,t.path)]}}function b0(e,t){const n={structuredQuery:{}},s=t.path;let r;t.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=rv(e,r);const i=function(h){if(h.length!==0)return av(Sn.create(h,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(d=>function(g){return{field:Ir(g.field),direction:I0(g.dir)}}(d))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const l=yu(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{ht:n,parent:r}}function w0(e){let t=y0(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Kt(s===1);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let i=[];n.where&&(i=function(p){const g=ov(p);return g instanceof Sn&&B_(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(N){return new Ua(Sr(N.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,yl(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(p){const g=!!p.before,_=p.values||[];return new Fa(_,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,_=p.values||[];return new Fa(_,g)}(n.endAt)),jI(t,r,o,i,l,"F",c,h)}function A0(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function ov(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Sr(n.unaryFilter.field);return ee.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Sr(n.unaryFilter.field);return ee.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Sr(n.unaryFilter.field);return ee.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Sr(n.unaryFilter.field);return ee.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(e):e.fieldFilter!==void 0?function(n){return ee.create(Sr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Sn.create(n.compositeFilter.filters.map(s=>ov(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return _t()}}(n.compositeFilter.op))}(e):_t()}function I0(e){return d0[e]}function S0(e){return f0[e]}function C0(e){return p0[e]}function Ir(e){return{fieldPath:e.canonicalString()}}function Sr(e){return Oe.fromServerFormat(e.fieldPath)}function av(e){return e instanceof ee?function(n){if(n.op==="=="){if(Zf(n.value))return{unaryFilter:{field:Ir(n.field),op:"IS_NAN"}};if(Jf(n.value))return{unaryFilter:{field:Ir(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zf(n.value))return{unaryFilter:{field:Ir(n.field),op:"IS_NOT_NAN"}};if(Jf(n.value))return{unaryFilter:{field:Ir(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ir(n.field),op:S0(n.op),value:n.value}}}(e):e instanceof Sn?function(n){const s=n.getFilters().map(r=>av(r));return s.length===1?s[0]:{compositeFilter:{op:C0(n.op),filters:s}}}(e):_t()}function lv(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,n,s,r,i=pt.min(),o=pt.min(),l=ue.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t){this.Tt=t}}function P0(e){const t=w0({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?gu(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.Tn=new N0}addToCollectionParentIndex(t,n){return this.Tn.add(n),U.resolve()}getCollectionParents(t,n){return U.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return U.resolve()}deleteFieldIndex(t,n){return U.resolve()}deleteAllFieldIndexes(t){return U.resolve()}createTargetIndexes(t,n){return U.resolve()}getDocumentsMatchingTarget(t,n){return U.resolve(null)}getIndexType(t,n){return U.resolve(0)}getFieldIndexes(t,n){return U.resolve([])}getNextCollectionGroupToUpdate(t){return U.resolve(null)}getMinOffset(t,n){return U.resolve(bs.min())}getMinOffsetFromCollectionGroup(t,n){return U.resolve(bs.min())}updateCollectionGroup(t,n,s){return U.resolve()}updateIndexEntries(t,n){return U.resolve()}}class N0{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),r=this.index[n]||new ne(Ut.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(t){const n=t.lastSegment(),s=t.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(t){return(this.index[t]||new ne(Ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cv=41943040;class ke{static withCacheSize(t){return new ke(t,ke.DEFAULT_COLLECTION_PERCENTILE,ke.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ke.DEFAULT_COLLECTION_PERCENTILE=10,ke.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ke.DEFAULT=new ke(cv,ke.DEFAULT_COLLECTION_PERCENTILE,ke.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ke.DISABLED=new ke(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Gr(0)}static Un(){return new Gr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="LruGarbageCollector",D0=1048576;function mp([e,t],[n,s]){const r=At(e,n);return r===0?At(t,s):r}class k0{constructor(t){this.Hn=t,this.buffer=new ne(mp),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();mp(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class x0{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){et(pp,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ci(n)?et(pp,"Ignoring IndexedDB error during garbage collection: ",n):await _l(n)}await this.er(3e5)})}}class L0{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return U.resolve(vl.ae);const s=new k0(n);return this.tr.forEachTarget(t,r=>s.Zn(r.sequenceNumber)).next(()=>this.tr.rr(t,r=>s.Zn(r))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(fp)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fp):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,r,i,o,l,c,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,o=Date.now(),this.nthSequenceNumber(t,r))).next(p=>(s=p,l=Date.now(),this.removeTargets(t,s,n))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(t,s))).next(p=>(h=Date.now(),wr()<=Et.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:p})))}}function V0(e,t){return new L0(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.changes=new cr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Te.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?U.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,n,s,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(s!==null&&zi(s.mutation,r,ds.empty(),Ve.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,St()).next(()=>s))}getLocalViewOfDocuments(t,n,s=St()){const r=qs();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,s).next(i=>{let o=Li();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const s=qs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,St()))}populateOverlays(t,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(t,r).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(t,n,s,r){let i=Ss();const o=Wi(),l=function(){return Wi()}();return n.forEach((c,h)=>{const d=s.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof Il)?i=i.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),zi(d.mutation,h,d.mutation.getFieldMask(),Ve.now())):o.set(h.key,ds.empty())}),this.recalculateAndSaveOverlays(t,i).next(c=>(c.forEach((h,d)=>o.set(h,d)),n.forEach((h,d)=>{var p;return l.set(h,new $0(d,(p=o.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(t,n){const s=Wi();let r=new Gt((o,l)=>o-l),i=St();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let d=s.get(c)||ds.empty();d=l.applyToLocalView(h,d),s.set(c,d);const p=(r.get(l.batchId)||St()).add(c);r=r.insert(l.batchId,p)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,d=c.value,p=G_();d.forEach(g=>{if(!i.has(g)){const _=J_(n.get(g),s.get(g));_!==null&&p.set(g,_),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(t,h,p))}return U.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,r){return function(o){return ct.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):HI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,r):this.getDocumentsMatchingCollectionQuery(t,n,s,r)}getNextDocuments(t,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,r-i.size):U.resolve(qs());let l=ao,c=i;return o.next(h=>U.forEach(h,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(d)?U.resolve():this.remoteDocumentCache.getEntry(t,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(t,h,i)).next(()=>this.computeViews(t,c,h,St())).next(d=>({batchId:l,changes:GI(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ct(n)).next(s=>{let r=Li();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,s,r){const i=n.collectionGroup;let o=Li();return this.indexManager.getCollectionParents(t,i).next(l=>U.forEach(l,c=>{const h=function(p,g){return new Tl(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(t,h,s,r).next(d=>{d.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,i,r))).next(o=>{i.forEach((c,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,Te.newInvalidDocument(d)))});let l=Li();return o.forEach((c,h)=>{const d=i.get(c);d!==void 0&&zi(d.mutation,h,ds.empty(),Ve.now()),wl(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return U.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:$r(r.createTime)}}(n)),U.resolve()}getNamedQuery(t,n){return U.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(r){return{name:r.name,query:P0(r.bundledQuery),readTime:$r(r.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.overlays=new Gt(ct.comparator),this.Rr=new Map}getOverlay(t,n){return U.resolve(this.overlays.get(n))}getOverlays(t,n){const s=qs();return U.forEach(n,r=>this.getOverlay(t,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((r,i)=>{this.Et(t,n,i)}),U.resolve()}removeOverlaysForBatchId(t,n,s){const r=this.Rr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(s)),U.resolve()}getOverlaysForCollection(t,n,s){const r=qs(),i=n.length+1,o=new ct(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return U.resolve(r)}getOverlaysForCollectionGroup(t,n,s,r){let i=new Gt((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>s){let d=i.get(h.largestBatchId);d===null&&(d=qs(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=qs(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return U.resolve(l)}Et(t,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.Rr.get(r.largestBatchId).delete(s.key);this.Rr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new a0(n,s));let i=this.Rr.get(n);i===void 0&&(i=St(),this.Rr.set(n,i)),this.Rr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.sessionToken=ue.EMPTY_BYTE_STRING}getSessionToken(t){return U.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this.Vr=new ne(re.mr),this.gr=new ne(re.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new re(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new re(t,n))}br(t,n){t.forEach(s=>this.removeReference(s,n))}Sr(t){const n=new ct(new Ut([])),s=new re(n,t),r=new re(n,t+1),i=[];return this.gr.forEachInRange([s,r],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new ct(new Ut([])),s=new re(n,t),r=new re(n,t+1);let i=St();return this.gr.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new re(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class re{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return ct.comparator(t.key,n.key)||At(t.Cr,n.Cr)}static pr(t,n){return At(t.Cr,n.Cr)||ct.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new ne(re.mr)}checkEmpty(t){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new o0(i,n,s,r);this.mutationQueue.push(o);for(const l of r)this.Mr=this.Mr.add(new re(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return U.resolve(o)}lookupMutationBatch(t,n){return U.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,r=this.Nr(s),i=r<0?0:r;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?bI:this.Fr-1)}getAllMutationBatches(t){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new re(n,0),r=new re(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([s,r],o=>{const l=this.Or(o.Cr);i.push(l)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new ne(At);return n.forEach(r=>{const i=new re(r,0),o=new re(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],l=>{s=s.add(l.Cr)})}),U.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,r=s.length+1;let i=s;ct.isDocumentKey(i)||(i=i.child(""));const o=new re(new ct(i),0);let l=new ne(At);return this.Mr.forEachWhile(c=>{const h=c.key.path;return!!s.isPrefixOf(h)&&(h.length===r&&(l=l.add(c.Cr)),!0)},o),U.resolve(this.Br(l))}Br(t){const n=[];return t.forEach(s=>{const r=this.Or(s);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Kt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return U.forEach(n.mutations,r=>{const i=new re(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new re(n,0),r=this.Mr.firstAfterOrEqual(s);return U.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,U.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t){this.kr=t,this.docs=function(){return new Gt(ct.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return U.resolve(s?s.document.mutableCopy():Te.newInvalidDocument(n))}getEntries(t,n){let s=Ss();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Te.newInvalidDocument(r))}),U.resolve(s)}getDocumentsMatchingQuery(t,n,s,r){let i=Ss();const o=n.path,l=new ct(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:d}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||vI(_I(d),s)<=0||(r.has(d.key)||wl(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(t,n,s,r){_t()}qr(t,n){return U.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new q0(this)}getSize(t){return U.resolve(this.size)}}class q0 extends M0{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Ir.addEntry(t,r)):this.Ir.removeEntry(s)}),U.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t){this.persistence=t,this.Qr=new cr(n=>lh(n),ch),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ph,this.targetCount=0,this.Ur=Gr.Kn()}forEachTarget(t,n){return this.Qr.forEach((s,r)=>n(r)),U.resolve()}getLastRemoteSnapshotVersion(t){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return U.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),U.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ur=new Gr(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,U.resolve()}updateTargetData(t,n){return this.zn(n),U.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(t,n,s){let r=0;const i=[];return this.Qr.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),U.waitFor(i).next(()=>r)}getTargetCount(t){return U.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return U.resolve(s)}addMatchingKeys(t,n,s){return this.Kr.yr(n,s),U.resolve()}removeMatchingKeys(t,n,s){this.Kr.br(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(t,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.Kr.Sr(n),U.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Kr.vr(n);return U.resolve(s)}containsKey(t,n){return U.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new vl(0),this.zr=!1,this.zr=!0,this.jr=new j0,this.referenceDelegate=t(this),this.Hr=new W0(this),this.indexManager=new O0,this.remoteDocumentCache=function(r){return new K0(r)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new R0(n),this.Yr=new U0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new B0,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new H0(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){et("MemoryPersistence","Starting transaction:",t);const r=new z0(this.Gr.next());return this.referenceDelegate.Zr(),s(r).next(i=>this.referenceDelegate.Xr(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}ei(t,n){return U.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class z0 extends EI{constructor(t){super(),this.currentSequenceNumber=t}}class mh{constructor(t){this.persistence=t,this.ti=new ph,this.ni=null}static ri(t){return new mh(t)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),U.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),U.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),U.resolve()}removeTarget(t,n){this.ti.Sr(n.targetId).forEach(r=>this.ii.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(i=>this.ii.add(i.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.ii,s=>{const r=ct.fromPath(s);return this.si(t,r).next(i=>{i||n.removeEntry(r,pt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return U.or([()=>U.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Ha{constructor(t,n){this.persistence=t,this.oi=new cr(s=>wI(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=V0(this,n)}static ri(t,n){return new Ha(t,n)}Zr(){}Xr(t){return U.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(r=>s+r))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return U.forEach(this.oi,(s,r)=>this.ar(t,s,r).next(i=>i?U.resolve():n(r)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(t,o=>this.ar(t,o,n).next(l=>{l||(s++,i.removeEntry(o,pt.min()))})).next(()=>i.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),U.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),U.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),U.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),U.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=va(t.data.value)),n}ar(t,n,s){return U.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.oi.get(n);return U.resolve(r!==void 0&&r>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,n,s,r){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=r}static Yi(t,n){let s=St(),r=St();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new gh(t,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Kw()?8:TI(Ae())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,r){const i={result:null};return this.rs(t,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(t,n,r,s).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new G0;return this._s(t,n,o).next(l=>{if(i.result=l,this.Xi)return this.us(t,n,o,l.size)})}).next(()=>i.result)}us(t,n,s,r){return s.documentReadCount<this.es?(wr()<=Et.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",Ar(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),U.resolve()):(wr()<=Et.DEBUG&&et("QueryEngine","Query:",Ar(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.ts*r?(wr()<=Et.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",Ar(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,yn(n))):U.resolve())}rs(t,n){if(sp(n))return U.resolve(null);let s=yn(n);return this.indexManager.getIndexType(t,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=gu(n,null,"F"),s=yn(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(i=>{const o=St(...i);return this.ns.getDocuments(t,o).next(l=>this.indexManager.getMinOffset(t,s).next(c=>{const h=this.cs(n,l);return this.ls(n,h,o,c.readTime)?this.rs(t,gu(n,null,"F")):this.hs(t,h,n,c)}))})))}ss(t,n,s,r){return sp(n)||r.isEqual(pt.min())?U.resolve(null):this.ns.getDocuments(t,s).next(i=>{const o=this.cs(n,i);return this.ls(n,o,s,r)?U.resolve(null):(wr()<=Et.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ar(n)),this.hs(t,o,n,gI(r,ao)).next(l=>l))})}cs(t,n){let s=new ne(W_(t));return n.forEach((r,i)=>{wl(t,i)&&(s=s.add(i))}),s}ls(t,n,s,r){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(t,n,s){return wr()<=Et.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",Ar(n)),this.ns.getDocumentsMatchingQuery(t,n,bs.min(),s)}hs(t,n,s,r){return this.ns.getDocumentsMatchingQuery(t,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="LocalStore",Y0=3e8;class X0{constructor(t,n,s,r){this.persistence=t,this.Ps=n,this.serializer=r,this.Ts=new Gt(At),this.Is=new cr(i=>lh(i),ch),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new F0(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function J0(e,t,n,s){return new X0(e,t,n,s)}async function hv(e,t){const n=It(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],l=[];let c=St();for(const h of r){o.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}for(const h of i){l.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(s,c).next(h=>({Rs:h,removedBatchIds:o,addedBatchIds:l}))})})}function dv(e){const t=It(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function Z0(e,t){const n=It(e),s=t.snapshotVersion;let r=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});r=n.Ts;const l=[];t.targetChanges.forEach((d,p)=>{const g=r.get(p);if(!g)return;l.push(n.Hr.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.Hr.addMatchingKeys(i,d.addedDocuments,p)));let _=g.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(p)!==null?_=_.withResumeToken(ue.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,s)),r=r.insert(p,_),function(R,P,M){return R.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=Y0?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(g,_,d)&&l.push(n.Hr.updateTargetData(i,_))});let c=Ss(),h=St();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(tS(i,o,t.documentUpdates).next(d=>{c=d.Vs,h=d.fs})),!s.isEqual(pt.min())){const d=n.Hr.getLastRemoteSnapshotVersion(i).next(p=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,s));l.push(d)}return U.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,h)).next(()=>c)}).then(i=>(n.Ts=r,i))}function tS(e,t,n){let s=St(),r=St();return n.forEach(i=>s=s.add(i)),t.getEntries(e,s).next(i=>{let o=Ss();return n.forEach((l,c)=>{const h=i.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(pt.min())?(t.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(c),o=o.insert(l,c)):et(_h,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{Vs:o,fs:r}})}function eS(e,t){const n=It(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Hr.getTargetData(s,t).next(i=>i?(r=i,U.resolve(r)):n.Hr.allocateTargetId(s).next(o=>(r=new fs(t,o,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ts.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function Tu(e,t,n){const s=It(e),r=s.Ts.get(t),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!ci(o))throw o;et(_h,`Failed to update sequence numbers for target ${t}: ${o}`)}s.Ts=s.Ts.remove(t),s.Is.delete(r.target)}function gp(e,t,n){const s=It(e);let r=pt.min(),i=St();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,d){const p=It(c),g=p.Is.get(d);return g!==void 0?U.resolve(p.Ts.get(g)):p.Hr.getTargetData(h,d)}(s,o,yn(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>s.Ps.getDocumentsMatchingQuery(o,t,n?r:pt.min(),n?i:St())).next(l=>(nS(s,qI(t),l),{documents:l,gs:i})))}function nS(e,t,n){let s=e.Es.get(t)||pt.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),e.Es.set(t,s)}class _p{constructor(){this.activeTargetIds=XI()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sS{constructor(){this.ho=new _p,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new _p,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="ConnectivityMonitor";class yp{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){et(vp,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){et(vp,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea=null;function bu(){return ea===null?ea=function(){return 268435456+Math.round(2147483648*Math.random())}():ea++,"0x"+ea.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec="RestConnection",iS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oS{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${r}`,this.wo=this.databaseId.database===$a?`project_id=${s}`:`project_id=${s}&database_id=${r}`}bo(t,n,s,r,i){const o=bu(),l=this.So(t,n.toUriEncodedString());et(Ec,`Sending RPC '${t}' ${o}:`,l,s);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,r,i),this.vo(t,l,c,s).then(h=>(et(Ec,`Received RPC '${t}' ${o}: `,h),h),h=>{throw Kr(Ec,`RPC '${t}' ${o} failed with error: `,h,"url: ",l,"request:",s),h})}Co(t,n,s,r,i,o){return this.bo(t,n,s,r,i)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+li}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>t[i]=r),s&&s.headers.forEach((r,i)=>t[i]=r)}So(t,n){const s=iS[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e="WebChannelConnection";class lS extends oS{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,r){const i=bu();return new Promise((o,l)=>{const c=new I_;c.setWithCredentials(!0),c.listenOnce(S_.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case _a.NO_ERROR:const d=c.getResponseJson();et(_e,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(d)),o(d);break;case _a.TIMEOUT:et(_e,`RPC '${t}' ${i} timed out`),l(new ot(G.DEADLINE_EXCEEDED,"Request time out"));break;case _a.HTTP_ERROR:const p=c.getStatus();if(et(_e,`RPC '${t}' ${i} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const N=function(P){const M=P.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(M)>=0?M:G.UNKNOWN}(_.status);l(new ot(N,_.message))}else l(new ot(G.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ot(G.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{et(_e,`RPC '${t}' ${i} completed.`)}});const h=JSON.stringify(r);et(_e,`RPC '${t}' ${i} sending request:`,r),c.send(n,"POST",h,s,15)})}Wo(t,n,s){const r=bu(),i=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=P_(),l=R_(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const d=i.join("");et(_e,`Creating RPC '${t}' stream ${r}: ${d}`,c);const p=o.createWebChannel(d,c);let g=!1,_=!1;const N=new aS({Fo:P=>{_?et(_e,`Not sending because RPC '${t}' stream ${r} is closed:`,P):(g||(et(_e,`Opening RPC '${t}' stream ${r} transport.`),p.open(),g=!0),et(_e,`RPC '${t}' stream ${r} sending:`,P),p.send(P))},Mo:()=>p.close()}),R=(P,M,$)=>{P.listen(M,F=>{try{$(F)}catch(x){setTimeout(()=>{throw x},0)}})};return R(p,xi.EventType.OPEN,()=>{_||(et(_e,`RPC '${t}' stream ${r} transport opened.`),N.Qo())}),R(p,xi.EventType.CLOSE,()=>{_||(_=!0,et(_e,`RPC '${t}' stream ${r} transport closed`),N.Ko())}),R(p,xi.EventType.ERROR,P=>{_||(_=!0,Kr(_e,`RPC '${t}' stream ${r} transport errored:`,P),N.Ko(new ot(G.UNAVAILABLE,"The operation could not be completed")))}),R(p,xi.EventType.MESSAGE,P=>{var M;if(!_){const $=P.data[0];Kt(!!$);const F=$,x=(F==null?void 0:F.error)||((M=F[0])===null||M===void 0?void 0:M.error);if(x){et(_e,`RPC '${t}' stream ${r} received error:`,x);const Z=x.status;let tt=function(E){const A=Xt[E];if(A!==void 0)return tv(A)}(Z),w=x.message;tt===void 0&&(tt=G.INTERNAL,w="Unknown error status: "+Z+" with message "+x.message),_=!0,N.Ko(new ot(tt,w)),p.close()}else et(_e,`RPC '${t}' stream ${r} received:`,$),N.Uo($)}}),R(l,C_.STAT_EVENT,P=>{P.stat===cu.PROXY?et(_e,`RPC '${t}' stream ${r} detected buffering proxy`):P.stat===cu.NOPROXY&&et(_e,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function Tc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(e){return new m0(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(t,n,s=1e3,r=1.5,i=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),r=Math.max(0,n-s);r>0&&et("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="PersistentStream";class cS{constructor(t,n,s,r,i,o,l,c){this.Ti=t,this.n_=s,this.r_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new pv(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(zn(n.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.i_===n&&this.V_(s,r)},s=>{t(()=>{const r=new ot(G.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(r)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{s(()=>this.m_(r))}),this.stream.onMessage(r=>{s(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return et(Ep,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(et(Ep,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uS extends cS{constructor(t,n,s,r,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=E0(this.serializer,t),s=function(i){if(!("targetChange"in i))return pt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?$r(o.readTime):pt.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=dp(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=mu(c)?{documents:T0(i,c)}:{query:b0(i,c).ht},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=_0(i,o.resumeToken);const h=yu(i,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(pt.min())>0){l.readTime=g0(i,o.snapshotVersion.toTimestamp());const h=yu(i,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const s=A0(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=dp(this.serializer),n.removeTarget=t,this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{}class dS extends hS{constructor(t,n,s,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new ot(G.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,s,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.bo(t,Eu(n,s),r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ot(G.UNKNOWN,i.toString())})}Co(t,n,s,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(t,Eu(n,s),r,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ot(G.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class fS{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(zn(n),this.N_=!1):et("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="RemoteStore";class pS{constructor(t,n,s,r,i){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{s.enqueueAndForget(async()=>{Ao(this)&&(et(Qr,"Restarting streams for network reachability change."),await async function(c){const h=It(c);h.W_.add(4),await wo(h),h.j_.set("Unknown"),h.W_.delete(4),await Cl(h)}(this))})}),this.j_=new fS(s,r)}}async function Cl(e){if(Ao(e))for(const t of e.G_)await t(!0)}async function wo(e){for(const t of e.G_)await t(!1)}function mv(e,t){const n=It(e);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),Th(n)?Eh(n):ui(n).c_()&&yh(n,t))}function vh(e,t){const n=It(e),s=ui(n);n.U_.delete(t),s.c_()&&gv(n,t),n.U_.size===0&&(s.c_()?s.P_():Ao(n)&&n.j_.set("Unknown"))}function yh(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ui(e).y_(t)}function gv(e,t){e.H_.Ne(t),ui(e).w_(t)}function Eh(e){e.H_=new h0({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),ui(e).start(),e.j_.B_()}function Th(e){return Ao(e)&&!ui(e).u_()&&e.U_.size>0}function Ao(e){return It(e).W_.size===0}function _v(e){e.H_=void 0}async function mS(e){e.j_.set("Online")}async function gS(e){e.U_.forEach((t,n)=>{yh(e,t)})}async function _S(e,t){_v(e),Th(e)?(e.j_.q_(t),Eh(e)):e.j_.set("Unknown")}async function vS(e,t,n){if(e.j_.set("Online"),t instanceof nv&&t.state===2&&t.cause)try{await async function(r,i){const o=i.cause;for(const l of i.targetIds)r.U_.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.U_.delete(l),r.H_.removeTarget(l))}(e,t)}catch(s){et(Qr,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Tp(e,s)}else if(t instanceof Ea?e.H_.We(t):t instanceof ev?e.H_.Ze(t):e.H_.je(t),!n.isEqual(pt.min()))try{const s=await dv(e.localStore);n.compareTo(s)>=0&&await function(i,o){const l=i.H_.ot(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.U_.get(h);d&&i.U_.set(h,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const d=i.U_.get(c);if(!d)return;i.U_.set(c,d.withResumeToken(ue.EMPTY_BYTE_STRING,d.snapshotVersion)),gv(i,c);const p=new fs(d.target,c,h,d.sequenceNumber);yh(i,p)}),i.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(s){et(Qr,"Failed to raise snapshot:",s),await Tp(e,s)}}async function Tp(e,t,n){if(!ci(t))throw t;e.W_.add(1),await wo(e),e.j_.set("Offline"),n||(n=()=>dv(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{et(Qr,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Cl(e)})}async function bp(e,t){const n=It(e);n.asyncQueue.verifyOperationInProgress(),et(Qr,"RemoteStore received new credentials");const s=Ao(n);n.W_.add(3),await wo(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Cl(n)}async function yS(e,t){const n=It(e);t?(n.W_.delete(2),await Cl(n)):t||(n.W_.add(2),await wo(n),n.j_.set("Unknown"))}function ui(e){return e.J_||(e.J_=function(n,s,r){const i=It(n);return i.M_(),new uS(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{xo:mS.bind(null,e),No:gS.bind(null,e),Lo:_S.bind(null,e),p_:vS.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),Th(e)?Eh(e):e.j_.set("Unknown")):(await e.J_.stop(),_v(e))})),e.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t,n,s,r,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,r,i){const o=Date.now()+s,l=new bh(t,n,o,r,i);return l.start(s),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(G.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vv(e,t){if(zn("AsyncQueue",`${t}: ${e}`),ci(e))return new ot(G.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{static emptySet(t){return new Fr(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ct.comparator(n.key,s.key):(n,s)=>ct.comparator(n.key,s.key),this.keyedMap=Li(),this.sortedSet=new Gt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Fr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Fr;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this.Z_=new Gt(ct.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):_t():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class Yr{constructor(t,n,s,r,i,o,l,c,h){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(t,n,s,r,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Yr(t,n,Fr.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class TS{constructor(){this.queries=Ap(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const r=It(n),i=r.queries;r.queries=Ap(),i.forEach((o,l)=>{for(const c of l.ta)c.onError(s)})})(this,new ot(G.ABORTED,"Firestore shutting down"))}}function Ap(){return new cr(e=>q_(e),bl)}async function yv(e,t){const n=It(e);let s=3;const r=t.query;let i=n.queries.get(r);i?!i.na()&&t.ra()&&(s=2):(i=new ES,s=t.ra()?0:1);try{switch(s){case 0:i.ea=await n.onListen(r,!0);break;case 1:i.ea=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const l=vv(o,`Initialization of query '${Ar(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,i),i.ta.push(t),t.sa(n.onlineState),i.ea&&t.oa(i.ea)&&wh(n)}async function Ev(e,t){const n=It(e),s=t.query;let r=3;const i=n.queries.get(s);if(i){const o=i.ta.indexOf(t);o>=0&&(i.ta.splice(o,1),i.ta.length===0?r=t.ra()?0:1:!i.na()&&t.ra()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function bS(e,t){const n=It(e);let s=!1;for(const r of t){const i=r.query,o=n.queries.get(i);if(o){for(const l of o.ta)l.oa(r)&&(s=!0);o.ea=r}}s&&wh(n)}function wS(e,t,n){const s=It(e),r=s.queries.get(t);if(r)for(const i of r.ta)i.onError(n);s.queries.delete(t)}function wh(e){e.ia.forEach(t=>{t.next()})}var wu,Ip;(Ip=wu||(wu={}))._a="default",Ip.Cache="cache";class Tv{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const r of t.docChanges)r.type!==3&&s.push(r);t=new Yr(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Yr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==wu.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(t){this.key=t}}class wv{constructor(t){this.key=t}}class AS{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=St(),this.mutatedKeys=St(),this.ya=W_(t),this.wa=new Fr(this.ya)}get ba(){return this.fa}Sa(t,n){const s=n?n.Da:new wp,r=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,p)=>{const g=r.get(d),_=wl(this.query,p)?p:null,N=!!g&&this.mutatedKeys.has(g.key),R=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let P=!1;g&&_?g.data.isEqual(_.data)?N!==R&&(s.track({type:3,doc:_}),P=!0):this.va(g,_)||(s.track({type:2,doc:_}),P=!0,(c&&this.ya(_,c)>0||h&&this.ya(_,h)<0)&&(l=!0)):!g&&_?(s.track({type:0,doc:_}),P=!0):g&&!_&&(s.track({type:1,doc:g}),P=!0,(c||h)&&(l=!0)),P&&(_?(o=o.add(_),i=R?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{wa:o,Da:s,ls:l,mutatedKeys:i}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,r){const i=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const o=t.Da.X_();o.sort((d,p)=>function(_,N){const R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return R(_)-R(N)}(d.type,p.type)||this.ya(d.doc,p.doc)),this.Ca(s),r=r!=null&&r;const l=n&&!r?this.Fa():[],c=this.pa.size===0&&this.current&&!r?1:0,h=c!==this.ga;return this.ga=c,o.length!==0||h?{snapshot:new Yr(this.query,t.wa,i,o,t.mutatedKeys,c===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:l}:{Ma:l}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new wp,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=St(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new wv(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new bv(s))}),n}Oa(t){this.fa=t.gs,this.pa=St();const n=this.Sa(t.documents);return this.applyChanges(n,!0)}Na(){return Yr.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ah="SyncEngine";class IS{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class SS{constructor(t){this.key=t,this.Ba=!1}}class CS{constructor(t,n,s,r,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new cr(l=>q_(l),bl),this.qa=new Map,this.Qa=new Set,this.$a=new Gt(ct.comparator),this.Ka=new Map,this.Ua=new ph,this.Wa={},this.Ga=new Map,this.za=Gr.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function RS(e,t,n=!0){const s=Rv(e);let r;const i=s.ka.get(t);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Na()):r=await Av(s,t,n,!0),r}async function PS(e,t){const n=Rv(e);await Av(n,t,!0,!1)}async function Av(e,t,n,s){const r=await eS(e.localStore,yn(t)),i=r.targetId,o=e.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await OS(e,t,i,o==="current",r.resumeToken)),e.isPrimaryClient&&n&&mv(e.remoteStore,r),l}async function OS(e,t,n,s,r){e.Ha=(p,g,_)=>async function(R,P,M,$){let F=P.view.Sa(M);F.ls&&(F=await gp(R.localStore,P.query,!1).then(({documents:w})=>P.view.Sa(w,F)));const x=$&&$.targetChanges.get(P.targetId),Z=$&&$.targetMismatches.get(P.targetId)!=null,tt=P.view.applyChanges(F,R.isPrimaryClient,x,Z);return Cp(R,P.targetId,tt.Ma),tt.snapshot}(e,p,g,_);const i=await gp(e.localStore,t,!0),o=new AS(t,i.gs),l=o.Sa(i.documents),c=bo.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",r),h=o.applyChanges(l,e.isPrimaryClient,c);Cp(e,n,h.Ma);const d=new IS(t,n,o);return e.ka.set(t,d),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),h.snapshot}async function NS(e,t,n){const s=It(e),r=s.ka.get(t),i=s.qa.get(r.targetId);if(i.length>1)return s.qa.set(r.targetId,i.filter(o=>!bl(o,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Tu(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&vh(s.remoteStore,r.targetId),Au(s,r.targetId)}).catch(_l)):(Au(s,r.targetId),await Tu(s.localStore,r.targetId,!0))}async function DS(e,t){const n=It(e),s=n.ka.get(t),r=n.qa.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vh(n.remoteStore,s.targetId))}async function Iv(e,t){const n=It(e);try{const s=await Z0(n.localStore,t);t.targetChanges.forEach((r,i)=>{const o=n.Ka.get(i);o&&(Kt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ba=!0:r.modifiedDocuments.size>0?Kt(o.Ba):r.removedDocuments.size>0&&(Kt(o.Ba),o.Ba=!1))}),await Cv(n,s,t)}catch(s){await _l(s)}}function Sp(e,t,n){const s=It(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.ka.forEach((i,o)=>{const l=o.view.sa(t);l.snapshot&&r.push(l.snapshot)}),function(o,l){const c=It(o);c.onlineState=l;let h=!1;c.queries.forEach((d,p)=>{for(const g of p.ta)g.sa(l)&&(h=!0)}),h&&wh(c)}(s.eventManager,t),r.length&&s.La.p_(r),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function kS(e,t,n){const s=It(e);s.sharedClientState.updateQueryState(t,"rejected",n);const r=s.Ka.get(t),i=r&&r.key;if(i){let o=new Gt(ct.comparator);o=o.insert(i,Te.newNoDocument(i,pt.min()));const l=St().add(i),c=new Sl(pt.min(),new Map,new Gt(At),o,l);await Iv(s,c),s.$a=s.$a.remove(i),s.Ka.delete(t),Ih(s)}else await Tu(s.localStore,t,!1).then(()=>Au(s,t,n)).catch(_l)}function Au(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.qa.get(t))e.ka.delete(s),n&&e.La.Ja(s,n);e.qa.delete(t),e.isPrimaryClient&&e.Ua.Sr(t).forEach(s=>{e.Ua.containsKey(s)||Sv(e,s)})}function Sv(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(vh(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ka.delete(n),Ih(e))}function Cp(e,t,n){for(const s of n)s instanceof bv?(e.Ua.addReference(s.key,t),xS(e,s)):s instanceof wv?(et(Ah,"Document no longer in limbo: "+s.key),e.Ua.removeReference(s.key,t),e.Ua.containsKey(s.key)||Sv(e,s.key)):_t()}function xS(e,t){const n=t.key,s=n.path.canonicalString();e.$a.get(n)||e.Qa.has(s)||(et(Ah,"New document in limbo: "+n),e.Qa.add(s),Ih(e))}function Ih(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new ct(Ut.fromString(t)),s=e.za.next();e.Ka.set(s,new SS(n)),e.$a=e.$a.insert(n,s),mv(e.remoteStore,new fs(yn(uh(n.path)),s,"TargetPurposeLimboResolution",vl.ae))}}async function Cv(e,t,n){const s=It(e),r=[],i=[],o=[];s.ka.isEmpty()||(s.ka.forEach((l,c)=>{o.push(s.Ha(c,t,n).then(h=>{var d;if((h||n)&&s.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;s.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(h){r.push(h);const p=gh.Yi(c.targetId,h);i.push(p)}}))}),await Promise.all(o),s.La.p_(r),await async function(c,h){const d=It(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(h,g=>U.forEach(g.Hi,_=>d.persistence.referenceDelegate.addReference(p,g.targetId,_)).next(()=>U.forEach(g.Ji,_=>d.persistence.referenceDelegate.removeReference(p,g.targetId,_)))))}catch(p){if(!ci(p))throw p;et(_h,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const _=d.Ts.get(g),N=_.snapshotVersion,R=_.withLastLimboFreeSnapshotVersion(N);d.Ts=d.Ts.insert(g,R)}}}(s.localStore,i))}async function LS(e,t){const n=It(e);if(!n.currentUser.isEqual(t)){et(Ah,"User change. New user:",t.toKey());const s=await hv(n.localStore,t);n.currentUser=t,function(i,o){i.Ga.forEach(l=>{l.forEach(c=>{c.reject(new ot(G.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Cv(n,s.Rs)}}function VS(e,t){const n=It(e),s=n.Ka.get(t);if(s&&s.Ba)return St().add(s.key);{let r=St();const i=n.qa.get(t);if(!i)return r;for(const o of i){const l=n.ka.get(o);r=r.unionWith(l.view.ba)}return r}}function Rv(e){const t=It(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Iv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kS.bind(null,t),t.La.p_=bS.bind(null,t.eventManager),t.La.Ja=wS.bind(null,t.eventManager),t}class Ka{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fv(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return J0(this.persistence,new Q0,t.initialUser,this.serializer)}Xa(t){return new uv(mh.ri,this.serializer)}Za(t){return new sS}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ka.provider={build:()=>new Ka};class MS extends Ka{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Kt(this.persistence.referenceDelegate instanceof Ha);const s=this.persistence.referenceDelegate.garbageCollector;return new x0(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?ke.withCacheSize(this.cacheSizeBytes):ke.DEFAULT;return new uv(s=>Ha.ri(s,n),this.serializer)}}class Iu{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Sp(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LS.bind(null,this.syncEngine),await yS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new TS}()}createDatastore(t){const n=fv(t.databaseInfo.databaseId),s=function(i){return new lS(i)}(t.databaseInfo);return function(i,o,l,c){return new dS(i,o,l,c)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,r,i,o,l){return new pS(s,r,i,o,l)}(this.localStore,this.datastore,t.asyncQueue,n=>Sp(this.syncEngine,n,0),function(){return yp.D()?new yp:new rS}())}createSyncEngine(t,n){return function(r,i,o,l,c,h,d){const p=new CS(r,i,o,l,c,h);return d&&(p.ja=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const i=It(r);et(Qr,"RemoteStore shutting down."),i.W_.add(5),await wo(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Iu.provider={build:()=>new Iu};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):zn("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="FirestoreClient";class $S{constructor(t,n,s,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=ve.UNAUTHENTICATED,this.clientId=N_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async o=>{et(Cs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(et(Cs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=vv(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function bc(e,t){e.asyncQueue.verifyOperationInProgress(),et(Cs,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async r=>{s.isEqual(r)||(await hv(t.localStore,r),s=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Rp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await FS(e);et(Cs,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(s=>bp(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,r)=>bp(t.remoteStore,r)),e._onlineComponents=t}async function FS(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){et(Cs,"Using user provided OfflineComponentProvider");try{await bc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===G.FAILED_PRECONDITION||r.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Kr("Error using user provided cache. Falling back to memory cache: "+n),await bc(e,new Ka)}}else et(Cs,"Using default OfflineComponentProvider"),await bc(e,new MS(void 0));return e._offlineComponents}async function US(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(et(Cs,"Using user provided OnlineComponentProvider"),await Rp(e,e._uninitializedComponentsProvider._online)):(et(Cs,"Using default OnlineComponentProvider"),await Rp(e,new Iu))),e._onlineComponents}async function Ov(e){const t=await US(e),n=t.eventManager;return n.onListen=RS.bind(null,t.syncEngine),n.onUnlisten=NS.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=PS.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=DS.bind(null,t.syncEngine),n}function BS(e,t,n={}){const s=new vs;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,h){const d=new Pv({next:g=>{d.su(),o.enqueueAndForget(()=>Ev(i,p));const _=g.docs.has(l);!_&&g.fromCache?h.reject(new ot(G.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&c&&c.source==="server"?h.reject(new ot(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new Tv(uh(l.path),d,{includeMetadataChanges:!0,Ta:!0});return yv(i,p)}(await Ov(e),e.asyncQueue,t,n,s)),s.promise}function jS(e,t,n={}){const s=new vs;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,h){const d=new Pv({next:g=>{d.su(),o.enqueueAndForget(()=>Ev(i,p)),g.fromCache&&c.source==="server"?h.reject(new ot(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new Tv(l,d,{includeMetadataChanges:!0,Ta:!0});return yv(i,p)}(await Ov(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(e,t,n){if(!n)throw new ot(G.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function HS(e,t,n,s){if(t===!0&&s===!0)throw new ot(G.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Op(e){if(!ct.isDocumentKey(e))throw new ot(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Np(e){if(ct.isDocumentKey(e))throw new ot(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function KS(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":_t()}function ho(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ot(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=KS(e);throw new ot(G.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="firestore.googleapis.com",Dp=!0;class kp{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ot(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kv,this.ssl=Dp}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Dp;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cv;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<D0)throw new ot(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}HS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nv((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ot(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ot(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ot(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rl{constructor(t,n,s,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kp(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new lI;switch(s.type){case"firstParty":return new dI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Pp.get(n);s&&(et("ComponentProvider","Removing Datastore"),Pp.delete(n),s.terminate())}(this),Promise.resolve()}}function qS(e,t,n,s={}){var r;const i=(e=ho(e,Rl))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;i.host!==kv&&i.host!==l&&Kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},i),{host:l,ssl:!1,emulatorOptions:s});if(!er(c,o)&&(e._setSettings(c),s.mockUserToken)){let h,d;if(typeof s.mockUserToken=="string")h=s.mockUserToken,d=ve.MOCK_USER;else{h=v_(s.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const p=s.mockUserToken.sub||s.mockUserToken.user_id;if(!p)throw new ot(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ve(p)}e._authCredentials=new cI(new O_(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Pl(this.firestore,t,this._query)}}class En{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new En(this.firestore,t,this._key)}}class ys extends Pl{constructor(t,n,s){super(t,n,uh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new En(this.firestore,null,new ct(t))}withConverter(t){return new ys(this.firestore,t,this._path)}}function xv(e,t,...n){if(e=Xn(e),Dv("collection","path",t),e instanceof Rl){const s=Ut.fromString(t,...n);return Np(s),new ys(e,null,s)}{if(!(e instanceof En||e instanceof ys))throw new ot(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(Ut.fromString(t,...n));return Np(s),new ys(e.firestore,null,s)}}function WS(e,t,...n){if(e=Xn(e),arguments.length===1&&(t=N_.newId()),Dv("doc","path",t),e instanceof Rl){const s=Ut.fromString(t,...n);return Op(s),new En(e,null,new ct(s))}{if(!(e instanceof En||e instanceof ys))throw new ot(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(Ut.fromString(t,...n));return Op(s),new En(e.firestore,e instanceof ys?e.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="AsyncQueue";class Lp{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new pv(this,"async_queue_retry"),this.bu=()=>{const s=Tc();s&&et(xp,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=t;const n=Tc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Tc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new vs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!ci(t))throw t;et(xp,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.Su.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const r=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(s);throw zn("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const r=bh.createAndSchedule(this,t,n,s,i=>this.Fu(i));return this.fu.push(r),r}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Sh extends Rl{constructor(t,n,s,r){super(t,n,s,r),this.type="firestore",this._queue=new Lp,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Lp(t),this._firestoreClient=void 0,await t}}}function zS(e,t){const n=typeof e=="object"?e:rh(),s=typeof e=="string"?e:$a,r=gl(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=m_("firestore");i&&qS(r,...i)}return r}function Lv(e){if(e._terminated)throw new ot(G.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||GS(e),e._firestoreClient}function GS(e){var t,n,s;const r=e._freezeSettings(),i=function(l,c,h,d){return new CI(l,c,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Nv(d.experimentalLongPollingOptions),d.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=r.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new $S(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qa(ue.fromBase64String(t))}catch(n){throw new ot(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new qa(ue.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return At(this._lat,t._lat)||At(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,t._values)}}const XS=new RegExp("[~\\*/\\[\\]]");function JS(e,t,n){if(t.search(XS)>=0)throw Vp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new Vv(...t.split("."))._internalPath}catch{throw Vp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function Vp(e,t,n,s,r){let i=`Function ${t}() called with invalid data`;i+=". ";let o="";return new ot(G.INVALID_ARGUMENT,i+e+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(t,n,s,r,i){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ZS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field($v("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZS extends Mv{data(){return super.data()}}function $v(e,t){return typeof t=="string"?JS(e,t):t instanceof Vv?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ot(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eC{convertValue(t,n="none"){switch(Is(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(As(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return To(t,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(t){var n,s,r;const i=(r=(s=(n=t.fields)===null||n===void 0?void 0:n[hu].arrayValue)===null||s===void 0?void 0:s.values)===null||r===void 0?void 0:r.map(o=>zt(o.doubleValue));return new YS(i)}convertGeoPoint(t){return new QS(zt(t.latitude),zt(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=El(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lo(t));default:return null}}convertTimestamp(t){const n=ws(t);return new Ve(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Ut.fromString(t);Kt(lv(s));const r=new co(s.get(1),s.get(3)),i=new ct(s.popFirst(5));return r.isEqual(n)||zn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fv extends Mv{constructor(t,n,s,r,i,o){super(t,n,s,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ta(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field($v("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Ta extends Fv{data(t={}){return super.data(t)}}class nC{constructor(t,n,s,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Mi(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Ta(this._firestore,this._userDataWriter,s.key,s,new Mi(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>{const c=new Ta(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Mi(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Ta(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Mi(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:sC(l.type),doc:c,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(e){e=ho(e,En);const t=ho(e.firestore,Sh);return BS(Lv(t),e._key).then(n=>iC(t,e,n))}class Uv extends eC{constructor(t){super(),this.firestore=t}convertBytes(t){return new qa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new En(this.firestore,null,n)}}function Bv(e){e=ho(e,Pl);const t=ho(e.firestore,Sh),n=Lv(t),s=new Uv(t);return tC(e._query),jS(n,e._query).then(r=>new nC(t,s,e,r))}function iC(e,t,n){const s=n.docs.get(t._key),r=new Uv(e);return new Fv(e,r,t._key,s,new Mi(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(r){li=r})(lr),nr(new Ts("firestore",(s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),l=new Sh(new uI(s.getProvider("auth-internal")),new fI(o,s.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ot(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new co(h.options.projectId,d)}(o,r),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),vn(Bf,jf,t),vn(Bf,jf,"esm2017")})();var oC="firebase",aC="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn(oC,aC,"app");function Ch(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n}function jv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lC=jv,Hv=new yo("auth","Firebase",jv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new nh("@firebase/auth");function cC(e,...t){Wa.logLevel<=Et.WARN&&Wa.warn(`Auth (${lr}): ${e}`,...t)}function ba(e,...t){Wa.logLevel<=Et.ERROR&&Wa.error(`Auth (${lr}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(e,...t){throw Ph(e,...t)}function an(e,...t){return Ph(e,...t)}function Rh(e,t,n){const s=Object.assign(Object.assign({},lC()),{[t]:n});return new yo("auth","Firebase",s).create(t,{appName:e.name})}function Xs(e){return Rh(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uC(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Cn(e,"argument-error"),Rh(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ph(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return Hv.create(e,...t)}function ut(e,t,...n){if(!e)throw Ph(t,...n)}function Bn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ba(t),new Error(t)}function Gn(e,t){e||Bn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function hC(){return Mp()==="http:"||Mp()==="https:"}function Mp(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hC()||Bw()||"connection"in navigator)?navigator.onLine:!0}function fC(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,n){this.shortDelay=t,this.longDelay=n,Gn(n>t,"Short delay should be less than long delay!"),this.isMobile=$w()||jw()}get(){return dC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(e,t){Gn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Io(3e4,6e4);function Nh(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function hi(e,t,n,s,r={}){return qv(e,r,async()=>{let i={},o={};s&&(t==="GET"?o=s:i={body:JSON.stringify(s)});const l=Eo(Object.assign({key:e.config.apiKey},o)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const h=Object.assign({method:t,headers:c},i);return Uw()||(h.referrerPolicy="no-referrer"),Kv.fetch()(Wv(e,e.config.apiHost,n,l),h)})}async function qv(e,t,n){e._canInitEmulator=!1;const s=Object.assign(Object.assign({},pC),t);try{const r=new _C(e),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw na(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw na(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw na(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw na(e,"user-disabled",o);const d=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Rh(e,d,h);Cn(e,d)}}catch(r){if(r instanceof On)throw r;Cn(e,"network-request-failed",{message:String(r)})}}async function gC(e,t,n,s,r={}){const i=await hi(e,t,n,s,r);return"mfaPendingCredential"in i&&Cn(e,"multi-factor-auth-required",{_serverResponse:i}),i}function Wv(e,t,n,s){const r=`${t}${n}?${s}`;return e.config.emulator?Oh(e.config,r):`${e.config.apiScheme}://${r}`}class _C{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(an(this.auth,"network-request-failed")),mC.get())})}}function na(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=an(e,t,s);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(e,t){return hi(e,"POST","/v1/accounts:delete",t)}async function zv(e,t){return hi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yC(e,t=!1){const n=Xn(e),s=await n.getIdToken(t),r=Dh(s);ut(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Gi(wc(r.auth_time)),issuedAtTime:Gi(wc(r.iat)),expirationTime:Gi(wc(r.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function wc(e){return Number(e)*1e3}function Dh(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return ba("JWT malformed, contained fewer than 3 sections"),null;try{const r=f_(n);return r?JSON.parse(r):(ba("Failed to decode base64 JWT payload"),null)}catch(r){return ba("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function $p(e){const t=Dh(e);return ut(t,"internal-error"),ut(typeof t.exp<"u","internal-error"),ut(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof On&&EC(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function EC({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gi(this.lastLoginAt),this.creationTime=Gi(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(e){var t;const n=e.auth,s=await e.getIdToken(),r=await fo(e,zv(n,{idToken:s}));ut(r==null?void 0:r.users.length,n,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const o=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?Gv(i.providerUserInfo):[],l=wC(e.providerData,o),c=e.isAnonymous,h=!(e.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?h:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Cu(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,p)}async function bC(e){const t=Xn(e);await za(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function wC(e,t){return[...e.filter(s=>!t.some(r=>r.providerId===s.providerId)),...t]}function Gv(e){return e.map(t=>{var{providerId:n}=t,s=Ch(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(e,t){const n=await qv(e,{},async()=>{const s=Eo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Wv(e,r,"/v1/token",`key=${i}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Kv.fetch()(o,{method:"POST",headers:l,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function IC(e,t){return hi(e,"POST","/v2/accounts:revokeToken",Nh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ut(t.idToken,"internal-error"),ut(typeof t.idToken<"u","internal-error"),ut(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$p(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ut(t.length!==0,"internal-error");const n=$p(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ut(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await AC(t,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new Ur;return s&&(ut(typeof s=="string","internal-error",{appName:t}),o.refreshToken=s),r&&(ut(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),i&&(ut(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ur,this.toJSON())}_performRefresh(){return Bn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(e,t){ut(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class jn{constructor(t){var{uid:n,auth:s,stsTokenManager:r}=t,i=Ch(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Cu(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await fo(this,this.stsTokenManager.getToken(this.auth,t));return ut(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return yC(this,t)}reload(){return bC(this)}_assign(t){this!==t&&(ut(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new jn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await za(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ze(this.auth.app))return Promise.reject(Xs(this.auth));const t=await this.getIdToken();return await fo(this,vC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,r,i,o,l,c,h,d;const p=(s=n.displayName)!==null&&s!==void 0?s:void 0,g=(r=n.email)!==null&&r!==void 0?r:void 0,_=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,N=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(l=n.tenantId)!==null&&l!==void 0?l:void 0,P=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,M=(h=n.createdAt)!==null&&h!==void 0?h:void 0,$=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:F,emailVerified:x,isAnonymous:Z,providerData:tt,stsTokenManager:w}=n;ut(F&&w,t,"internal-error");const v=Ur.fromJSON(this.name,w);ut(typeof F=="string",t,"internal-error"),ss(p,t.name),ss(g,t.name),ut(typeof x=="boolean",t,"internal-error"),ut(typeof Z=="boolean",t,"internal-error"),ss(_,t.name),ss(N,t.name),ss(R,t.name),ss(P,t.name),ss(M,t.name),ss($,t.name);const E=new jn({uid:F,auth:t,email:g,emailVerified:x,displayName:p,isAnonymous:Z,photoURL:N,phoneNumber:_,tenantId:R,stsTokenManager:v,createdAt:M,lastLoginAt:$});return tt&&Array.isArray(tt)&&(E.providerData=tt.map(A=>Object.assign({},A))),P&&(E._redirectEventId=P),E}static async _fromIdTokenResponse(t,n,s=!1){const r=new Ur;r.updateFromServerResponse(n);const i=new jn({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:s});return await za(i),i}static async _fromGetAccountInfoResponse(t,n,s){const r=n.users[0];ut(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?Gv(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(i!=null&&i.length),l=new Ur;l.updateFromIdToken(s);const c=new jn({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:o}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Cu(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=new Map;function Hn(e){Gn(e instanceof Function,"Expected a class definition");let t=Fp.get(e);return t?(Gn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Fp.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Qv.type="NONE";const Up=Qv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(e,t,n){return`firebase:${e}:${t}:${n}`}class Br{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=wa(this.userKey,r.apiKey,i),this.fullPersistenceKey=wa("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?jn._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Br(Hn(Up),t,s);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=r[0]||Hn(Up);const o=wa(s,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(o);if(d){const p=jn._fromJSON(t,d);h!==i&&(l=p),i=h;break}}catch{}const c=r.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Br(i,t,s):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new Br(i,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Yv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ey(t))return"Blackberry";if(ny(t))return"Webos";if(Xv(t))return"Safari";if((t.includes("chrome/")||Jv(t))&&!t.includes("edge/"))return"Chrome";if(ty(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Yv(e=Ae()){return/firefox\//i.test(e)}function Xv(e=Ae()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Jv(e=Ae()){return/crios\//i.test(e)}function Zv(e=Ae()){return/iemobile/i.test(e)}function ty(e=Ae()){return/android/i.test(e)}function ey(e=Ae()){return/blackberry/i.test(e)}function ny(e=Ae()){return/webos/i.test(e)}function kh(e=Ae()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function SC(e=Ae()){var t;return kh(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function CC(){return Hw()&&document.documentMode===10}function sy(e=Ae()){return kh(e)||ty(e)||ny(e)||ey(e)||/windows phone/i.test(e)||Zv(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(e,t=[]){let n;switch(e){case"Browser":n=Bp(Ae());break;case"Worker":n=`${Bp(Ae())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${lr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=i=>new Promise((o,l)=>{try{const c=t(i);o(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(e,t={}){return hi(e,"GET","/v2/passwordPolicy",Nh(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=6;class NC{constructor(t){var n,s,r,i;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:OC,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(i=t.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,r,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<t.length;r++)s=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,n,s,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jp(this),this.idTokenSubscription=new jp(this),this.beforeStateQueue=new RC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hn(n)),this._initializationPromise=this.queue(async()=>{var s,r;if(!this._deleted&&(this.persistenceManager=await Br.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await zv(this,{idToken:t}),s=await jn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ze(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await za(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=fC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ze(this.app))return Promise.reject(Xs(this));const n=t?Xn(t):null;return n&&ut(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ut(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ze(this.app)?Promise.reject(Xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ze(this.app)?Promise.reject(Xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PC(this),n=new NC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new yo("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await IC(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hn(t)||this._popupRedirectResolver;ut(n,this,"argument-error"),this.redirectPersistenceManager=await Br.create(this,[Hn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ut(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=t.addObserver(n,s,r);return()=>{o=!0,c()}}else{const c=t.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ry(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;if(ze(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&cC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ol(e){return Xn(e)}class jp{constructor(t){this.auth=t,this.observer=null,this.addObserver=Xw(n=>this.observer=n)}get next(){return ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kC(e){xh=e}function xC(e){return xh.loadJS(e)}function LC(){return xh.gapiScript}function VC(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(e,t){const n=gl(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(er(i,t??{}))return r;Cn(r,"already-initialized")}return n.initialize({options:t})}function $C(e,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Hn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function FC(e,t,n){const s=Ol(e);ut(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const r=!1,i=iy(t),{host:o,port:l}=UC(t),c=l===null?"":`:${l}`,h={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){ut(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ut(er(h,s.config.emulator)&&er(d,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,BC()}function iy(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function UC(e){const t=iy(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:Hp(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:Hp(o)}}}function Hp(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function BC(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Bn("not implemented")}_getIdTokenResponse(t){return Bn("not implemented")}_linkToIdToken(t,n){return Bn("not implemented")}_getReauthenticationResolver(t){return Bn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jr(e,t){return gC(e,"POST","/v1/accounts:signInWithIdp",Nh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="http://localhost";class rr extends oy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new rr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:r}=n,i=Ch(n,["providerId","signInMethod"]);if(!s||!r)return null;const o=new rr(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return jr(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,jr(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,jr(t,n)}buildRequest(){const t={requestUri:jC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Eo(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Lh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends So{constructor(){super("facebook.com")}static credential(t){return rr._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cs.credential(t.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un extends So{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return rr._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Un.credentialFromTaggedObject(t)}static credentialFromError(t){return Un.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Un.credential(n,s)}catch{return null}}}Un.GOOGLE_SIGN_IN_METHOD="google.com";Un.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends So{constructor(){super("github.com")}static credential(t){return rr._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return us.credentialFromTaggedObject(t)}static credentialFromError(t){return us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return us.credential(t.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends So{constructor(){super("twitter.com")}static credential(t,n){return rr._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return hs.credentialFromTaggedObject(t)}static credentialFromError(t){return hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return hs.credential(n,s)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,r=!1){const i=await jn._fromIdTokenResponse(t,s,r),o=Kp(s);return new Xr({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const r=Kp(s);return new Xr({user:t,providerId:r,_tokenResponse:s,operationType:n})}}function Kp(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends On{constructor(t,n,s,r){var i;super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Ga.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,r){return new Ga(t,n,s,r)}}function ay(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ga._fromErrorAndOperation(e,i,t,s):i})}async function HC(e,t,n=!1){const s=await fo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Xr._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(e,t,n=!1){const{auth:s}=e;if(ze(s.app))return Promise.reject(Xs(s));const r="reauthenticate";try{const i=await fo(e,ay(s,r,t,e),n);ut(i.idToken,s,"internal-error");const o=Dh(i.idToken);ut(o,s,"internal-error");const{sub:l}=o;return ut(e.uid===l,s,"user-mismatch"),Xr._forOperation(e,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Cn(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(e,t,n=!1){if(ze(e.app))return Promise.reject(Xs(e));const s="signIn",r=await ay(e,s,t),i=await Xr._fromIdTokenResponse(e,s,r);return n||await e._updateCurrentUser(i.user),i}function WC(e,t,n,s){return Xn(e).onIdTokenChanged(t,n,s)}function zC(e,t,n){return Xn(e).beforeAuthStateChanged(t,n)}const Qa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qa,"1"),this.storage.removeItem(Qa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=1e3,QC=10;class cy extends ly{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sy(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&t(n,r,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const s=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);CC()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,QC):r()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},GC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}cy.type="LOCAL";const YC=cy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy extends ly{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}uy.type="SESSION";const hy=uy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const s=new Nl(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(o).map(async h=>h(n.origin,i)),c=await XC(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const h=Vh("",20);r.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(g.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return window}function ZC(e){Tn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function tR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eR(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function nR(){return dy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="firebaseLocalStorageDb",sR=1,Ya="firebaseLocalStorage",py="fbase_key";class Co{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dl(e,t){return e.transaction([Ya],t?"readwrite":"readonly").objectStore(Ya)}function rR(){const e=indexedDB.deleteDatabase(fy);return new Co(e).toPromise()}function Ru(){const e=indexedDB.open(fy,sR);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Ya,{keyPath:py})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Ya)?t(s):(s.close(),await rR(),t(await Ru()))})})}async function qp(e,t,n){const s=Dl(e,!0).put({[py]:t,value:n});return new Co(s).toPromise()}async function iR(e,t){const n=Dl(e,!1).get(t),s=await new Co(n).toPromise();return s===void 0?null:s.value}function Wp(e,t){const n=Dl(e,!0).delete(t);return new Co(n).toPromise()}const oR=800,aR=3;class my{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ru(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>aR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nl._getInstance(nR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await tR(),!this.activeServiceWorker)return;this.sender=new JC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||eR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ru();return await qp(t,Qa,"1"),await Wp(t,Qa),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>qp(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>iR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wp(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const i=Dl(r,!1).getAll();return new Co(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:r,value:i}of t)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}my.type="LOCAL";const lR=my;new Io(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(e,t){return t?Hn(t):(ut(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends oy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return jr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return jr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return jr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function cR(e){return qC(e.auth,new Mh(e),e.bypassAuthState)}function uR(e){const{auth:t,user:n}=e;return ut(n,t,"internal-error"),KC(n,new Mh(e),e.bypassAuthState)}async function hR(e){const{auth:t,user:n}=e;return ut(n,t,"internal-error"),HC(n,new Mh(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(t,n,s,r,i=!1){this.auth=t,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:l}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return cR;case"linkViaPopup":case"linkViaRedirect":return hR;case"reauthViaPopup":case"reauthViaRedirect":return uR;default:Cn(this.auth,"internal-error")}}resolve(t){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=new Io(2e3,1e4);async function vy(e,t,n){if(ze(e.app))return Promise.reject(an(e,"operation-not-supported-in-this-environment"));const s=Ol(e);uC(e,t,Lh);const r=gy(s,n);return new Ws(s,"signInViaPopup",t,r).executeNotNull()}class Ws extends _y{constructor(t,n,s,r,i){super(t,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ut(t,this.auth,"internal-error"),t}async onExecution(){Gn(this.filter.length===1,"Popup operations only handle one event");const t=Vh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(an(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(an(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(an(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,dR.get())};t()}}Ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="pendingRedirect",Aa=new Map;class pR extends _y{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Aa.get(this.auth._key());if(!t){try{const s=await mR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Aa.set(this.auth._key(),t)}return this.bypassAuthState||Aa.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mR(e,t){const n=vR(t),s=_R(e);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function gR(e,t){Aa.set(e._key(),t)}function _R(e){return Hn(e._redirectPersistence)}function vR(e){return wa(fR,e.config.apiKey,e.name)}async function yR(e,t,n=!1){if(ze(e.app))return Promise.reject(Xs(e));const s=Ol(e),r=gy(s,t),o=await new pR(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=10*60*1e3;class TR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!yy(t)){const r=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(an(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ER&&this.cachedEventUids.clear(),this.cachedEventUids.has(zp(t))}saveEventToCache(t){this.cachedEventUids.add(zp(t)),this.lastProcessedEventTime=Date.now()}}function zp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function yy({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function bR(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yy(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(e,t={}){return hi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IR=/^https?/;async function SR(e){if(e.config.emulator)return;const{authorizedDomains:t}=await wR(e);for(const n of t)try{if(CR(n))return}catch{}Cn(e,"unauthorized-domain")}function CR(e){const t=Su(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!IR.test(n))return!1;if(AR.test(e))return s===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Io(3e4,6e4);function Gp(){const e=Tn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function PR(e){return new Promise((t,n)=>{var s,r,i;function o(){Gp(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Gp(),n(an(e,"network-request-failed"))},timeout:RR.get()})}if(!((r=(s=Tn().gapi)===null||s===void 0?void 0:s.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((i=Tn().gapi)===null||i===void 0)&&i.load)o();else{const l=VC("iframefcb");return Tn()[l]=()=>{gapi.load?o():n(an(e,"network-request-failed"))},xC(`${LC()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw Ia=null,t})}let Ia=null;function OR(e){return Ia=Ia||PR(e),Ia}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=new Io(5e3,15e3),DR="__/auth/iframe",kR="emulator/auth/iframe",xR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VR(e){const t=e.config;ut(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Oh(t,kR):`https://${e.config.authDomain}/${DR}`,s={apiKey:t.apiKey,appName:e.name,v:lr},r=LR.get(e.config.apiHost);r&&(s.eid=r);const i=e._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${Eo(s).slice(1)}`}async function MR(e){const t=await OR(e),n=Tn().gapi;return ut(n,e,"internal-error"),t.open({where:document.body,url:VR(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xR,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=an(e,"network-request-failed"),l=Tn().setTimeout(()=>{i(o)},NR.get());function c(){Tn().clearTimeout(l),r(s)}s.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FR=500,UR=600,BR="_blank",jR="http://localhost";class Qp{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HR(e,t,n,s=FR,r=UR){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c=Object.assign(Object.assign({},$R),{width:s.toString(),height:r.toString(),top:i,left:o}),h=Ae().toLowerCase();n&&(l=Jv(h)?BR:n),Yv(h)&&(t=t||jR,c.scrollbars="yes");const d=Object.entries(c).reduce((g,[_,N])=>`${g}${_}=${N},`,"");if(SC(h)&&l!=="_self")return KR(t||"",l),new Qp(null);const p=window.open(t||"",l,d);ut(p,e,"popup-blocked");try{p.focus()}catch{}return new Qp(p)}function KR(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="__/auth/handler",WR="emulator/auth/handler",zR=encodeURIComponent("fac");async function Yp(e,t,n,s,r,i){ut(e.config.authDomain,e,"auth-domain-config-required"),ut(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:lr,eventId:r};if(t instanceof Lh){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Yw(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(t instanceof So){const d=t.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await e._getAppCheckToken(),h=c?`#${zR}=${encodeURIComponent(c)}`:"";return`${GR(e)}?${Eo(l).slice(1)}${h}`}function GR({config:e}){return e.emulator?Oh(e,WR):`https://${e.authDomain}/${qR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac="webStorageSupport";class QR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hy,this._completeRedirectFn=yR,this._overrideRedirectResult=gR}async _openPopup(t,n,s,r){var i;Gn((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Yp(t,n,s,Su(),r);return HR(t,o,Vh())}async _openRedirect(t,n,s,r){await this._originValidation(t);const i=await Yp(t,n,s,Su(),r);return ZC(i),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(Gn(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await MR(t),s=new TR(t);return n.register("authEvent",r=>(ut(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ac,{type:Ac},r=>{var i;const o=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[Ac];o!==void 0&&n(!!o),Cn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return sy()||Xv()||kh()}}const YR=QR;var Xp="@firebase/auth",Jp="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZR(e){nr(new Ts("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;ut(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ry(e)},h=new DC(s,r,i,c);return $C(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),nr(new Ts("auth-internal",t=>{const n=Ol(t.getProvider("auth").getImmediate());return(s=>new XR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vn(Xp,Jp,JR(e)),vn(Xp,Jp,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=5*60,eP=__("authIdTokenMaxAge")||tP;let Zp=null;const nP=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>eP)return;const r=n==null?void 0:n.token;Zp!==r&&(Zp=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function sP(e=rh()){const t=gl(e,"auth");if(t.isInitialized())return t.getImmediate();const n=MC(e,{popupRedirectResolver:YR,persistence:[lR,YC,hy]}),s=__("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=nP(i.toString());zC(n,o,()=>o(n.currentUser)),WC(n,l=>o(l))}}const r=p_("auth");return r&&FC(n,`http://${r}`),n}function rP(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}kC({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=r=>{const i=an("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",rP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZR("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="firebasestorage.googleapis.com",iP="storageBucket",oP=2*60*1e3,aP=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn extends On{constructor(t,n,s=0){super(Ic(t),`Firebase Storage: ${n} (${Ic(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ic(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rn;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rn||(Rn={}));function Ic(e){return"storage/"+e}function lP(){const e="An unknown error occurred, please check the error payload for server response.";return new Nn(Rn.UNKNOWN,e)}function cP(){return new Nn(Rn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uP(){return new Nn(Rn.CANCELED,"User canceled the upload/download.")}function hP(e){return new Nn(Rn.INVALID_URL,"Invalid URL '"+e+"'.")}function dP(e){return new Nn(Rn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function tm(e){return new Nn(Rn.INVALID_ARGUMENT,e)}function Ty(){return new Nn(Rn.APP_DELETED,"The Firebase app was deleted.")}function fP(e){return new Nn(Rn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=rn.makeFromUrl(t,n)}catch{return new rn(t,"")}if(s.path==="")return s;throw dP(t)}static makeFromUrl(t,n){let s=null;const r="([A-Za-z0-9.\\-_]+)";function i(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+r+o,"i"),c={bucket:1,path:3};function h(x){x.path_=decodeURIComponent(x.path)}const d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",_=new RegExp(`^https?://${p}/${d}/b/${r}/o${g}`,"i"),N={bucket:1,path:3},R=n===Ey?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",M=new RegExp(`^https?://${R}/${r}/${P}`,"i"),F=[{regex:l,indices:c,postModify:i},{regex:_,indices:N,postModify:h},{regex:M,indices:{bucket:1,path:2},postModify:h}];for(let x=0;x<F.length;x++){const Z=F[x],tt=Z.regex.exec(t);if(tt){const w=tt[Z.indices.bucket];let v=tt[Z.indices.path];v||(v=""),s=new rn(w,v),Z.postModify(s);break}}if(s==null)throw hP(t);return s}}class pP{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(e,t,n){let s=1,r=null,i=null,o=!1,l=0;function c(){return l===2}let h=!1;function d(...P){h||(h=!0,t.apply(null,P))}function p(P){r=setTimeout(()=>{r=null,e(_,c())},P)}function g(){i&&clearTimeout(i)}function _(P,...M){if(h){g();return}if(P){g(),d.call(null,P,...M);return}if(c()||o){g(),d.call(null,P,...M);return}s<64&&(s*=2);let F;l===1?(l=2,F=0):F=(s+Math.random())*1e3,p(F)}let N=!1;function R(P){N||(N=!0,g(),!h&&(r!==null?(P||(l=2),clearTimeout(r),p(0)):P||(l=1)))}return p(0),i=setTimeout(()=>{o=!0,R(!0)},n),R}function gP(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(e){return e!==void 0}function em(e,t,n,s){if(s<t)throw tm(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>n)throw tm(`Invalid value for '${e}'. Expected ${n} or less.`)}function vP(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){const r=t(s)+"="+t(e[s]);n=n+r+"&"}return n=n.slice(0,-1),n}var Xa;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Xa||(Xa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(e,t){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return n||r||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(t,n,s,r,i,o,l,c,h,d,p,g=!0){this.url_=t,this.method_=n,this.headers_=s,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=d,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,N)=>{this.resolve_=_,this.reject_=N,this.start_()})}start_(){const t=(s,r)=>{if(r){s(!1,new sa(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===Xa.NO_ERROR,c=i.getStatus();if(!l||yP(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Xa.ABORT;s(!1,new sa(!1,null,d));return}const h=this.successCodes_.indexOf(c)!==-1;s(!0,new sa(h,i))})},n=(s,r)=>{const i=this.resolve_,o=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());_P(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=lP();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(r.canceled){const c=this.appDelete_?Ty():uP();o(c)}else{const c=cP();o(c)}};this.canceled_?n(!1,new sa(!1,null,!0)):this.backoffId_=mP(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&gP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sa{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function TP(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function bP(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function wP(e,t){t&&(e["X-Firebase-GMPID"]=t)}function AP(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function IP(e,t,n,s,r,i,o=!0){const l=vP(e.urlParams),c=e.url+l,h=Object.assign({},e.headers);return wP(h,t),TP(h,n),bP(h,i),AP(h,s),new EP(c,e.method,h,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function CP(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t,n){this._service=t,n instanceof rn?this._location=n:this._location=rn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Ja(t,n)}get root(){const t=new rn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CP(this._location.path)}get storage(){return this._service}get parent(){const t=SP(this._location.path);if(t===null)return null;const n=new rn(this._location.bucket,t);return new Ja(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw fP(t)}}function nm(e,t){const n=t==null?void 0:t[iP];return n==null?null:rn.makeFromBucketSpec(n,e)}function RP(e,t,n,s={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:r}=s;r&&(e._overrideAuthToken=typeof r=="string"?r:v_(r,e.app.options.projectId))}class PP{constructor(t,n,s,r,i){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Ey,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oP,this._maxUploadRetryTime=aP,this._requests=new Set,r!=null?this._bucket=rn.makeFromBucketSpec(r,this._host):this._bucket=nm(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=rn.makeFromBucketSpec(this._url,t):this._bucket=nm(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){em("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){em("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ze(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ja(this,t)}_makeRequest(t,n,s,r,i=!0){if(this._deleted)return new pP(Ty());{const o=IP(t,this._appId,s,r,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,r).getPromise()}}const sm="@firebase/storage",rm="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="storage";function OP(e=rh(),t){e=Xn(e);const s=gl(e,by).getImmediate({identifier:t}),r=m_("storage");return r&&NP(s,...r),s}function NP(e,t,n,s={}){RP(e,t,n,s)}function DP(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new PP(n,s,r,t,lr)}function kP(){nr(new Ts(by,DP,"PUBLIC").setMultipleInstances(!0)),vn(sm,rm,""),vn(sm,rm,"esm2017")}kP();const xP={apiKey:"AIzaSyAG5ktmsu5NCuFBK9neFAg3txU_YeVgmTg",authDomain:"newweb-c3f9e.firebaseapp.com",projectId:"newweb-c3f9e",storageBucket:"newweb-c3f9e.appspot.com",messagingSenderId:"377918885561",appId:"1:377918885561:web:f0eb0e44046fc038311568"},$h=T_(xP),wy=sP($h),Ay=new Un,Fh=zS($h);OP($h);const LP="/newsweb/assets/logo-energy-pilates-hG_G--Xa.png",VP="/newsweb/assets/banner1-Dz36x-o0.jpg",MP="/newsweb/assets/banner2-CYo6Bf-C.jpg",$P="/newsweb/assets/banner3-D1PNU-rf.jpg",Dn=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},FP={data(){return{searchQuery:"",selectedCategory:"all",posts:[]}},computed:{filteredPosts(){let e=this.selectedCategory==="all"?this.posts:this.posts.filter(t=>t.category===this.selectedCategory);return this.searchQuery.trim()&&(e=e.filter(t=>t.title.toLowerCase().includes(this.searchQuery.toLowerCase()))),e}},async created(){try{const e=await Bv(xv(Fh,"News"));this.posts=e.docs.map(t=>{let n=t.data();if(n.DatePost&&n.DatePost.toDate)try{n.DatePost=n.DatePost.toDate()}catch(s){console.warn("Lỗi khi chuyển đổi DatePost:",s)}return{...n,id:t.id}})}catch(e){console.error("Lỗi khi lấy tin tức:",e)}},methods:{formatDate(e){return e?new Date(e).toLocaleDateString():"Không xác định"}}},UP={class:"news-header"},BP={class:"container d-flex justify-content-between align-items-center py-2"},jP={class:"search-container"},HP={class:"nav-items d-flex"},KP={key:0,class:"container mt-3"},qP={class:"row row-cols-2 row-cols-md-4 g-3"},WP={class:"card h-100"},zP=["src"],GP={class:"card-body text-center"},QP={class:"card-title text-dark"};function YP(e,t,n,s,r,i){const o=ai("router-link");return dt(),mt(Jt,null,[I("header",UP,[I("div",BP,[I("div",null,[Bt(o,{to:"/"},{default:pn(()=>t[1]||(t[1]=[I("img",{src:LP,alt:"Logo",class:"logo"},null,-1)])),_:1})]),I("div",jP,[Ge(I("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>r.searchQuery=l),class:"form-control",type:"search",placeholder:"Tìm kiếm bài viết...","aria-label":"Search"},null,512),[[Qe,r.searchQuery]])]),I("nav",HP,[Bt(o,{to:"/",class:"nav-link",title:"Trang chủ"},{default:pn(()=>t[2]||(t[2]=[I("i",{class:"bi bi-house-door-fill"},null,-1)])),_:1}),Bt(o,{to:"/account",class:"nav-link",title:"Tài khoản"},{default:pn(()=>t[3]||(t[3]=[I("i",{class:"bi bi-person-circle"},null,-1)])),_:1}),Bt(o,{to:"/dangbaiviet",class:"nav-link",title:"Đăng bài"},{default:pn(()=>t[4]||(t[4]=[I("i",{class:"bi bi-file-earmark-plus-fill"},null,-1)])),_:1})])])]),r.searchQuery.trim()&&i.filteredPosts.length?(dt(),mt("div",KP,[I("div",qP,[(dt(!0),mt(Jt,null,Es(i.filteredPosts,l=>(dt(),mt("div",{key:l.id,class:"col"},[I("div",WP,[Bt(o,{to:`/news/${l.id}`,class:"text-decoration-none"},{default:pn(()=>[I("img",{src:l.imageFile,alt:"Post Image",class:"card-img-top"},null,8,zP),I("div",GP,[I("h6",QP,Pt(l.title),1)])]),_:2},1032,["to"])])]))),128))])])):xe("",!0),t[5]||(t[5]=ro('<div id="carouselExample" class="carousel slide" data-bs-ride="carousel" data-v-3ba94291><div class="carousel-inner" data-v-3ba94291><div class="carousel-item active" data-v-3ba94291><img src="'+VP+'" class="d-block w-100" alt="Banner 1" data-v-3ba94291></div><div class="carousel-item" data-v-3ba94291><img src="'+MP+'" class="d-block w-100" alt="Banner 2" data-v-3ba94291></div><div class="carousel-item" data-v-3ba94291><img src="'+$P+'" class="d-block w-100" alt="Banner 3" data-v-3ba94291></div></div><button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev" data-v-3ba94291><span class="carousel-control-prev-icon" data-v-3ba94291></span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next" data-v-3ba94291><span class="carousel-control-next-icon" data-v-3ba94291></span></button></div>',1))],64)}const XP=Dn(FP,[["render",YP],["__scopeId","data-v-3ba94291"]]),JP={},ZP={class:"bg-dark text-white pt-4"};function tO(e,t){return dt(),mt("footer",ZP,t[0]||(t[0]=[ro('<div class="container text-center text-md-start" data-v-2e05a7e8><div class="row" data-v-2e05a7e8><div class="col-md-4 mb-3" data-v-2e05a7e8><h5 data-v-2e05a7e8>Liên hệ</h5><p class="mb-1" data-v-2e05a7e8><i class="bi bi-geo-alt-fill" data-v-2e05a7e8></i> 123, Đường ABC, TP. Hồ Chí Minh</p><p class="mb-1" data-v-2e05a7e8><i class="bi bi-telephone-fill" data-v-2e05a7e8></i> 0123 456 789</p><p class="mb-0" data-v-2e05a7e8><i class="bi bi-envelope-fill" data-v-2e05a7e8></i> contact@fpt.edu.vn</p></div><div class="col-md-4 mb-3" data-v-2e05a7e8><h5 data-v-2e05a7e8>Liên kết nhanh</h5><ul class="list-unstyled" data-v-2e05a7e8><li data-v-2e05a7e8><i class="bi bi-chevron-right" data-v-2e05a7e8></i> <a href="#" class="text-white text-decoration-none" data-v-2e05a7e8>Trang chủ</a></li><li data-v-2e05a7e8><i class="bi bi-chevron-right" data-v-2e05a7e8></i> <a href="#" class="text-white text-decoration-none" data-v-2e05a7e8>Giới thiệu</a></li><li data-v-2e05a7e8><i class="bi bi-chevron-right" data-v-2e05a7e8></i> <a href="#" class="text-white text-decoration-none" data-v-2e05a7e8>Khóa học</a></li><li data-v-2e05a7e8><i class="bi bi-chevron-right" data-v-2e05a7e8></i> <a href="#" class="text-white text-decoration-none" data-v-2e05a7e8>Liên hệ</a></li></ul></div><div class="col-md-4" data-v-2e05a7e8><h5 data-v-2e05a7e8>Kết nối với chúng tôi</h5><div class="d-flex gap-3" data-v-2e05a7e8><a href="#" class="text-white fs-4" data-v-2e05a7e8><i class="bi bi-facebook" data-v-2e05a7e8></i></a><a href="#" class="text-white fs-4" data-v-2e05a7e8><i class="bi bi-twitter" data-v-2e05a7e8></i></a><a href="#" class="text-white fs-4" data-v-2e05a7e8><i class="bi bi-instagram" data-v-2e05a7e8></i></a><a href="#" class="text-white fs-4" data-v-2e05a7e8><i class="bi bi-youtube" data-v-2e05a7e8></i></a></div></div></div></div><div class="text-center py-3 mt-3 border-top border-secondary" data-v-2e05a7e8><p class="mb-0" data-v-2e05a7e8><i class="bi bi-c-circle" data-v-2e05a7e8></i> Copyright by FPT Polytechnic</p></div>',2)]))}const eO=Dn(JP,[["render",tO],["__scopeId","data-v-2e05a7e8"]]);/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Cr=typeof document<"u";function Iy(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function nO(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Iy(e.default)}const xt=Object.assign;function Sc(e,t){const n={};for(const s in t){const r=t[s];n[s]=ln(r)?r.map(e):e(r)}return n}const Qi=()=>{},ln=Array.isArray,Sy=/#/g,sO=/&/g,rO=/\//g,iO=/=/g,oO=/\?/g,Cy=/\+/g,aO=/%5B/g,lO=/%5D/g,Ry=/%5E/g,cO=/%60/g,Py=/%7B/g,uO=/%7C/g,Oy=/%7D/g,hO=/%20/g;function Uh(e){return encodeURI(""+e).replace(uO,"|").replace(aO,"[").replace(lO,"]")}function dO(e){return Uh(e).replace(Py,"{").replace(Oy,"}").replace(Ry,"^")}function Pu(e){return Uh(e).replace(Cy,"%2B").replace(hO,"+").replace(Sy,"%23").replace(sO,"%26").replace(cO,"`").replace(Py,"{").replace(Oy,"}").replace(Ry,"^")}function fO(e){return Pu(e).replace(iO,"%3D")}function pO(e){return Uh(e).replace(Sy,"%23").replace(oO,"%3F")}function mO(e){return e==null?"":pO(e).replace(rO,"%2F")}function po(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const gO=/\/$/,_O=e=>e.replace(gO,"");function Cc(e,t,n="/"){let s,r={},i="",o="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=t.slice(0,c),i=t.slice(c+1,l>-1?l:t.length),r=e(i)),l>-1&&(s=s||t.slice(0,l),o=t.slice(l,t.length)),s=TO(s??t,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:po(o)}}function vO(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function im(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function yO(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Jr(t.matched[s],n.matched[r])&&Ny(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Jr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ny(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!EO(e[n],t[n]))return!1;return!0}function EO(e,t){return ln(e)?om(e,t):ln(t)?om(t,e):e===t}function om(e,t){return ln(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function TO(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const rs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var mo;(function(e){e.pop="pop",e.push="push"})(mo||(mo={}));var Yi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Yi||(Yi={}));function bO(e){if(!e)if(Cr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),_O(e)}const wO=/^[^#]+#/;function AO(e,t){return e.replace(wO,"#")+t}function IO(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const kl=()=>({left:window.scrollX,top:window.scrollY});function SO(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=IO(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function am(e,t){return(history.state?history.state.position-t:-1)+e}const Ou=new Map;function CO(e,t){Ou.set(e,t)}function RO(e){const t=Ou.get(e);return Ou.delete(e),t}let PO=()=>location.protocol+"//"+location.host;function Dy(e,t){const{pathname:n,search:s,hash:r}=t,i=e.indexOf("#");if(i>-1){let l=r.includes(e.slice(i))?e.slice(i).length:1,c=r.slice(l);return c[0]!=="/"&&(c="/"+c),im(c,"")}return im(n,e)+s+r}function OO(e,t,n,s){let r=[],i=[],o=null;const l=({state:g})=>{const _=Dy(e,location),N=n.value,R=t.value;let P=0;if(g){if(n.value=_,t.value=g,o&&o===N){o=null;return}P=R?g.position-R.position:0}else s(_);r.forEach(M=>{M(n.value,N,{delta:P,type:mo.pop,direction:P?P>0?Yi.forward:Yi.back:Yi.unknown})})};function c(){o=n.value}function h(g){r.push(g);const _=()=>{const N=r.indexOf(g);N>-1&&r.splice(N,1)};return i.push(_),_}function d(){const{history:g}=window;g.state&&g.replaceState(xt({},g.state,{scroll:kl()}),"")}function p(){for(const g of i)g();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:h,destroy:p}}function lm(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?kl():null}}function NO(e){const{history:t,location:n}=window,s={value:Dy(e,n)},r={value:t.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,h,d){const p=e.indexOf("#"),g=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+c:PO()+e+c;try{t[d?"replaceState":"pushState"](h,"",g),r.value=h}catch(_){console.error(_),n[d?"replace":"assign"](g)}}function o(c,h){const d=xt({},t.state,lm(r.value.back,c,r.value.forward,!0),h,{position:r.value.position});i(c,d,!0),s.value=c}function l(c,h){const d=xt({},r.value,t.state,{forward:c,scroll:kl()});i(d.current,d,!0);const p=xt({},lm(s.value,c,null),{position:d.position+1},h);i(c,p,!1),s.value=c}return{location:s,state:r,push:l,replace:o}}function DO(e){e=bO(e);const t=NO(e),n=OO(e,t.state,t.location,t.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=xt({location:"",base:e,go:s,createHref:AO.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function kO(e){return typeof e=="string"||e&&typeof e=="object"}function ky(e){return typeof e=="string"||typeof e=="symbol"}const xy=Symbol("");var cm;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(cm||(cm={}));function Zr(e,t){return xt(new Error,{type:e,[xy]:!0},t)}function Vn(e,t){return e instanceof Error&&xy in e&&(t==null||!!(e.type&t))}const um="[^/]+?",xO={sensitive:!1,strict:!1,start:!0,end:!0},LO=/[.+*?^${}()[\]/\\]/g;function VO(e,t){const n=xt({},xO,t),s=[];let r=n.start?"^":"";const i=[];for(const h of e){const d=h.length?[]:[90];n.strict&&!h.length&&(r+="/");for(let p=0;p<h.length;p++){const g=h[p];let _=40+(n.sensitive?.25:0);if(g.type===0)p||(r+="/"),r+=g.value.replace(LO,"\\$&"),_+=40;else if(g.type===1){const{value:N,repeatable:R,optional:P,regexp:M}=g;i.push({name:N,repeatable:R,optional:P});const $=M||um;if($!==um){_+=10;try{new RegExp(`(${$})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${N}" (${$}): `+x.message)}}let F=R?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;p||(F=P&&h.length<2?`(?:/${F})`:"/"+F),P&&(F+="?"),r+=F,_+=20,P&&(_+=-8),R&&(_+=-20),$===".*"&&(_+=-50)}d.push(_)}s.push(d)}if(n.strict&&n.end){const h=s.length-1;s[h][s[h].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function l(h){const d=h.match(o),p={};if(!d)return null;for(let g=1;g<d.length;g++){const _=d[g]||"",N=i[g-1];p[N.name]=_&&N.repeatable?_.split("/"):_}return p}function c(h){let d="",p=!1;for(const g of e){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const _ of g)if(_.type===0)d+=_.value;else if(_.type===1){const{value:N,repeatable:R,optional:P}=_,M=N in h?h[N]:"";if(ln(M)&&!R)throw new Error(`Provided param "${N}" is an array but it is not repeatable (* or + modifiers)`);const $=ln(M)?M.join("/"):M;if(!$)if(P)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${N}"`);d+=$}}return d||"/"}return{re:o,score:s,keys:i,parse:l,stringify:c}}function MO(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Ly(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const i=MO(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(hm(s))return 1;if(hm(r))return-1}return r.length-s.length}function hm(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const $O={type:0,value:""},FO=/[a-zA-Z0-9_]/;function UO(e){if(!e)return[[]];if(e==="/")return[[$O]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${n})/"${h}": ${_}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let l=0,c,h="",d="";function p(){h&&(n===0?i.push({type:0,value:h}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:h,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),h="")}function g(){h+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(h&&p(),o()):c===":"?(p(),n=1):g();break;case 4:g(),n=s;break;case 1:c==="("?n=2:FO.test(c)?g():(p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:n=3:d+=c;break;case 3:p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),p(),o(),r}function BO(e,t,n){const s=VO(UO(e.path),n),r=xt(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function jO(e,t){const n=[],s=new Map;t=mm({strict:!1,end:!0,sensitive:!1},t);function r(p){return s.get(p)}function i(p,g,_){const N=!_,R=fm(p);R.aliasOf=_&&_.record;const P=mm(t,p),M=[R];if("alias"in p){const x=typeof p.alias=="string"?[p.alias]:p.alias;for(const Z of x)M.push(fm(xt({},R,{components:_?_.record.components:R.components,path:Z,aliasOf:_?_.record:R})))}let $,F;for(const x of M){const{path:Z}=x;if(g&&Z[0]!=="/"){const tt=g.record.path,w=tt[tt.length-1]==="/"?"":"/";x.path=g.record.path+(Z&&w+Z)}if($=BO(x,g,P),_?_.alias.push($):(F=F||$,F!==$&&F.alias.push($),N&&p.name&&!pm($)&&o(p.name)),Vy($)&&c($),R.children){const tt=R.children;for(let w=0;w<tt.length;w++)i(tt[w],$,_&&_.children[w])}_=_||$}return F?()=>{o(F)}:Qi}function o(p){if(ky(p)){const g=s.get(p);g&&(s.delete(p),n.splice(n.indexOf(g),1),g.children.forEach(o),g.alias.forEach(o))}else{const g=n.indexOf(p);g>-1&&(n.splice(g,1),p.record.name&&s.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function l(){return n}function c(p){const g=qO(p,n);n.splice(g,0,p),p.record.name&&!pm(p)&&s.set(p.record.name,p)}function h(p,g){let _,N={},R,P;if("name"in p&&p.name){if(_=s.get(p.name),!_)throw Zr(1,{location:p});P=_.record.name,N=xt(dm(g.params,_.keys.filter(F=>!F.optional).concat(_.parent?_.parent.keys.filter(F=>F.optional):[]).map(F=>F.name)),p.params&&dm(p.params,_.keys.map(F=>F.name))),R=_.stringify(N)}else if(p.path!=null)R=p.path,_=n.find(F=>F.re.test(R)),_&&(N=_.parse(R),P=_.record.name);else{if(_=g.name?s.get(g.name):n.find(F=>F.re.test(g.path)),!_)throw Zr(1,{location:p,currentLocation:g});P=_.record.name,N=xt({},g.params,p.params),R=_.stringify(N)}const M=[];let $=_;for(;$;)M.unshift($.record),$=$.parent;return{name:P,path:R,params:N,matched:M,meta:KO(M)}}e.forEach(p=>i(p));function d(){n.length=0,s.clear()}return{addRoute:i,resolve:h,removeRoute:o,clearRoutes:d,getRoutes:l,getRecordMatcher:r}}function dm(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function fm(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:HO(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function HO(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function pm(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function KO(e){return e.reduce((t,n)=>xt(t,n.meta),{})}function mm(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function qO(e,t){let n=0,s=t.length;for(;n!==s;){const i=n+s>>1;Ly(e,t[i])<0?s=i:n=i+1}const r=WO(e);return r&&(s=t.lastIndexOf(r,s-1)),s}function WO(e){let t=e;for(;t=t.parent;)if(Vy(t)&&Ly(e,t)===0)return t}function Vy({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function zO(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Cy," "),o=i.indexOf("="),l=po(o<0?i:i.slice(0,o)),c=o<0?null:po(i.slice(o+1));if(l in t){let h=t[l];ln(h)||(h=t[l]=[h]),h.push(c)}else t[l]=c}return t}function gm(e){let t="";for(let n in e){const s=e[n];if(n=fO(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(ln(s)?s.map(i=>i&&Pu(i)):[s&&Pu(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function GO(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=ln(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const QO=Symbol(""),_m=Symbol(""),Bh=Symbol(""),jh=Symbol(""),Nu=Symbol("");function Oi(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function ls(e,t,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((l,c)=>{const h=g=>{g===!1?c(Zr(4,{from:n,to:t})):g instanceof Error?c(g):kO(g)?c(Zr(2,{from:t,to:g})):(o&&s.enterCallbacks[r]===o&&typeof g=="function"&&o.push(g),l())},d=i(()=>e.call(s&&s.instances[r],t,n,h));let p=Promise.resolve(d);e.length<3&&(p=p.then(h)),p.catch(g=>c(g))})}function Rc(e,t,n,s,r=i=>i()){const i=[];for(const o of e)for(const l in o.components){let c=o.components[l];if(!(t!=="beforeRouteEnter"&&!o.instances[l]))if(Iy(c)){const d=(c.__vccOpts||c)[t];d&&i.push(ls(d,n,s,o,l,r))}else{let h=c();i.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const p=nO(d)?d.default:d;o.mods[l]=d,o.components[l]=p;const _=(p.__vccOpts||p)[t];return _&&ls(_,n,s,o,l,r)()}))}}return i}function vm(e){const t=_n(Bh),n=_n(jh),s=We(()=>{const c=Lr(e.to);return t.resolve(c)}),r=We(()=>{const{matched:c}=s.value,{length:h}=c,d=c[h-1],p=n.matched;if(!d||!p.length)return-1;const g=p.findIndex(Jr.bind(null,d));if(g>-1)return g;const _=ym(c[h-2]);return h>1&&ym(d)===_&&p[p.length-1].path!==_?p.findIndex(Jr.bind(null,c[h-2])):g}),i=We(()=>r.value>-1&&ZO(n.params,s.value.params)),o=We(()=>r.value>-1&&r.value===n.matched.length-1&&Ny(n.params,s.value.params));function l(c={}){return JO(c)?t[Lr(e.replace)?"replace":"push"](Lr(e.to)).catch(Qi):Promise.resolve()}return{route:s,href:We(()=>s.value.href),isActive:i,isExactActive:o,navigate:l}}const YO=Vg({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:vm,setup(e,{slots:t}){const n=cl(vm(e)),{options:s}=_n(Bh),r=We(()=>({[Em(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Em(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:l_("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),XO=YO;function JO(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ZO(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!ln(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function ym(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Em=(e,t,n)=>e??t??n,tN=Vg({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=_n(Nu),r=We(()=>e.route||s.value),i=_n(_m,0),o=We(()=>{let h=Lr(i);const{matched:d}=r.value;let p;for(;(p=d[h])&&!p.components;)h++;return h}),l=We(()=>r.value.matched[o.value]);da(_m,We(()=>o.value+1)),da(QO,l),da(Nu,r);const c=sn();return fa(()=>[c.value,l.value,e.name],([h,d,p],[g,_,N])=>{d&&(d.instances[p]=h,_&&_!==d&&h&&h===g&&(d.leaveGuards.size||(d.leaveGuards=_.leaveGuards),d.updateGuards.size||(d.updateGuards=_.updateGuards))),h&&d&&(!_||!Jr(d,_)||!g)&&(d.enterCallbacks[p]||[]).forEach(R=>R(h))},{flush:"post"}),()=>{const h=r.value,d=e.name,p=l.value,g=p&&p.components[d];if(!g)return Tm(n.default,{Component:g,route:h});const _=p.props[d],N=_?_===!0?h.params:typeof _=="function"?_(h):_:null,P=l_(g,xt({},N,t,{onVnodeUnmounted:M=>{M.component.isUnmounted&&(p.instances[d]=null)},ref:c}));return Tm(n.default,{Component:P,route:h})||P}}});function Tm(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const eN=tN;function nN(e){const t=jO(e.routes,e),n=e.parseQuery||zO,s=e.stringifyQuery||gm,r=e.history,i=Oi(),o=Oi(),l=Oi(),c=BT(rs);let h=rs;Cr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Sc.bind(null,L=>""+L),p=Sc.bind(null,mO),g=Sc.bind(null,po);function _(L,J){let Q,st;return ky(L)?(Q=t.getRecordMatcher(L),st=J):st=L,t.addRoute(st,Q)}function N(L){const J=t.getRecordMatcher(L);J&&t.removeRoute(J)}function R(){return t.getRoutes().map(L=>L.record)}function P(L){return!!t.getRecordMatcher(L)}function M(L,J){if(J=xt({},J||c.value),typeof L=="string"){const b=Cc(n,L,J.path),D=t.resolve({path:b.path},J),B=r.createHref(b.fullPath);return xt(b,D,{params:g(D.params),hash:po(b.hash),redirectedFrom:void 0,href:B})}let Q;if(L.path!=null)Q=xt({},L,{path:Cc(n,L.path,J.path).path});else{const b=xt({},L.params);for(const D in b)b[D]==null&&delete b[D];Q=xt({},L,{params:p(b)}),J.params=p(J.params)}const st=t.resolve(Q,J),yt=L.hash||"";st.params=d(g(st.params));const kt=vO(s,xt({},L,{hash:dO(yt),path:st.path})),y=r.createHref(kt);return xt({fullPath:kt,hash:yt,query:s===gm?GO(L.query):L.query||{}},st,{redirectedFrom:void 0,href:y})}function $(L){return typeof L=="string"?Cc(n,L,c.value.path):xt({},L)}function F(L,J){if(h!==L)return Zr(8,{from:J,to:L})}function x(L){return w(L)}function Z(L){return x(xt($(L),{replace:!0}))}function tt(L){const J=L.matched[L.matched.length-1];if(J&&J.redirect){const{redirect:Q}=J;let st=typeof Q=="function"?Q(L):Q;return typeof st=="string"&&(st=st.includes("?")||st.includes("#")?st=$(st):{path:st},st.params={}),xt({query:L.query,hash:L.hash,params:st.path!=null?{}:L.params},st)}}function w(L,J){const Q=h=M(L),st=c.value,yt=L.state,kt=L.force,y=L.replace===!0,b=tt(Q);if(b)return w(xt($(b),{state:typeof b=="object"?xt({},yt,b.state):yt,force:kt,replace:y}),J||Q);const D=Q;D.redirectedFrom=J;let B;return!kt&&yO(s,st,Q)&&(B=Zr(16,{to:D,from:st}),de(st,st,!0,!1)),(B?Promise.resolve(B):A(D,st)).catch(V=>Vn(V)?Vn(V,2)?V:he(V):vt(V,D,st)).then(V=>{if(V){if(Vn(V,2))return w(xt({replace:y},$(V.to),{state:typeof V.to=="object"?xt({},yt,V.to.state):yt,force:kt}),J||D)}else V=C(D,st,!0,y,yt);return S(D,st,V),V})}function v(L,J){const Q=F(L,J);return Q?Promise.reject(Q):Promise.resolve()}function E(L){const J=Ie.values().next().value;return J&&typeof J.runWithContext=="function"?J.runWithContext(L):L()}function A(L,J){let Q;const[st,yt,kt]=sN(L,J);Q=Rc(st.reverse(),"beforeRouteLeave",L,J);for(const b of st)b.leaveGuards.forEach(D=>{Q.push(ls(D,L,J))});const y=v.bind(null,L,J);return Q.push(y),Yt(Q).then(()=>{Q=[];for(const b of i.list())Q.push(ls(b,L,J));return Q.push(y),Yt(Q)}).then(()=>{Q=Rc(yt,"beforeRouteUpdate",L,J);for(const b of yt)b.updateGuards.forEach(D=>{Q.push(ls(D,L,J))});return Q.push(y),Yt(Q)}).then(()=>{Q=[];for(const b of kt)if(b.beforeEnter)if(ln(b.beforeEnter))for(const D of b.beforeEnter)Q.push(ls(D,L,J));else Q.push(ls(b.beforeEnter,L,J));return Q.push(y),Yt(Q)}).then(()=>(L.matched.forEach(b=>b.enterCallbacks={}),Q=Rc(kt,"beforeRouteEnter",L,J,E),Q.push(y),Yt(Q))).then(()=>{Q=[];for(const b of o.list())Q.push(ls(b,L,J));return Q.push(y),Yt(Q)}).catch(b=>Vn(b,8)?b:Promise.reject(b))}function S(L,J,Q){l.list().forEach(st=>E(()=>st(L,J,Q)))}function C(L,J,Q,st,yt){const kt=F(L,J);if(kt)return kt;const y=J===rs,b=Cr?history.state:{};Q&&(st||y?r.replace(L.fullPath,xt({scroll:y&&b&&b.scroll},yt)):r.push(L.fullPath,yt)),c.value=L,de(L,J,Q,y),he()}let T;function Ht(){T||(T=r.listen((L,J,Q)=>{if(!te.listening)return;const st=M(L),yt=tt(st);if(yt){w(xt(yt,{replace:!0}),st).catch(Qi);return}h=st;const kt=c.value;Cr&&CO(am(kt.fullPath,Q.delta),kl()),A(st,kt).catch(y=>Vn(y,12)?y:Vn(y,2)?(w(y.to,st).then(b=>{Vn(b,20)&&!Q.delta&&Q.type===mo.pop&&r.go(-1,!1)}).catch(Qi),Promise.reject()):(Q.delta&&r.go(-Q.delta,!1),vt(y,st,kt))).then(y=>{y=y||C(st,kt,!1),y&&(Q.delta&&!Vn(y,8)?r.go(-Q.delta,!1):Q.type===mo.pop&&Vn(y,20)&&r.go(-1,!1)),S(st,kt,y)}).catch(Qi)}))}let Qt=Oi(),Tt=Oi(),ht;function vt(L,J,Q){he(L);const st=Tt.list();return st.length?st.forEach(yt=>yt(L,J,Q)):console.error(L),Promise.reject(L)}function Wt(){return ht&&c.value!==rs?Promise.resolve():new Promise((L,J)=>{Qt.add([L,J])})}function he(L){return ht||(ht=!L,Ht(),Qt.list().forEach(([J,Q])=>L?Q(L):J()),Qt.reset()),L}function de(L,J,Q,st){const{scrollBehavior:yt}=e;if(!Cr||!yt)return Promise.resolve();const kt=!Q&&RO(am(L.fullPath,0))||(st||!Q)&&history.state&&history.state.scroll||null;return Ng().then(()=>yt(L,J,kt)).then(y=>y&&SO(y)).catch(y=>vt(y,L,J))}const Dt=L=>r.go(L);let Lt;const Ie=new Set,te={currentRoute:c,listening:!0,addRoute:_,removeRoute:N,clearRoutes:t.clearRoutes,hasRoute:P,getRoutes:R,resolve:M,options:e,push:x,replace:Z,go:Dt,back:()=>Dt(-1),forward:()=>Dt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:Tt.add,isReady:Wt,install(L){const J=this;L.component("RouterLink",XO),L.component("RouterView",eN),L.config.globalProperties.$router=J,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>Lr(c)}),Cr&&!Lt&&c.value===rs&&(Lt=!0,x(r.location).catch(yt=>{}));const Q={};for(const yt in rs)Object.defineProperty(Q,yt,{get:()=>c.value[yt],enumerable:!0});L.provide(Bh,J),L.provide(jh,Sg(Q)),L.provide(Nu,c);const st=L.unmount;Ie.add(L),L.unmount=function(){Ie.delete(L),Ie.size<1&&(h=rs,T&&T(),T=null,c.value=rs,Lt=!1,ht=!1),st()}}};function Yt(L){return L.reduce((J,Q)=>J.then(()=>E(Q)),Promise.resolve())}return te}function sN(e,t){const n=[],s=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const l=t.matched[o];l&&(e.matched.find(h=>Jr(h,l))?s.push(l):n.push(l));const c=e.matched[o];c&&(t.matched.find(h=>Jr(h,c))||r.push(c))}return[n,s,r]}function rN(e){return _n(jh)}const iN={__name:"App",setup(e){const t=rN(),n=We(()=>{var s;return((s=t.meta)==null?void 0:s.layout)!=="none"});return(s,r)=>{const i=ai("router-view");return dt(),mt(Jt,null,[n.value?(dt(),eu(XP,{key:0})):xe("",!0),Bt(i),n.value?(dt(),eu(eO,{key:1})):xe("",!0)],64)}}},oN={data(){return{selectedCategory:"all",categories:[{id:"all",name:"Tất Cả",icon:"bi bi-newspaper"},{id:"Worlds",name:"Thế Giới",icon:"bi bi-globe"},{id:"Technology",name:"Công Nghệ",icon:"bi bi-cpu"},{id:"Sports",name:"Thể Thao",icon:"bi bi-trophy"},{id:"Entertaiment",name:"Giải Trí",icon:"bi bi-film"}],posts:[]}},computed:{filteredPosts(){return this.selectedCategory==="all"?this.posts:this.posts.filter(e=>e.category===this.selectedCategory)}},async created(){try{const e=await Bv(xv(Fh,"News"));this.posts=e.docs.map(t=>{let n=t.data();return n.DatePost&&typeof n.DatePost.toDate=="function"&&(n.DatePost=n.DatePost.toDate()),{...n,id:t.id}})}catch(e){console.error("Lỗi khi lấy tin tức:",e)}},methods:{filterNews(e){console.log("Chọn danh mục:",e),this.selectedCategory=e},formatDate(e){return e?new Date(e).toLocaleDateString():"Không xác định"}}},aN={class:"news-container"},lN={class:"navbar navbar-expand-lg navbar-dark bg-dark mb-3"},cN={class:"container"},uN={class:"collapse navbar-collapse",id:"navbarNav"},hN={class:"navbar-nav"},dN=["onClick"],fN={key:0,class:"container"},pN={class:"col-auto"},mN=["src"],gN={class:"col"},_N={class:"fw-bold"},vN={class:"text-muted mb-1"},yN={class:"mb-0"},EN={key:1,class:"no-news"};function TN(e,t,n,s,r,i){const o=ai("router-link");return dt(),mt("div",aN,[t[10]||(t[10]=I("header",{class:"news-header"},[I("h1",{class:"news-title"},"Tin Tức Mới Nhất")],-1)),I("nav",lN,[I("div",cN,[t[0]||(t[0]=I("a",{class:"navbar-brand",href:"#"},"Báo Mới",-1)),t[1]||(t[1]=I("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[I("span",{class:"navbar-toggler-icon"})],-1)),I("div",uN,[I("ul",hN,[(dt(!0),mt(Jt,null,Es(r.categories,l=>(dt(),mt("li",{class:"nav-item",key:l.id},[I("a",{class:Zi(["nav-link",{active:r.selectedCategory===l.id}]),onClick:c=>i.filterNews(l.id)},[I("i",{class:Zi(l.icon)},null,2),ce(" "+Pt(l.name),1)],10,dN)]))),128))])])])]),i.filteredPosts.length?(dt(),mt("div",fN,[(dt(!0),mt(Jt,null,Es(i.filteredPosts,l=>(dt(),mt("div",{key:l.id,class:"row align-items-center p-2 mb-2"},[I("div",pN,[I("img",{src:l.imageFile,alt:"Post Image",class:"img-fluid rounded",style:{width:"155px",height:"110px","object-fit":"cover"}},null,8,mN)]),I("div",gN,[I("h5",_N,Pt(l.title),1),I("p",vN,[t[2]||(t[2]=I("i",{class:"bi bi-person"},null,-1)),t[3]||(t[3]=ce()),t[4]||(t[4]=I("strong",null,"Tác giả:",-1)),ce(" "+Pt(l.Author||"Ẩn danh")+" | ",1),t[5]||(t[5]=I("i",{class:"bi bi-calendar"},null,-1)),t[6]||(t[6]=ce()),t[7]||(t[7]=I("strong",null,"Ngày đăng:",-1)),ce(" "+Pt(i.formatDate(l.DatePost)),1)]),I("p",yN,Pt(l.description||"Không có mô tả."),1),Bt(o,{to:`/news/${l.id}`,class:"read-more"},{default:pn(()=>t[8]||(t[8]=[ce("Xem chi tiết")])),_:2},1032,["to"])])]))),128))])):(dt(),mt("div",EN,t[9]||(t[9]=[I("p",null,"Không có bài viết nào để hiển thị.",-1)])))])}const bN=Dn(oN,[["render",TN],["__scopeId","data-v-7659c103"]]),wN="/newsweb/assets/tim-mach-DbxNHyuR.jpg",Pc="/newsweb/assets/sesameoil_300x300-Cxr8OoHb.jpg";(function(){var e=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(e).forEach(function(t){t.addEventListener("submit",function(n){t.checkValidity()||(n.preventDefault(),n.stopPropagation()),t.classList.add("was-validated")},!1)})})();const AN={},IN={class:"container-fluid"},SN={class:"container mt-5"};function CN(e,t,n,s,r,i){const o=ai("router-link");return dt(),mt("div",IN,[I("div",SN,[t[1]||(t[1]=I("div",{class:"text-center mb-4"},[I("h1",null,"Bài Viết"),I("p",null,"Đăng ký nhận email ngay để được cập nhật thông tin sản phẩm và bài viết về chương trình khuyến mãi."),I("form",null,[I("div",{class:"mb-3"},[I("input",{type:"email",class:"form-control",placeholder:"Email của bạn",style:{"max-width":"400px",margin:"0 auto"}})]),I("button",{type:"submit",class:"btn btn-primary shadow mb-3 text-white"},[I("strong",null,"Đăng ký")])])],-1)),Bt(o,{to:"/post",class:"text-decoration-none text-reset"},{default:pn(()=>t[0]||(t[0]=[I("div",{class:"row mb-4"},[I("div",{class:"col-md-6"},[I("img",{src:wN,alt:"Highlighted Post Image"})]),I("div",{class:"col-md-6 d-flex align-items-center highlighted-post"},[I("div",null,[I("span",{class:"badge bg-light text-dark mb-2"},"Latest"),I("h3",null,"Chuột Lamzu chính thức hỗ trợ 8000Hz Polling Rate cho các dòng sử dụng Nordic MCU"),I("p",null,"Trên dòng sản phẩm chuột Lamzu, công nghệ mới đã được tích hợp để hỗ trợ tốc độ phản hồi..."),I("p",{class:"text-light"},"11 Tháng 11, 2023")])])],-1)])),_:1}),t[2]||(t[2]=ro('<div class="row"><div class="col-md-4 small-post"><img src="'+Pc+'" alt="Small Post 1"><h5 class="post-title mt-2">Tìm hiểu tính năng Dynamic Auto-Caliberation trên bàn phím...</h5><p>Đặc điểm nổi bật của Dynamic Auto-Caliberation...</p><p class="text-muted">11 Tháng 11, 2023</p></div><div class="col-md-4 small-post"><img src="'+Pc+'" alt="Small Post 2"><h5 class="post-title mt-2">Pwnage ra mắt Zenblades 65...</h5><p>Phiên bản Zenblades mới hỗ trợ người dùng tùy chỉnh...</p><p class="text-muted">11 Tháng 11, 2023</p></div><div class="col-md-4 small-post"><img src="'+Pc+'" alt="Small Post 3"><h5 class="post-title mt-2">8000 Hz Polling Rate...</h5><p>Giới thiệu công nghệ mới...</p><p class="text-muted">11 Tháng 11, 2023</p></div></div>',1))])])}const RN=Dn(AN,[["render",CN]]),PN={data(){return{username:"",email:"",password:"",confirmPassword:"",errorUsername:"",errorEmail:"",errorPassword:"",errorMessage:""}},methods:{validateUsername(e){return e?e.length<4?"Tên đăng nhập phải có ít nhất 4 ký tự!":/^[a-zA-Z0-9_]+$/.test(e)?"":"Tên đăng nhập chỉ được chứa chữ cái, số và dấu gạch dưới!":"Tên đăng nhập không được để trống!"},validateEmail(e){return e?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)?"":"Email không hợp lệ!":"Email không được để trống!"},validatePassword(e){return e?e.length<6?"Mật khẩu phải có ít nhất 6 ký tự!":/[A-Z]/.test(e)?/[a-z]/.test(e)?/[0-9]/.test(e)?"":"Mật khẩu phải chứa ít nhất một số!":"Mật khẩu phải chứa ít nhất một chữ thường!":"Mật khẩu phải chứa ít nhất một chữ hoa!":"Mật khẩu không được để trống!"},loginWithGoogle(){vy(wy,Ay).then(e=>{console.log("Đăng nhập với Google thành công:",e.user),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("user",JSON.stringify(e.user)),this.$router.push("/")}).catch(e=>{console.error("Lỗi đăng nhập với Google:",e),this.errorMessage="Lỗi đăng nhập với Google!"})},register(){if(this.errorUsername=this.validateUsername(this.username),this.errorEmail=this.validateEmail(this.email),this.errorPassword=this.validatePassword(this.password),this.errorUsername||this.errorEmail||this.errorPassword){this.errorMessage="Vui lòng kiểm tra lại thông tin.";return}if(this.password!==this.confirmPassword){this.errorMessage="Mật khẩu xác nhận không khớp!";return}const e={username:this.username,email:this.email,password:this.password};localStorage.setItem("user",JSON.stringify(e)),alert("Đăng ký thành công!"),this.$router.push("/Login")}}},ON={class:"d-flex justify-content-center vh-100 align-items-center bg-light"},NN={class:"register d-flex flex-column border shadow-lg p-4 rounded-4 col-12 col-sm-8 col-md-6 col-lg-5 bg-white"},DN={class:"input-group mb-3"},kN={key:0,class:"text-danger text-center fw-bold"},xN={class:"input-group mb-3"},LN={key:1,class:"text-danger text-center fw-bold"},VN={class:"input-group mb-3"},MN={key:2,class:"text-danger text-center fw-bold"},$N={class:"input-group mb-3"},FN={key:3,class:"text-danger text-center fw-bold"};function UN(e,t,n,s,r,i){const o=ai("router-link");return dt(),mt("form",{id:"registerForm",onSubmit:t[5]||(t[5]=u_((...l)=>i.register&&i.register(...l),["prevent"]))},[I("div",ON,[I("div",NN,[t[12]||(t[12]=I("h1",{class:"text-success text-center fw-bold"},"Register",-1)),I("div",DN,[t[6]||(t[6]=I("span",{class:"input-group-text"},[I("i",{class:"bi bi-person"})],-1)),Ge(I("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>r.username=l),class:"form-control",type:"text",placeholder:"Nhập tên đăng nhập"},null,512),[[Qe,r.username]])]),r.errorUsername?(dt(),mt("p",kN,Pt(r.errorUsername),1)):xe("",!0),I("div",xN,[t[7]||(t[7]=I("span",{class:"input-group-text"},[I("i",{class:"bi bi-envelope"})],-1)),Ge(I("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>r.email=l),class:"form-control",type:"email",placeholder:"Nhập email"},null,512),[[Qe,r.email]])]),r.errorEmail?(dt(),mt("p",LN,Pt(r.errorEmail),1)):xe("",!0),I("div",VN,[t[8]||(t[8]=I("span",{class:"input-group-text"},[I("i",{class:"bi bi-lock"})],-1)),Ge(I("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>r.password=l),class:"form-control",type:"password",placeholder:"Nhập mật khẩu"},null,512),[[Qe,r.password]])]),r.errorPassword?(dt(),mt("p",MN,Pt(r.errorPassword),1)):xe("",!0),I("div",$N,[t[9]||(t[9]=I("span",{class:"input-group-text"},[I("i",{class:"bi bi-lock-fill"})],-1)),Ge(I("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>r.confirmPassword=l),class:"form-control",type:"password",placeholder:"Xác nhận mật khẩu"},null,512),[[Qe,r.confirmPassword]])]),r.errorMessage?(dt(),mt("p",FN,Pt(r.errorMessage),1)):xe("",!0),t[13]||(t[13]=I("button",{type:"submit",class:"btn btn-success w-100 fw-bold py-2"},[I("i",{class:"bi bi-person-plus"}),ce(" Đăng ký ")],-1)),Bt(o,{class:"text-center mt-3 d-block text-decoration-none text-primary fw-bold",to:"/DangNhap"},{default:pn(()=>t[10]||(t[10]=[I("i",{class:"bi bi-box-arrow-in-right"},null,-1),ce(" Đã có tài khoản? ")])),_:1}),I("button",{class:"btn btn-danger w-100 mt-3 fw-bold py-2",onClick:t[4]||(t[4]=(...l)=>i.loginWithGoogle&&i.loginWithGoogle(...l))},t[11]||(t[11]=[I("i",{class:"bi bi-google"},null,-1),ce(" Đăng nhập với Google ")]))])])],32)}const My=Dn(PN,[["render",UN]]),BN={data(){return{username:"",password:"",errorMessage:""}},methods:{login(){const e=JSON.parse(localStorage.getItem("user"));if(!e){this.errorMessage="Tài khoản không tồn tại. Vui lòng đăng ký!";return}this.username===e.username&&this.password===e.password?(alert("Đăng nhập thành công!"),localStorage.setItem("isLoggedIn","true"),this.$router.push("/")):this.errorMessage="Sai tên đăng nhập hoặc mật khẩu!"},loginWithGoogle(){vy(wy,Ay).then(e=>{console.log("Đăng nhập với Google thành công:",e.user),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("user",JSON.stringify(e.user)),this.$router.push("/")}).catch(e=>{console.error("Lỗi đăng nhập với Google:",e),this.errorMessage="Lỗi đăng nhập với Google!"})}}},jN={class:"container vh-100 d-flex justify-content-center align-items-center bg-light"},HN={class:"register d-flex flex-column border shadow-lg p-4 rounded-4 col-12 col-sm-8 col-md-6 col-lg-5 bg-white"},KN={class:"input-group mb-3"},qN={class:"input-group mb-3"},WN={key:0,class:"text-danger text-center fw-bold"};function zN(e,t,n,s,r,i){const o=ai("router-link");return dt(),mt("div",jN,[I("div",HN,[t[9]||(t[9]=I("h1",{class:"text-success text-center p-3 fw-bold"},"Login",-1)),I("div",KN,[t[4]||(t[4]=I("span",{class:"input-group-text"},[I("i",{class:"bi bi-person"})],-1)),Ge(I("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>r.username=l),class:"form-control",type:"text",placeholder:"Nhập tên đăng nhập"},null,512),[[Qe,r.username]])]),I("div",qN,[t[5]||(t[5]=I("span",{class:"input-group-text"},[I("i",{class:"bi bi-lock"})],-1)),Ge(I("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>r.password=l),class:"form-control",type:"password",placeholder:"Nhập mật khẩu"},null,512),[[Qe,r.password]])]),r.errorMessage?(dt(),mt("p",WN,Pt(r.errorMessage),1)):xe("",!0),I("button",{class:"btn btn-success w-100 fw-bold py-2",onClick:t[2]||(t[2]=(...l)=>i.login&&i.login(...l))},t[6]||(t[6]=[I("i",{class:"bi bi-box-arrow-in-right"},null,-1),ce(" Đăng nhập ")])),Bt(o,{class:"text-center mt-3 d-block text-decoration-none text-primary fw-bold",to:"/dangky"},{default:pn(()=>t[7]||(t[7]=[I("i",{class:"bi bi-person-plus"},null,-1),ce(" Chưa có tài khoản? ")])),_:1}),I("button",{class:"btn btn-danger w-100 mt-3 fw-bold py-2",onClick:t[3]||(t[3]=(...l)=>i.loginWithGoogle&&i.loginWithGoogle(...l))},t[8]||(t[8]=[I("i",{class:"bi bi-google"},null,-1),ce(" Đăng nhập với Google ")]))])])}const GN=Dn(BN,[["render",zN],["__scopeId","data-v-c674f009"]]),QN={class:"container text-center"},YN={class:"container mt-5"},XN={class:"mb-4"},JN={class:"mb-3"},ZN={key:0,class:"text-danger"},t1={class:"mb-3"},e1={key:0,class:"text-danger"},n1={class:"mb-3"},s1={key:0,class:"text-danger"},r1={type:"submit",class:"btn btn-info"},i1={key:0,class:"alert alert-success mt-3",role:"alert"},o1={key:1,class:"alert alert-danger mt-3",role:"alert"},a1={class:"table"},l1=["onClick"],c1=["onClick"],u1={__name:"dangbaiviet",setup(e){const t=sn(""),n=sn(""),s=sn(null),r=sn(JSON.parse(localStorage.getItem("posts"))||[]),i=sn(!1),o=sn(!1),l=sn(""),c=sn(""),h=sn(""),d=sn(null),p=R=>{r.value.splice(R,1),localStorage.setItem("posts",JSON.stringify(r.value))},g=R=>{const P=R.target.files[0];P&&(s.value=P)},_=R=>{d.value=R;const P=r.value[R];t.value=P.title,n.value=P.content,s.value=null},N=()=>{if(i.value=!1,o.value=!1,l.value="",c.value="",h.value="",(!t.value.trim()||t.value.trim().length<10)&&(l.value="Tiêu đề phải có ít nhất 10 ký tự."),n.value.trim()||(c.value="Nội dung không được để trống."),s.value?["image/png","image/jpeg","image/jpg"].includes(s.value.type)||(h.value="Chỉ được tải ảnh định dạng PNG, JPG."):d.value===null&&(h.value="Hình ảnh không được để trống."),l.value||c.value||h.value){o.value=!0,setTimeout(()=>{o.value=!1},3e3);return}const R={title:t.value,content:n.value,image:s.value,date:new Date().toLocaleDateString()};d.value!==null?(r.value[d.value]=R,d.value=null):r.value.unshift(R),localStorage.setItem("posts",JSON.stringify(r.value)),t.value="",n.value="",s.value=null,i.value=!0,setTimeout(()=>{i.value=!1},3e3)};return(R,P)=>(dt(),mt("div",QN,[I("div",YN,[I("h2",XN,Pt(R.isEditing?"Cập nhật":"Đăng bài"),1),I("form",{onSubmit:u_(N,["prevent"])},[I("div",JN,[P[2]||(P[2]=I("label",{for:"title",class:"form-label"},"Tiêu đề bài viết",-1)),Ge(I("input",{"onUpdate:modelValue":P[0]||(P[0]=M=>t.value=M),type:"text",id:"title",class:"form-control",placeholder:"Nhập tiêu đề"},null,512),[[Qe,t.value]]),l.value?(dt(),mt("p",ZN,Pt(l.value),1)):xe("",!0)]),I("div",t1,[P[3]||(P[3]=I("label",{for:"content",class:"form-label"},"Nội dung bài viết",-1)),Ge(I("textarea",{"onUpdate:modelValue":P[1]||(P[1]=M=>n.value=M),id:"content",class:"form-control",rows:"5",placeholder:"Nhập nội dung bài viết",required:""},null,512),[[Qe,n.value]]),c.value?(dt(),mt("p",e1,Pt(R.errorConent),1)):xe("",!0)]),I("div",n1,[P[4]||(P[4]=I("label",{for:"image",class:"form-label"},"Hình ảnh minh họa",-1)),I("input",{onChange:g,type:"file",class:"form-control",id:"image",accept:"image/*"},null,32),h.value?(dt(),mt("p",s1,Pt(h.value),1)):xe("",!0)]),I("button",r1,Pt(R.isEditing?"Cập nhật":"Đăng bài"),1)],32),i.value?(dt(),mt("div",i1," Bài viết đã được "+Pt(d.value===null?"đăng":"cập nhật")+" thành công! ",1)):xe("",!0),o.value?(dt(),mt("div",o1," Vui lòng kiểm tra lại thông tin! ")):xe("",!0)]),I("table",a1,[P[5]||(P[5]=I("thead",null,[I("tr",null,[I("th",{scope:"col"},"STT"),I("th",{scope:"col"},"Tiêu đề")])],-1)),I("tbody",null,[(dt(!0),mt(Jt,null,Es(r.value,(M,$)=>(dt(),mt("tr",{key:$},[I("td",null,Pt($+1),1),I("td",null,Pt(M.title),1),I("td",null,[I("button",{class:"btn btn-danger btn-sm",onClick:F=>p($)},"Xóa",8,l1)]),I("td",null,[I("button",{class:"btn btn-primary btn-sm me-2",onClick:F=>_($)},"Sửa",8,c1)])]))),128))])])]))}},Hh=Dn(u1,[["__scopeId","data-v-82c040ef"]]),h1={components:{Post:Hh},data(){return{newComment:"",comments:JSON.parse(localStorage.getItem("comments"))||[],posts:JSON.parse(localStorage.getItem("posts"))||[],user:JSON.parse(localStorage.getItem("user"))||{}}},methods:{addComment(){this.newComment.trim()&&(this.comments.push(this.newComment),this.newComment="",localStorage.setItem("comments",JSON.stringify(this.comments)))},togglePostForm(){this.showPostForm=!this.showPostForm}}},d1={class:"container mt-5"},f1={class:"row"},p1=["src"],m1={class:""},g1={v:"in user",class:"text-muted"};function _1(e,t,n,s,r,i){return dt(),mt("div",d1,[I("div",f1,[(dt(!0),mt(Jt,null,Es(r.posts,(o,l)=>(dt(),mt("div",{class:"",key:l},[I("h1",null,Pt(o.title),1),I("img",{src:o.image,alt:"Post Image",class:"img-fluid rounded mb-3"},null,8,p1),I("p",null,Pt(o.content),1)]))),128)),I("div",m1,[t[2]||(t[2]=I("h1",{class:"text-dark"},"Bình luận",-1)),Ge(I("textarea",{"onUpdate:modelValue":t[0]||(t[0]=o=>r.newComment=o),class:"mb-3",rows:"2",cols:"90",placeholder:"Nhập bình luận của bạn..."},null,512),[[Qe,r.newComment]]),I("button",{onClick:t[1]||(t[1]=(...o)=>i.addComment&&i.addComment(...o)),class:"text-white bg-success p-2 rounded-3 mb-3 border-0"},"Gửi bình luận"),(dt(!0),mt(Jt,null,Es(r.comments,(o,l)=>(dt(),mt("div",{class:"comment d-flex gap-3",key:l},[I("p",g1,Pt(r.user.username||"Ẩn danh"),1),I("p",null,Pt(o),1)]))),128))])])])}const v1=Dn(h1,[["render",_1],["__scopeId","data-v-3de5de70"]]),y1={components:{Post:Hh},components:{dangky:My},data(){return{posts:JSON.parse(localStorage.getItem("posts"))||[],user:JSON.parse(localStorage.getItem("user"))||{}}},methods:{togglePostForm(){this.showPostForm=!this.showPostForm},deletePost(e){this.posts.splice(e,1),localStorage.setItem("posts",JSON.stringify(this.posts)),console.log("Dữ liệu sau khi xóa:",this.posts)},logout(){localStorage.removeItem("user"),this.$router.push("/login"),localStorage.setItem("isLoggedIn","false")},changeUsername(){if(!this.newUsername.trim()){alert("Tên người dùng không được để trống.");return}this.user.username=this.newUsername,localStorage.setItem("user",JSON.stringify(this.user)),this.newUsername="",bootstrap.Modal.getInstance(document.getElementById("usernameModal")).hide(),alert("Tên người dùng đã được thay đổi thành công.")},changePassword(){const e=document.getElementById("newPassword").value,t=document.getElementById("confirmPassword").value;if(e!==t){alert("Mật khẩu không khớp. Vui lòng nhập lại.");return}this.user.password=e,localStorage.setItem("user",JSON.stringify(this.user)),document.getElementById("newPassword").value="",document.getElementById("confirmPassword").value="",bootstrap.Modal.getInstance(document.getElementById("passwordModal")).hide(),alert("Mật khẩu đã được thay đổi thành công.")},changeEmail(){const e=document.getElementById("newEmail").value;if(!e.trim()){alert("Email không được để trống.");return}this.user.email=e,localStorage.setItem("user",JSON.stringify(this.user)),document.getElementById("newEmail").value="",bootstrap.Modal.getInstance(document.getElementById("emailModal")).hide(),alert("Email đã được thay đổi thành công.")}}},E1={class:"container"},T1={class:"row"},b1={class:"col-sm-4"},w1={class:"content-2 p-3"},A1={v:"in user",class:"list-group"},I1={type:"button",class:"list-group-item list-group-item-action d-flex justify-content-between align-items-center","data-bs-toggle":"modal","data-bs-target":"#usernameModal"},S1={type:"button mb-3",class:"list-group-item list-group-item-action d-flex justify-content-between align-items-center","data-bs-toggle":"modal","data-bs-target":"#emailModal"},C1={class:"modal fade",id:"usernameModal",tabindex:"-1","aria-labelledby":"usernameModalLabel","aria-hidden":"true"},R1={class:"modal-dialog"},P1={class:"modal-content"},O1={class:"modal-body"},N1={class:"mb-3"},D1={class:"modal-footer"},k1={class:"modal fade",id:"passwordModal",tabindex:"-1","aria-labelledby":"passwordModalLabel","aria-hidden":"true"},x1={class:"modal-dialog"},L1={class:"modal-content"},V1={class:"modal-footer"},M1={class:"modal fade",id:"emailModal",tabindex:"-1","aria-labelledby":"emailModalLabel","aria-hidden":"true"},$1={class:"modal-dialog"},F1={class:"modal-content"},U1={class:"modal-footer"},B1={class:"col-sm-8"},j1={class:"row bg-light rounded-3"},H1={class:"p-3"},K1={class:"border rounded-3 p-4 bg-white"},q1=["src"],W1={class:"d-flex flex-column"},z1={class:"mt-2"},G1=["onClick"];function Q1(e,t,n,s,r,i){return dt(),mt("div",E1,[I("div",T1,[I("div",b1,[I("div",w1,[t[8]||(t[8]=I("h1",{class:""},"Thông tin cá nhân",-1)),I("div",A1,[I("button",I1,[I("p",null,Pt(r.user.username),1),t[5]||(t[5]=I("a",{href:"#"},[I("i",{class:"bi bi-pen"})],-1))]),t[7]||(t[7]=I("button",{type:"button",class:"list-group-item list-group-item-action d-flex justify-content-between align-items-center","data-bs-toggle":"modal","data-bs-target":"#passwordModal"},[I("p",null,"Password???"),I("a",{href:"#"},[I("i",{class:"bi bi-pen"})])],-1)),I("button",S1,[I("p",null,Pt(r.user.email),1),t[6]||(t[6]=I("a",{href:"#"},[I("i",{class:"bi bi-pen"})],-1))]),I("button",{class:"btn btn-danger",onClick:t[0]||(t[0]=(...o)=>i.logout&&i.logout(...o))},"Đăng xuất")])]),I("div",C1,[I("div",R1,[I("div",P1,[t[11]||(t[11]=I("div",{class:"modal-header"},[I("h5",{class:"modal-title",id:"usernameModalLabel"},"Chỉnh sửa tên người dùng"),I("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),I("div",O1,[I("form",null,[I("div",N1,[t[9]||(t[9]=I("label",{for:"username",class:"form-label"},"Tên người dùng",-1)),Ge(I("input",{type:"text",class:"form-control",id:"username","onUpdate:modelValue":t[1]||(t[1]=o=>e.newUsername=o)},null,512),[[Qe,e.newUsername]])])])]),I("div",D1,[t[10]||(t[10]=I("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Đóng",-1)),I("button",{onClick:t[2]||(t[2]=(...o)=>i.changeUsername&&i.changeUsername(...o)),type:"button",class:"btn btn-primary"},"Lưu thay đổi")])])])]),I("div",k1,[I("div",x1,[I("div",L1,[t[13]||(t[13]=ro('<div class="modal-header"><h5 class="modal-title" id="passwordModalLabel">Đổi mật khẩu</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><form><div class="mb-3"><label for="newPassword" class="form-label">Mật khẩu mới</label><input type="password" class="form-control" id="newPassword" placeholder="Nhập mật khẩu mới" required></div><div class="mb-3"><label for="confirmPassword" class="form-label">Nhập lại mật khẩu</label><input type="password" class="form-control" id="confirmPassword" placeholder="Nhập lại mật khẩu" required></div></form></div>',2)),I("div",V1,[t[12]||(t[12]=I("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Đóng",-1)),I("button",{onClick:t[3]||(t[3]=(...o)=>i.changePassword&&i.changePassword(...o)),type:"button",class:"btn btn-primary"},"Lưu thay đổi")])])])]),I("div",M1,[I("div",$1,[I("div",F1,[t[15]||(t[15]=ro('<div class="modal-header"><h5 class="modal-title" id="emailModalLabel">Chỉnh sửa email</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><form><div class="mb-3"><label for="newEmail" class="form-label">Email mới</label><input type="email" class="form-control" id="newEmail" placeholder="Nhập email mới" required></div></form></div>',2)),I("div",U1,[t[14]||(t[14]=I("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Đóng",-1)),I("button",{onClick:t[4]||(t[4]=(...o)=>i.changeEmail&&i.changeEmail(...o)),type:"button",class:"btn btn-primary"},"Lưu thay đổi")])])])])]),I("div",B1,[t[17]||(t[17]=I("h1",null,"Blog của tôi",-1)),I("div",j1,[I("div",H1,[I("div",K1,[(dt(!0),mt(Jt,null,Es(r.posts,(o,l)=>(dt(),mt("div",{class:"d-flex gap-3 mb-3",key:l},[I("img",{class:"img-fluid",src:o.image,alt:"",style:{width:"70px"}},null,8,q1),I("div",W1,[I("h5",null,Pt(o.title),1),t[16]||(t[16]=I("div",{class:"d-flex"},[I("i",{class:"bi bi-chat-left-fill"}),I("p",{class:"mb-0 ms-2"},"16")],-1)),I("div",z1,[I("button",{class:"btn btn-danger btn-sm",onClick:c=>i.deletePost(l)},"Xóa",8,G1)])])]))),128))])])])])])])}const Y1=Dn(y1,[["render",Q1]]),X1={props:["id"],data(){return{post:null,postId:this.id||this.$route.params.id,newComment:"",comments:JSON.parse(localStorage.getItem("comments"))||[],user:JSON.parse(localStorage.getItem("user"))||{}}},async created(){if(!this.postId){console.error("Lỗi: Không có ID bài viết.");return}try{const e=WS(Fh,"News",this.postId),t=await rC(e);t.exists()?this.post=t.data():console.warn("Bài viết không tồn tại!")}catch(e){console.error("Lỗi khi tải bài viết:",e)}},methods:{formatDate(e){return e?new Date(e).toLocaleDateString():"Không xác định"},addComment(){this.newComment.trim()&&(this.comments.push(this.newComment),this.newComment="",localStorage.setItem("comments",JSON.stringify(this.comments)))}}},J1={class:"container mt-4"},Z1={key:0,class:"news-article"},tD={key:0,class:"text-center mb-4"},eD=["src"],nD={class:"news-title"},sD={class:"text-muted text-center"},rD=["innerHTML"],iD={key:1,class:"text-center text-muted"},oD={class:"comment-section mt-5"},aD={class:"comment-box p-3 border rounded"},lD={class:"comment-list mt-4"},cD={class:"mb-1"},uD={class:"mb-0"};function hD(e,t,n,s,r,i){return dt(),mt(Jt,null,[I("div",J1,[I("button",{onClick:t[0]||(t[0]=o=>e.$router.back()),class:"btn btn-secondary mb-3"},"Quay lại"),r.post?(dt(),mt("div",Z1,[r.post.imageFile?(dt(),mt("div",tD,[I("img",{src:r.post.imageFile,alt:"Post Image",class:"img-fluid rounded news-image"},null,8,eD)])):xe("",!0),I("h1",nD,Pt(r.post.title||"Không có tiêu đề"),1),I("p",sD,[t[3]||(t[3]=I("i",{class:"bi bi-person"},null,-1)),t[4]||(t[4]=ce()),t[5]||(t[5]=I("strong",null,"Tác giả:",-1)),ce(" "+Pt(r.post.Author||"Ẩn danh")+"  |  ",1),t[6]||(t[6]=I("i",{class:"bi bi-calendar"},null,-1)),t[7]||(t[7]=ce()),t[8]||(t[8]=I("strong",null,"Ngày đăng:",-1)),ce(" "+Pt(i.formatDate(r.post.DatePost)),1)]),I("div",{class:"news-content",innerHTML:r.post.content},null,8,rD)])):(dt(),mt("div",iD,"Đang tải bài viết..."))]),I("div",oD,[t[9]||(t[9]=I("h3",{class:"text-dark"},"Bình luận",-1)),I("div",aD,[Ge(I("textarea",{"onUpdate:modelValue":t[1]||(t[1]=o=>r.newComment=o),class:"form-control",rows:"3",placeholder:"Nhập bình luận của bạn..."},null,512),[[Qe,r.newComment]]),I("button",{onClick:t[2]||(t[2]=(...o)=>i.addComment&&i.addComment(...o)),class:"btn btn-success mt-2"},"Gửi bình luận")]),I("div",lD,[(dt(!0),mt(Jt,null,Es(r.comments,(o,l)=>(dt(),mt("div",{key:l,class:"comment-item p-2 border-bottom"},[I("p",cD,[I("strong",null,Pt(r.user.username||"Ẩn danh"),1)]),I("p",uD,Pt(o),1)]))),128))])])],64)}const dD=Dn(X1,[["render",hD],["__scopeId","data-v-036d8c86"]]),fD=[{path:"/",name:"maincontent",component:bN},{path:"/news/:id",name:"NewsDetail",component:dD},{path:"/baiviet",name:"baiviet",component:RN},{path:"/dangky",name:"dangky",component:My,meta:{layout:"none"}},{path:"/dangnhap",name:"dangnhap",component:GN,meta:{layout:"none"}},{path:"/dangbaiviet",name:"dangbaiviet",component:Hh},{path:"/post",name:"post",component:v1},{path:"/account",name:"account",component:Y1}],$y=nN({history:DO(),routes:fD});$y.beforeEach((e,t,n)=>{const s=localStorage.getItem("user");e.name==="maincontent"||e.name==="dangnhap"||e.name==="dangky"||s?n():n({name:"dangnhap"})});var Ne="top",je="bottom",He="right",De="left",xl="auto",di=[Ne,je,He,De],ir="start",ti="end",Fy="clippingParents",Kh="viewport",Rr="popper",Uy="reference",Du=di.reduce(function(e,t){return e.concat([t+"-"+ir,t+"-"+ti])},[]),qh=[].concat(di,[xl]).reduce(function(e,t){return e.concat([t,t+"-"+ir,t+"-"+ti])},[]),By="beforeRead",jy="read",Hy="afterRead",Ky="beforeMain",qy="main",Wy="afterMain",zy="beforeWrite",Gy="write",Qy="afterWrite",Yy=[By,jy,Hy,Ky,qy,Wy,zy,Gy,Qy];function Pn(e){return e?(e.nodeName||"").toLowerCase():null}function Ke(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function or(e){var t=Ke(e).Element;return e instanceof t||e instanceof Element}function Xe(e){var t=Ke(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Wh(e){if(typeof ShadowRoot>"u")return!1;var t=Ke(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function pD(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var s=t.styles[n]||{},r=t.attributes[n]||{},i=t.elements[n];!Xe(i)||!Pn(i)||(Object.assign(i.style,s),Object.keys(r).forEach(function(o){var l=r[o];l===!1?i.removeAttribute(o):i.setAttribute(o,l===!0?"":l)}))})}function mD(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(s){var r=t.elements[s],i=t.attributes[s]||{},o=Object.keys(t.styles.hasOwnProperty(s)?t.styles[s]:n[s]),l=o.reduce(function(c,h){return c[h]="",c},{});!Xe(r)||!Pn(r)||(Object.assign(r.style,l),Object.keys(i).forEach(function(c){r.removeAttribute(c)}))})}}const zh={name:"applyStyles",enabled:!0,phase:"write",fn:pD,effect:mD,requires:["computeStyles"]};function bn(e){return e.split("-")[0]}var Js=Math.max,Za=Math.min,ei=Math.round;function ku(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Xy(){return!/^((?!chrome|android).)*safari/i.test(ku())}function ni(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var s=e.getBoundingClientRect(),r=1,i=1;t&&Xe(e)&&(r=e.offsetWidth>0&&ei(s.width)/e.offsetWidth||1,i=e.offsetHeight>0&&ei(s.height)/e.offsetHeight||1);var o=or(e)?Ke(e):window,l=o.visualViewport,c=!Xy()&&n,h=(s.left+(c&&l?l.offsetLeft:0))/r,d=(s.top+(c&&l?l.offsetTop:0))/i,p=s.width/r,g=s.height/i;return{width:p,height:g,top:d,right:h+p,bottom:d+g,left:h,x:h,y:d}}function Gh(e){var t=ni(e),n=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:s}}function Jy(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Wh(n)){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Qn(e){return Ke(e).getComputedStyle(e)}function gD(e){return["table","td","th"].indexOf(Pn(e))>=0}function xs(e){return((or(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ll(e){return Pn(e)==="html"?e:e.assignedSlot||e.parentNode||(Wh(e)?e.host:null)||xs(e)}function bm(e){return!Xe(e)||Qn(e).position==="fixed"?null:e.offsetParent}function _D(e){var t=/firefox/i.test(ku()),n=/Trident/i.test(ku());if(n&&Xe(e)){var s=Qn(e);if(s.position==="fixed")return null}var r=Ll(e);for(Wh(r)&&(r=r.host);Xe(r)&&["html","body"].indexOf(Pn(r))<0;){var i=Qn(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function Ro(e){for(var t=Ke(e),n=bm(e);n&&gD(n)&&Qn(n).position==="static";)n=bm(n);return n&&(Pn(n)==="html"||Pn(n)==="body"&&Qn(n).position==="static")?t:n||_D(e)||t}function Qh(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Xi(e,t,n){return Js(e,Za(t,n))}function vD(e,t,n){var s=Xi(e,t,n);return s>n?n:s}function Zy(){return{top:0,right:0,bottom:0,left:0}}function tE(e){return Object.assign({},Zy(),e)}function eE(e,t){return t.reduce(function(n,s){return n[s]=e,n},{})}var yD=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,tE(typeof t!="number"?t:eE(t,di))};function ED(e){var t,n=e.state,s=e.name,r=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,l=bn(n.placement),c=Qh(l),h=[De,He].indexOf(l)>=0,d=h?"height":"width";if(!(!i||!o)){var p=yD(r.padding,n),g=Gh(i),_=c==="y"?Ne:De,N=c==="y"?je:He,R=n.rects.reference[d]+n.rects.reference[c]-o[c]-n.rects.popper[d],P=o[c]-n.rects.reference[c],M=Ro(i),$=M?c==="y"?M.clientHeight||0:M.clientWidth||0:0,F=R/2-P/2,x=p[_],Z=$-g[d]-p[N],tt=$/2-g[d]/2+F,w=Xi(x,tt,Z),v=c;n.modifiersData[s]=(t={},t[v]=w,t.centerOffset=w-tt,t)}}function TD(e){var t=e.state,n=e.options,s=n.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||Jy(t.elements.popper,r)&&(t.elements.arrow=r))}const nE={name:"arrow",enabled:!0,phase:"main",fn:ED,effect:TD,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function si(e){return e.split("-")[1]}var bD={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wD(e,t){var n=e.x,s=e.y,r=t.devicePixelRatio||1;return{x:ei(n*r)/r||0,y:ei(s*r)/r||0}}function wm(e){var t,n=e.popper,s=e.popperRect,r=e.placement,i=e.variation,o=e.offsets,l=e.position,c=e.gpuAcceleration,h=e.adaptive,d=e.roundOffsets,p=e.isFixed,g=o.x,_=g===void 0?0:g,N=o.y,R=N===void 0?0:N,P=typeof d=="function"?d({x:_,y:R}):{x:_,y:R};_=P.x,R=P.y;var M=o.hasOwnProperty("x"),$=o.hasOwnProperty("y"),F=De,x=Ne,Z=window;if(h){var tt=Ro(n),w="clientHeight",v="clientWidth";if(tt===Ke(n)&&(tt=xs(n),Qn(tt).position!=="static"&&l==="absolute"&&(w="scrollHeight",v="scrollWidth")),tt=tt,r===Ne||(r===De||r===He)&&i===ti){x=je;var E=p&&tt===Z&&Z.visualViewport?Z.visualViewport.height:tt[w];R-=E-s.height,R*=c?1:-1}if(r===De||(r===Ne||r===je)&&i===ti){F=He;var A=p&&tt===Z&&Z.visualViewport?Z.visualViewport.width:tt[v];_-=A-s.width,_*=c?1:-1}}var S=Object.assign({position:l},h&&bD),C=d===!0?wD({x:_,y:R},Ke(n)):{x:_,y:R};if(_=C.x,R=C.y,c){var T;return Object.assign({},S,(T={},T[x]=$?"0":"",T[F]=M?"0":"",T.transform=(Z.devicePixelRatio||1)<=1?"translate("+_+"px, "+R+"px)":"translate3d("+_+"px, "+R+"px, 0)",T))}return Object.assign({},S,(t={},t[x]=$?R+"px":"",t[F]=M?_+"px":"",t.transform="",t))}function AD(e){var t=e.state,n=e.options,s=n.gpuAcceleration,r=s===void 0?!0:s,i=n.adaptive,o=i===void 0?!0:i,l=n.roundOffsets,c=l===void 0?!0:l,h={placement:bn(t.placement),variation:si(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,wm(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,wm(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Yh={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:AD,data:{}};var ra={passive:!0};function ID(e){var t=e.state,n=e.instance,s=e.options,r=s.scroll,i=r===void 0?!0:r,o=s.resize,l=o===void 0?!0:o,c=Ke(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&h.forEach(function(d){d.addEventListener("scroll",n.update,ra)}),l&&c.addEventListener("resize",n.update,ra),function(){i&&h.forEach(function(d){d.removeEventListener("scroll",n.update,ra)}),l&&c.removeEventListener("resize",n.update,ra)}}const Xh={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ID,data:{}};var SD={left:"right",right:"left",bottom:"top",top:"bottom"};function Sa(e){return e.replace(/left|right|bottom|top/g,function(t){return SD[t]})}var CD={start:"end",end:"start"};function Am(e){return e.replace(/start|end/g,function(t){return CD[t]})}function Jh(e){var t=Ke(e),n=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:n,scrollTop:s}}function Zh(e){return ni(xs(e)).left+Jh(e).scrollLeft}function RD(e,t){var n=Ke(e),s=xs(e),r=n.visualViewport,i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(r){i=r.width,o=r.height;var h=Xy();(h||!h&&t==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:i,height:o,x:l+Zh(e),y:c}}function PD(e){var t,n=xs(e),s=Jh(e),r=(t=e.ownerDocument)==null?void 0:t.body,i=Js(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Js(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-s.scrollLeft+Zh(e),c=-s.scrollTop;return Qn(r||n).direction==="rtl"&&(l+=Js(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:l,y:c}}function td(e){var t=Qn(e),n=t.overflow,s=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function sE(e){return["html","body","#document"].indexOf(Pn(e))>=0?e.ownerDocument.body:Xe(e)&&td(e)?e:sE(Ll(e))}function Ji(e,t){var n;t===void 0&&(t=[]);var s=sE(e),r=s===((n=e.ownerDocument)==null?void 0:n.body),i=Ke(s),o=r?[i].concat(i.visualViewport||[],td(s)?s:[]):s,l=t.concat(o);return r?l:l.concat(Ji(Ll(o)))}function xu(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function OD(e,t){var n=ni(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Im(e,t,n){return t===Kh?xu(RD(e,n)):or(t)?OD(t,n):xu(PD(xs(e)))}function ND(e){var t=Ji(Ll(e)),n=["absolute","fixed"].indexOf(Qn(e).position)>=0,s=n&&Xe(e)?Ro(e):e;return or(s)?t.filter(function(r){return or(r)&&Jy(r,s)&&Pn(r)!=="body"}):[]}function DD(e,t,n,s){var r=t==="clippingParents"?ND(e):[].concat(t),i=[].concat(r,[n]),o=i[0],l=i.reduce(function(c,h){var d=Im(e,h,s);return c.top=Js(d.top,c.top),c.right=Za(d.right,c.right),c.bottom=Za(d.bottom,c.bottom),c.left=Js(d.left,c.left),c},Im(e,o,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function rE(e){var t=e.reference,n=e.element,s=e.placement,r=s?bn(s):null,i=s?si(s):null,o=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,c;switch(r){case Ne:c={x:o,y:t.y-n.height};break;case je:c={x:o,y:t.y+t.height};break;case He:c={x:t.x+t.width,y:l};break;case De:c={x:t.x-n.width,y:l};break;default:c={x:t.x,y:t.y}}var h=r?Qh(r):null;if(h!=null){var d=h==="y"?"height":"width";switch(i){case ir:c[h]=c[h]-(t[d]/2-n[d]/2);break;case ti:c[h]=c[h]+(t[d]/2-n[d]/2);break}}return c}function ri(e,t){t===void 0&&(t={});var n=t,s=n.placement,r=s===void 0?e.placement:s,i=n.strategy,o=i===void 0?e.strategy:i,l=n.boundary,c=l===void 0?Fy:l,h=n.rootBoundary,d=h===void 0?Kh:h,p=n.elementContext,g=p===void 0?Rr:p,_=n.altBoundary,N=_===void 0?!1:_,R=n.padding,P=R===void 0?0:R,M=tE(typeof P!="number"?P:eE(P,di)),$=g===Rr?Uy:Rr,F=e.rects.popper,x=e.elements[N?$:g],Z=DD(or(x)?x:x.contextElement||xs(e.elements.popper),c,d,o),tt=ni(e.elements.reference),w=rE({reference:tt,element:F,strategy:"absolute",placement:r}),v=xu(Object.assign({},F,w)),E=g===Rr?v:tt,A={top:Z.top-E.top+M.top,bottom:E.bottom-Z.bottom+M.bottom,left:Z.left-E.left+M.left,right:E.right-Z.right+M.right},S=e.modifiersData.offset;if(g===Rr&&S){var C=S[r];Object.keys(A).forEach(function(T){var Ht=[He,je].indexOf(T)>=0?1:-1,Qt=[Ne,je].indexOf(T)>=0?"y":"x";A[T]+=C[Qt]*Ht})}return A}function kD(e,t){t===void 0&&(t={});var n=t,s=n.placement,r=n.boundary,i=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,h=c===void 0?qh:c,d=si(s),p=d?l?Du:Du.filter(function(N){return si(N)===d}):di,g=p.filter(function(N){return h.indexOf(N)>=0});g.length===0&&(g=p);var _=g.reduce(function(N,R){return N[R]=ri(e,{placement:R,boundary:r,rootBoundary:i,padding:o})[bn(R)],N},{});return Object.keys(_).sort(function(N,R){return _[N]-_[R]})}function xD(e){if(bn(e)===xl)return[];var t=Sa(e);return[Am(e),t,Am(t)]}function LD(e){var t=e.state,n=e.options,s=e.name;if(!t.modifiersData[s]._skip){for(var r=n.mainAxis,i=r===void 0?!0:r,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,h=n.padding,d=n.boundary,p=n.rootBoundary,g=n.altBoundary,_=n.flipVariations,N=_===void 0?!0:_,R=n.allowedAutoPlacements,P=t.options.placement,M=bn(P),$=M===P,F=c||($||!N?[Sa(P)]:xD(P)),x=[P].concat(F).reduce(function(Ie,te){return Ie.concat(bn(te)===xl?kD(t,{placement:te,boundary:d,rootBoundary:p,padding:h,flipVariations:N,allowedAutoPlacements:R}):te)},[]),Z=t.rects.reference,tt=t.rects.popper,w=new Map,v=!0,E=x[0],A=0;A<x.length;A++){var S=x[A],C=bn(S),T=si(S)===ir,Ht=[Ne,je].indexOf(C)>=0,Qt=Ht?"width":"height",Tt=ri(t,{placement:S,boundary:d,rootBoundary:p,altBoundary:g,padding:h}),ht=Ht?T?He:De:T?je:Ne;Z[Qt]>tt[Qt]&&(ht=Sa(ht));var vt=Sa(ht),Wt=[];if(i&&Wt.push(Tt[C]<=0),l&&Wt.push(Tt[ht]<=0,Tt[vt]<=0),Wt.every(function(Ie){return Ie})){E=S,v=!1;break}w.set(S,Wt)}if(v)for(var he=N?3:1,de=function(te){var Yt=x.find(function(L){var J=w.get(L);if(J)return J.slice(0,te).every(function(Q){return Q})});if(Yt)return E=Yt,"break"},Dt=he;Dt>0;Dt--){var Lt=de(Dt);if(Lt==="break")break}t.placement!==E&&(t.modifiersData[s]._skip=!0,t.placement=E,t.reset=!0)}}const iE={name:"flip",enabled:!0,phase:"main",fn:LD,requiresIfExists:["offset"],data:{_skip:!1}};function Sm(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Cm(e){return[Ne,He,je,De].some(function(t){return e[t]>=0})}function VD(e){var t=e.state,n=e.name,s=t.rects.reference,r=t.rects.popper,i=t.modifiersData.preventOverflow,o=ri(t,{elementContext:"reference"}),l=ri(t,{altBoundary:!0}),c=Sm(o,s),h=Sm(l,r,i),d=Cm(c),p=Cm(h);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}const oE={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:VD};function MD(e,t,n){var s=bn(e),r=[De,Ne].indexOf(s)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=i[0],l=i[1];return o=o||0,l=(l||0)*r,[De,He].indexOf(s)>=0?{x:l,y:o}:{x:o,y:l}}function $D(e){var t=e.state,n=e.options,s=e.name,r=n.offset,i=r===void 0?[0,0]:r,o=qh.reduce(function(d,p){return d[p]=MD(p,t.rects,i),d},{}),l=o[t.placement],c=l.x,h=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=h),t.modifiersData[s]=o}const aE={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$D};function FD(e){var t=e.state,n=e.name;t.modifiersData[n]=rE({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const ed={name:"popperOffsets",enabled:!0,phase:"read",fn:FD,data:{}};function UD(e){return e==="x"?"y":"x"}function BD(e){var t=e.state,n=e.options,s=e.name,r=n.mainAxis,i=r===void 0?!0:r,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,h=n.rootBoundary,d=n.altBoundary,p=n.padding,g=n.tether,_=g===void 0?!0:g,N=n.tetherOffset,R=N===void 0?0:N,P=ri(t,{boundary:c,rootBoundary:h,padding:p,altBoundary:d}),M=bn(t.placement),$=si(t.placement),F=!$,x=Qh(M),Z=UD(x),tt=t.modifiersData.popperOffsets,w=t.rects.reference,v=t.rects.popper,E=typeof R=="function"?R(Object.assign({},t.rects,{placement:t.placement})):R,A=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(tt){if(i){var T,Ht=x==="y"?Ne:De,Qt=x==="y"?je:He,Tt=x==="y"?"height":"width",ht=tt[x],vt=ht+P[Ht],Wt=ht-P[Qt],he=_?-v[Tt]/2:0,de=$===ir?w[Tt]:v[Tt],Dt=$===ir?-v[Tt]:-w[Tt],Lt=t.elements.arrow,Ie=_&&Lt?Gh(Lt):{width:0,height:0},te=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Zy(),Yt=te[Ht],L=te[Qt],J=Xi(0,w[Tt],Ie[Tt]),Q=F?w[Tt]/2-he-J-Yt-A.mainAxis:de-J-Yt-A.mainAxis,st=F?-w[Tt]/2+he+J+L+A.mainAxis:Dt+J+L+A.mainAxis,yt=t.elements.arrow&&Ro(t.elements.arrow),kt=yt?x==="y"?yt.clientTop||0:yt.clientLeft||0:0,y=(T=S==null?void 0:S[x])!=null?T:0,b=ht+Q-y-kt,D=ht+st-y,B=Xi(_?Za(vt,b):vt,ht,_?Js(Wt,D):Wt);tt[x]=B,C[x]=B-ht}if(l){var V,H=x==="x"?Ne:De,Y=x==="x"?je:He,q=tt[Z],W=Z==="y"?"height":"width",K=q+P[H],it=q-P[Y],X=[Ne,De].indexOf(M)!==-1,rt=(V=S==null?void 0:S[Z])!=null?V:0,nt=X?K:q-w[W]-v[W]-rt+A.altAxis,at=X?q+w[W]+v[W]-rt-A.altAxis:it,bt=_&&X?vD(nt,q,at):Xi(_?nt:K,q,_?at:it);tt[Z]=bt,C[Z]=bt-q}t.modifiersData[s]=C}}const lE={name:"preventOverflow",enabled:!0,phase:"main",fn:BD,requiresIfExists:["offset"]};function jD(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function HD(e){return e===Ke(e)||!Xe(e)?Jh(e):jD(e)}function KD(e){var t=e.getBoundingClientRect(),n=ei(t.width)/e.offsetWidth||1,s=ei(t.height)/e.offsetHeight||1;return n!==1||s!==1}function qD(e,t,n){n===void 0&&(n=!1);var s=Xe(t),r=Xe(t)&&KD(t),i=xs(t),o=ni(e,r,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!n)&&((Pn(t)!=="body"||td(i))&&(l=HD(t)),Xe(t)?(c=ni(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=Zh(i))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function WD(e){var t=new Map,n=new Set,s=[];e.forEach(function(i){t.set(i.name,i)});function r(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=t.get(l);c&&r(c)}}),s.push(i)}return e.forEach(function(i){n.has(i.name)||r(i)}),s}function zD(e){var t=WD(e);return Yy.reduce(function(n,s){return n.concat(t.filter(function(r){return r.phase===s}))},[])}function GD(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function QD(e){var t=e.reduce(function(n,s){var r=n[s.name];return n[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,n},{});return Object.keys(t).map(function(n){return t[n]})}var Rm={placement:"bottom",modifiers:[],strategy:"absolute"};function Pm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Vl(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,s=n===void 0?[]:n,r=t.defaultOptions,i=r===void 0?Rm:r;return function(l,c,h){h===void 0&&(h=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Rm,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],g=!1,_={state:d,setOptions:function(M){var $=typeof M=="function"?M(d.options):M;R(),d.options=Object.assign({},i,d.options,$),d.scrollParents={reference:or(l)?Ji(l):l.contextElement?Ji(l.contextElement):[],popper:Ji(c)};var F=zD(QD([].concat(s,d.options.modifiers)));return d.orderedModifiers=F.filter(function(x){return x.enabled}),N(),_.update()},forceUpdate:function(){if(!g){var M=d.elements,$=M.reference,F=M.popper;if(Pm($,F)){d.rects={reference:qD($,Ro(F),d.options.strategy==="fixed"),popper:Gh(F)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(A){return d.modifiersData[A.name]=Object.assign({},A.data)});for(var x=0;x<d.orderedModifiers.length;x++){if(d.reset===!0){d.reset=!1,x=-1;continue}var Z=d.orderedModifiers[x],tt=Z.fn,w=Z.options,v=w===void 0?{}:w,E=Z.name;typeof tt=="function"&&(d=tt({state:d,options:v,name:E,instance:_})||d)}}}},update:GD(function(){return new Promise(function(P){_.forceUpdate(),P(d)})}),destroy:function(){R(),g=!0}};if(!Pm(l,c))return _;_.setOptions(h).then(function(P){!g&&h.onFirstUpdate&&h.onFirstUpdate(P)});function N(){d.orderedModifiers.forEach(function(P){var M=P.name,$=P.options,F=$===void 0?{}:$,x=P.effect;if(typeof x=="function"){var Z=x({state:d,name:M,instance:_,options:F}),tt=function(){};p.push(Z||tt)}})}function R(){p.forEach(function(P){return P()}),p=[]}return _}}var YD=Vl(),XD=[Xh,ed,Yh,zh],JD=Vl({defaultModifiers:XD}),ZD=[Xh,ed,Yh,zh,aE,iE,lE,nE,oE],nd=Vl({defaultModifiers:ZD});const cE=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Wy,afterRead:Hy,afterWrite:Qy,applyStyles:zh,arrow:nE,auto:xl,basePlacements:di,beforeMain:Ky,beforeRead:By,beforeWrite:zy,bottom:je,clippingParents:Fy,computeStyles:Yh,createPopper:nd,createPopperBase:YD,createPopperLite:JD,detectOverflow:ri,end:ti,eventListeners:Xh,flip:iE,hide:oE,left:De,main:qy,modifierPhases:Yy,offset:aE,placements:qh,popper:Rr,popperGenerator:Vl,popperOffsets:ed,preventOverflow:lE,read:jy,reference:Uy,right:He,start:ir,top:Ne,variationPlacements:Du,viewport:Kh,write:Gy},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const is=new Map,Oc={set(e,t,n){is.has(e)||is.set(e,new Map);const s=is.get(e);if(!s.has(t)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(t,n)},get(e,t){return is.has(e)&&is.get(e).get(t)||null},remove(e,t){if(!is.has(e))return;const n=is.get(e);n.delete(t),n.size===0&&is.delete(e)}},tk=1e6,ek=1e3,Lu="transitionend",uE=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),e),nk=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),sk=e=>{do e+=Math.floor(Math.random()*tk);while(document.getElementById(e));return e},rk=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const s=Number.parseFloat(t),r=Number.parseFloat(n);return!s&&!r?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*ek)},hE=e=>{e.dispatchEvent(new Event(Lu))},Kn=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),Rs=e=>Kn(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(uE(e)):null,fi=e=>{if(!Kn(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const s=e.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return t},Ps=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",dE=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?dE(e.parentNode):null},tl=()=>{},Po=e=>{e.offsetHeight},fE=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Nc=[],ik=e=>{document.readyState==="loading"?(Nc.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of Nc)t()}),Nc.push(e)):e()},Ze=()=>document.documentElement.dir==="rtl",en=e=>{ik(()=>{const t=fE();if(t){const n=e.NAME,s=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=s,e.jQueryInterface)}})},Le=(e,t=[],n=e)=>typeof e=="function"?e(...t):n,pE=(e,t,n=!0)=>{if(!n){Le(e);return}const r=rk(t)+5;let i=!1;const o=({target:l})=>{l===t&&(i=!0,t.removeEventListener(Lu,o),Le(e))};t.addEventListener(Lu,o),setTimeout(()=>{i||hE(t)},r)},sd=(e,t,n,s)=>{const r=e.length;let i=e.indexOf(t);return i===-1?!n&&s?e[r-1]:e[0]:(i+=n?1:-1,s&&(i=(i+r)%r),e[Math.max(0,Math.min(i,r-1))])},ok=/[^.]*(?=\..*)\.|.*/,ak=/\..*/,lk=/::\d+$/,Dc={};let Om=1;const mE={mouseenter:"mouseover",mouseleave:"mouseout"},ck=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function gE(e,t){return t&&`${t}::${Om++}`||e.uidEvent||Om++}function _E(e){const t=gE(e);return e.uidEvent=t,Dc[t]=Dc[t]||{},Dc[t]}function uk(e,t){return function n(s){return rd(s,{delegateTarget:e}),n.oneOff&&j.off(e,s.type,t),t.apply(e,[s])}}function hk(e,t,n){return function s(r){const i=e.querySelectorAll(t);for(let{target:o}=r;o&&o!==this;o=o.parentNode)for(const l of i)if(l===o)return rd(r,{delegateTarget:o}),s.oneOff&&j.off(e,r.type,t,n),n.apply(o,[r])}}function vE(e,t,n=null){return Object.values(e).find(s=>s.callable===t&&s.delegationSelector===n)}function yE(e,t,n){const s=typeof t=="string",r=s?n:t||n;let i=EE(e);return ck.has(i)||(i=e),[s,r,i]}function Nm(e,t,n,s,r){if(typeof t!="string"||!e)return;let[i,o,l]=yE(t,n,s);t in mE&&(o=(N=>function(R){if(!R.relatedTarget||R.relatedTarget!==R.delegateTarget&&!R.delegateTarget.contains(R.relatedTarget))return N.call(this,R)})(o));const c=_E(e),h=c[l]||(c[l]={}),d=vE(h,o,i?n:null);if(d){d.oneOff=d.oneOff&&r;return}const p=gE(o,t.replace(ok,"")),g=i?hk(e,n,o):uk(e,o);g.delegationSelector=i?n:null,g.callable=o,g.oneOff=r,g.uidEvent=p,h[p]=g,e.addEventListener(l,g,i)}function Vu(e,t,n,s,r){const i=vE(t[n],s,r);i&&(e.removeEventListener(n,i,!!r),delete t[n][i.uidEvent])}function dk(e,t,n,s){const r=t[n]||{};for(const[i,o]of Object.entries(r))i.includes(s)&&Vu(e,t,n,o.callable,o.delegationSelector)}function EE(e){return e=e.replace(ak,""),mE[e]||e}const j={on(e,t,n,s){Nm(e,t,n,s,!1)},one(e,t,n,s){Nm(e,t,n,s,!0)},off(e,t,n,s){if(typeof t!="string"||!e)return;const[r,i,o]=yE(t,n,s),l=o!==t,c=_E(e),h=c[o]||{},d=t.startsWith(".");if(typeof i<"u"){if(!Object.keys(h).length)return;Vu(e,c,o,i,r?n:null);return}if(d)for(const p of Object.keys(c))dk(e,c,p,t.slice(1));for(const[p,g]of Object.entries(h)){const _=p.replace(lk,"");(!l||t.includes(_))&&Vu(e,c,o,g.callable,g.delegationSelector)}},trigger(e,t,n){if(typeof t!="string"||!e)return null;const s=fE(),r=EE(t),i=t!==r;let o=null,l=!0,c=!0,h=!1;i&&s&&(o=s.Event(t,n),s(e).trigger(o),l=!o.isPropagationStopped(),c=!o.isImmediatePropagationStopped(),h=o.isDefaultPrevented());const d=rd(new Event(t,{bubbles:l,cancelable:!0}),n);return h&&d.preventDefault(),c&&e.dispatchEvent(d),d.defaultPrevented&&o&&o.preventDefault(),d}};function rd(e,t={}){for(const[n,s]of Object.entries(t))try{e[n]=s}catch{Object.defineProperty(e,n,{configurable:!0,get(){return s}})}return e}function Dm(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function kc(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const qn={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${kc(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${kc(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let r=s.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=Dm(e.dataset[s])}return t},getDataAttribute(e,t){return Dm(e.getAttribute(`data-bs-${kc(t)}`))}};class Oo{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const s=Kn(n)?qn.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...Kn(n)?qn.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[s,r]of Object.entries(n)){const i=t[s],o=Kn(i)?"element":nk(i);if(!new RegExp(r).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${r}".`)}}}const fk="5.3.3";class cn extends Oo{constructor(t,n){super(),t=Rs(t),t&&(this._element=t,this._config=this._getConfig(n),Oc.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Oc.remove(this._element,this.constructor.DATA_KEY),j.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,s=!0){pE(t,n,s)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Oc.get(Rs(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return fk}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const xc=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?n.trim():null}return t?t.split(",").map(n=>uE(n)).join(","):null},lt={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){const n=[];let s=e.parentNode.closest(t);for(;s;)n.push(s),s=s.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!Ps(n)&&fi(n))},getSelectorFromElement(e){const t=xc(e);return t&&lt.findOne(t)?t:null},getElementFromSelector(e){const t=xc(e);return t?lt.findOne(t):null},getMultipleElementsFromSelector(e){const t=xc(e);return t?lt.find(t):[]}},Ml=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,s=e.NAME;j.on(document,n,`[data-bs-dismiss="${s}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),Ps(this))return;const i=lt.getElementFromSelector(this)||this.closest(`.${s}`);e.getOrCreateInstance(i)[t]()})},pk="alert",mk="bs.alert",TE=`.${mk}`,gk=`close${TE}`,_k=`closed${TE}`,vk="fade",yk="show";class $l extends cn{static get NAME(){return pk}close(){if(j.trigger(this._element,gk).defaultPrevented)return;this._element.classList.remove(yk);const n=this._element.classList.contains(vk);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),j.trigger(this._element,_k),this.dispose()}static jQueryInterface(t){return this.each(function(){const n=$l.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}Ml($l,"close");en($l);const Ek="button",Tk="bs.button",bk=`.${Tk}`,wk=".data-api",Ak="active",km='[data-bs-toggle="button"]',Ik=`click${bk}${wk}`;class Fl extends cn{static get NAME(){return Ek}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Ak))}static jQueryInterface(t){return this.each(function(){const n=Fl.getOrCreateInstance(this);t==="toggle"&&n[t]()})}}j.on(document,Ik,km,e=>{e.preventDefault();const t=e.target.closest(km);Fl.getOrCreateInstance(t).toggle()});en(Fl);const Sk="swipe",pi=".bs.swipe",Ck=`touchstart${pi}`,Rk=`touchmove${pi}`,Pk=`touchend${pi}`,Ok=`pointerdown${pi}`,Nk=`pointerup${pi}`,Dk="touch",kk="pen",xk="pointer-event",Lk=40,Vk={endCallback:null,leftCallback:null,rightCallback:null},Mk={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class el extends Oo{constructor(t,n){super(),this._element=t,!(!t||!el.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Vk}static get DefaultType(){return Mk}static get NAME(){return Sk}dispose(){j.off(this._element,pi)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Le(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=Lk)return;const n=t/this._deltaX;this._deltaX=0,n&&Le(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(j.on(this._element,Ok,t=>this._start(t)),j.on(this._element,Nk,t=>this._end(t)),this._element.classList.add(xk)):(j.on(this._element,Ck,t=>this._start(t)),j.on(this._element,Rk,t=>this._move(t)),j.on(this._element,Pk,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===kk||t.pointerType===Dk)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const $k="carousel",Fk="bs.carousel",Ls=`.${Fk}`,bE=".data-api",Uk="ArrowLeft",Bk="ArrowRight",jk=500,Ni="next",yr="prev",Pr="left",Ca="right",Hk=`slide${Ls}`,Lc=`slid${Ls}`,Kk=`keydown${Ls}`,qk=`mouseenter${Ls}`,Wk=`mouseleave${Ls}`,zk=`dragstart${Ls}`,Gk=`load${Ls}${bE}`,Qk=`click${Ls}${bE}`,wE="carousel",ia="active",Yk="slide",Xk="carousel-item-end",Jk="carousel-item-start",Zk="carousel-item-next",tx="carousel-item-prev",AE=".active",IE=".carousel-item",ex=AE+IE,nx=".carousel-item img",sx=".carousel-indicators",rx="[data-bs-slide], [data-bs-slide-to]",ix='[data-bs-ride="carousel"]',ox={[Uk]:Ca,[Bk]:Pr},ax={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},lx={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class No extends cn{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=lt.findOne(sx,this._element),this._addEventListeners(),this._config.ride===wE&&this.cycle()}static get Default(){return ax}static get DefaultType(){return lx}static get NAME(){return $k}next(){this._slide(Ni)}nextWhenVisible(){!document.hidden&&fi(this._element)&&this.next()}prev(){this._slide(yr)}pause(){this._isSliding&&hE(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){j.one(this._element,Lc,()=>this.cycle());return}this.cycle()}}to(t){const n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){j.one(this._element,Lc,()=>this.to(t));return}const s=this._getItemIndex(this._getActive());if(s===t)return;const r=t>s?Ni:yr;this._slide(r,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&j.on(this._element,Kk,t=>this._keydown(t)),this._config.pause==="hover"&&(j.on(this._element,qk,()=>this.pause()),j.on(this._element,Wk,()=>this._maybeEnableCycle())),this._config.touch&&el.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of lt.find(nx,this._element))j.on(s,zk,r=>r.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Pr)),rightCallback:()=>this._slide(this._directionToOrder(Ca)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),jk+this._config.interval))}};this._swipeHelper=new el(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const n=ox[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const n=lt.findOne(AE,this._indicatorsElement);n.classList.remove(ia),n.removeAttribute("aria-current");const s=lt.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);s&&(s.classList.add(ia),s.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;const s=this._getActive(),r=t===Ni,i=n||sd(this._getItems(),s,r,this._config.wrap);if(i===s)return;const o=this._getItemIndex(i),l=_=>j.trigger(this._element,_,{relatedTarget:i,direction:this._orderToDirection(t),from:this._getItemIndex(s),to:o});if(l(Hk).defaultPrevented||!s||!i)return;const h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=i;const d=r?Jk:Xk,p=r?Zk:tx;i.classList.add(p),Po(i),s.classList.add(d),i.classList.add(d);const g=()=>{i.classList.remove(d,p),i.classList.add(ia),s.classList.remove(ia,p,d),this._isSliding=!1,l(Lc)};this._queueCallback(g,s,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(Yk)}_getActive(){return lt.findOne(ex,this._element)}_getItems(){return lt.find(IE,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Ze()?t===Pr?yr:Ni:t===Pr?Ni:yr}_orderToDirection(t){return Ze()?t===yr?Pr:Ca:t===yr?Ca:Pr}static jQueryInterface(t){return this.each(function(){const n=No.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}j.on(document,Qk,rx,function(e){const t=lt.getElementFromSelector(this);if(!t||!t.classList.contains(wE))return;e.preventDefault();const n=No.getOrCreateInstance(t),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(qn.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});j.on(window,Gk,()=>{const e=lt.find(ix);for(const t of e)No.getOrCreateInstance(t)});en(No);const cx="collapse",ux="bs.collapse",Do=`.${ux}`,hx=".data-api",dx=`show${Do}`,fx=`shown${Do}`,px=`hide${Do}`,mx=`hidden${Do}`,gx=`click${Do}${hx}`,Vc="show",Nr="collapse",oa="collapsing",_x="collapsed",vx=`:scope .${Nr} .${Nr}`,yx="collapse-horizontal",Ex="width",Tx="height",bx=".collapse.show, .collapse.collapsing",Mu='[data-bs-toggle="collapse"]',wx={parent:null,toggle:!0},Ax={parent:"(null|element)",toggle:"boolean"};class go extends cn{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const s=lt.find(Mu);for(const r of s){const i=lt.getSelectorFromElement(r),o=lt.find(i).filter(l=>l===this._element);i!==null&&o.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return wx}static get DefaultType(){return Ax}static get NAME(){return cx}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(bx).filter(l=>l!==this._element).map(l=>go.getOrCreateInstance(l,{toggle:!1}))),t.length&&t[0]._isTransitioning||j.trigger(this._element,dx).defaultPrevented)return;for(const l of t)l.hide();const s=this._getDimension();this._element.classList.remove(Nr),this._element.classList.add(oa),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(oa),this._element.classList.add(Nr,Vc),this._element.style[s]="",j.trigger(this._element,fx)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||j.trigger(this._element,px).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Po(this._element),this._element.classList.add(oa),this._element.classList.remove(Nr,Vc);for(const r of this._triggerArray){const i=lt.getElementFromSelector(r);i&&!this._isShown(i)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(oa),this._element.classList.add(Nr),j.trigger(this._element,mx)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Vc)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=Rs(t.parent),t}_getDimension(){return this._element.classList.contains(yx)?Ex:Tx}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Mu);for(const n of t){const s=lt.getElementFromSelector(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(t){const n=lt.find(vx,this._config.parent);return lt.find(t,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(t,n){if(t.length)for(const s of t)s.classList.toggle(_x,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(t){const n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){const s=go.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}}j.on(document,gx,Mu,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(const t of lt.getMultipleElementsFromSelector(this))go.getOrCreateInstance(t,{toggle:!1}).toggle()});en(go);const xm="dropdown",Ix="bs.dropdown",ur=`.${Ix}`,id=".data-api",Sx="Escape",Lm="Tab",Cx="ArrowUp",Vm="ArrowDown",Rx=2,Px=`hide${ur}`,Ox=`hidden${ur}`,Nx=`show${ur}`,Dx=`shown${ur}`,SE=`click${ur}${id}`,CE=`keydown${ur}${id}`,kx=`keyup${ur}${id}`,Or="show",xx="dropup",Lx="dropend",Vx="dropstart",Mx="dropup-center",$x="dropdown-center",zs='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Fx=`${zs}.${Or}`,Ra=".dropdown-menu",Ux=".navbar",Bx=".navbar-nav",jx=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Hx=Ze()?"top-end":"top-start",Kx=Ze()?"top-start":"top-end",qx=Ze()?"bottom-end":"bottom-start",Wx=Ze()?"bottom-start":"bottom-end",zx=Ze()?"left-start":"right-start",Gx=Ze()?"right-start":"left-start",Qx="top",Yx="bottom",Xx={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Jx={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class wn extends cn{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=lt.next(this._element,Ra)[0]||lt.prev(this._element,Ra)[0]||lt.findOne(Ra,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Xx}static get DefaultType(){return Jx}static get NAME(){return xm}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ps(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!j.trigger(this._element,Nx,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Bx))for(const s of[].concat(...document.body.children))j.on(s,"mouseover",tl);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Or),this._element.classList.add(Or),j.trigger(this._element,Dx,t)}}hide(){if(Ps(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!j.trigger(this._element,Px,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))j.off(s,"mouseover",tl);this._popper&&this._popper.destroy(),this._menu.classList.remove(Or),this._element.classList.remove(Or),this._element.setAttribute("aria-expanded","false"),qn.removeDataAttribute(this._menu,"popper"),j.trigger(this._element,Ox,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Kn(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${xm.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof cE>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:Kn(this._config.reference)?t=Rs(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=nd(t,this._menu,n)}_isShown(){return this._menu.classList.contains(Or)}_getPlacement(){const t=this._parent;if(t.classList.contains(Lx))return zx;if(t.classList.contains(Vx))return Gx;if(t.classList.contains(Mx))return Qx;if(t.classList.contains($x))return Yx;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(xx)?n?Kx:Hx:n?Wx:qx}_detectNavbar(){return this._element.closest(Ux)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(qn.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...Le(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:n}){const s=lt.find(jx,this._menu).filter(r=>fi(r));s.length&&sd(s,n,t===Vm,!s.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){const n=wn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===Rx||t.type==="keyup"&&t.key!==Lm)return;const n=lt.find(Fx);for(const s of n){const r=wn.getInstance(s);if(!r||r._config.autoClose===!1)continue;const i=t.composedPath(),o=i.includes(r._menu);if(i.includes(r._element)||r._config.autoClose==="inside"&&!o||r._config.autoClose==="outside"&&o||r._menu.contains(t.target)&&(t.type==="keyup"&&t.key===Lm||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const l={relatedTarget:r._element};t.type==="click"&&(l.clickEvent=t),r._completeHide(l)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),s=t.key===Sx,r=[Cx,Vm].includes(t.key);if(!r&&!s||n&&!s)return;t.preventDefault();const i=this.matches(zs)?this:lt.prev(this,zs)[0]||lt.next(this,zs)[0]||lt.findOne(zs,t.delegateTarget.parentNode),o=wn.getOrCreateInstance(i);if(r){t.stopPropagation(),o.show(),o._selectMenuItem(t);return}o._isShown()&&(t.stopPropagation(),o.hide(),i.focus())}}j.on(document,CE,zs,wn.dataApiKeydownHandler);j.on(document,CE,Ra,wn.dataApiKeydownHandler);j.on(document,SE,wn.clearMenus);j.on(document,kx,wn.clearMenus);j.on(document,SE,zs,function(e){e.preventDefault(),wn.getOrCreateInstance(this).toggle()});en(wn);const RE="backdrop",Zx="fade",Mm="show",$m=`mousedown.bs.${RE}`,tL={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},eL={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class PE extends Oo{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return tL}static get DefaultType(){return eL}static get NAME(){return RE}show(t){if(!this._config.isVisible){Le(t);return}this._append();const n=this._getElement();this._config.isAnimated&&Po(n),n.classList.add(Mm),this._emulateAnimation(()=>{Le(t)})}hide(t){if(!this._config.isVisible){Le(t);return}this._getElement().classList.remove(Mm),this._emulateAnimation(()=>{this.dispose(),Le(t)})}dispose(){this._isAppended&&(j.off(this._element,$m),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Zx),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Rs(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),j.on(t,$m,()=>{Le(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){pE(t,this._getElement(),this._config.isAnimated)}}const nL="focustrap",sL="bs.focustrap",nl=`.${sL}`,rL=`focusin${nl}`,iL=`keydown.tab${nl}`,oL="Tab",aL="forward",Fm="backward",lL={autofocus:!0,trapElement:null},cL={autofocus:"boolean",trapElement:"element"};class OE extends Oo{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return lL}static get DefaultType(){return cL}static get NAME(){return nL}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),j.off(document,nl),j.on(document,rL,t=>this._handleFocusin(t)),j.on(document,iL,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,j.off(document,nl))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const s=lt.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===Fm?s[s.length-1].focus():s[0].focus()}_handleKeydown(t){t.key===oL&&(this._lastTabNavDirection=t.shiftKey?Fm:aL)}}const Um=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Bm=".sticky-top",aa="padding-right",jm="margin-right";class $u{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,aa,n=>n+t),this._setElementAttributes(Um,aa,n=>n+t),this._setElementAttributes(Bm,jm,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,aa),this._resetElementAttributes(Um,aa),this._resetElementAttributes(Bm,jm)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,s){const r=this.getWidth(),i=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+r)return;this._saveInitialAttribute(o,n);const l=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${s(Number.parseFloat(l))}px`)};this._applyManipulationCallback(t,i)}_saveInitialAttribute(t,n){const s=t.style.getPropertyValue(n);s&&qn.setDataAttribute(t,n,s)}_resetElementAttributes(t,n){const s=r=>{const i=qn.getDataAttribute(r,n);if(i===null){r.style.removeProperty(n);return}qn.removeDataAttribute(r,n),r.style.setProperty(n,i)};this._applyManipulationCallback(t,s)}_applyManipulationCallback(t,n){if(Kn(t)){n(t);return}for(const s of lt.find(t,this._element))n(s)}}const uL="modal",hL="bs.modal",tn=`.${hL}`,dL=".data-api",fL="Escape",pL=`hide${tn}`,mL=`hidePrevented${tn}`,NE=`hidden${tn}`,DE=`show${tn}`,gL=`shown${tn}`,_L=`resize${tn}`,vL=`click.dismiss${tn}`,yL=`mousedown.dismiss${tn}`,EL=`keydown.dismiss${tn}`,TL=`click${tn}${dL}`,Hm="modal-open",bL="fade",Km="show",Mc="modal-static",wL=".modal.show",AL=".modal-dialog",IL=".modal-body",SL='[data-bs-toggle="modal"]',CL={backdrop:!0,focus:!0,keyboard:!0},RL={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ii extends cn{constructor(t,n){super(t,n),this._dialog=lt.findOne(AL,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new $u,this._addEventListeners()}static get Default(){return CL}static get DefaultType(){return RL}static get NAME(){return uL}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||j.trigger(this._element,DE,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Hm),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||j.trigger(this._element,pL).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Km),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){j.off(window,tn),j.off(this._dialog,tn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new PE({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new OE({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=lt.findOne(IL,this._dialog);n&&(n.scrollTop=0),Po(this._element),this._element.classList.add(Km);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,j.trigger(this._element,gL,{relatedTarget:t})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){j.on(this._element,EL,t=>{if(t.key===fL){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),j.on(window,_L,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),j.on(this._element,yL,t=>{j.one(this._element,vL,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Hm),this._resetAdjustments(),this._scrollBar.reset(),j.trigger(this._element,NE)})}_isAnimated(){return this._element.classList.contains(bL)}_triggerBackdropTransition(){if(j.trigger(this._element,mL).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(Mc)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Mc),this._queueCallback(()=>{this._element.classList.remove(Mc),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!t){const r=Ze()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!s&&t){const r=Ze()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const s=ii.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t](n)}})}}j.on(document,TL,SL,function(e){const t=lt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),j.one(t,DE,r=>{r.defaultPrevented||j.one(t,NE,()=>{fi(this)&&this.focus()})});const n=lt.findOne(wL);n&&ii.getInstance(n).hide(),ii.getOrCreateInstance(t).toggle(this)});Ml(ii);en(ii);const PL="offcanvas",OL="bs.offcanvas",Jn=`.${OL}`,kE=".data-api",NL=`load${Jn}${kE}`,DL="Escape",qm="show",Wm="showing",zm="hiding",kL="offcanvas-backdrop",xE=".offcanvas.show",xL=`show${Jn}`,LL=`shown${Jn}`,VL=`hide${Jn}`,Gm=`hidePrevented${Jn}`,LE=`hidden${Jn}`,ML=`resize${Jn}`,$L=`click${Jn}${kE}`,FL=`keydown.dismiss${Jn}`,UL='[data-bs-toggle="offcanvas"]',BL={backdrop:!0,keyboard:!0,scroll:!1},jL={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Os extends cn{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return BL}static get DefaultType(){return jL}static get NAME(){return PL}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||j.trigger(this._element,xL,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new $u().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Wm);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(qm),this._element.classList.remove(Wm),j.trigger(this._element,LL,{relatedTarget:t})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||j.trigger(this._element,VL).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(zm),this._backdrop.hide();const n=()=>{this._element.classList.remove(qm,zm),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new $u().reset(),j.trigger(this._element,LE)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){j.trigger(this._element,Gm);return}this.hide()},n=!!this._config.backdrop;return new PE({className:kL,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new OE({trapElement:this._element})}_addEventListeners(){j.on(this._element,FL,t=>{if(t.key===DL){if(this._config.keyboard){this.hide();return}j.trigger(this._element,Gm)}})}static jQueryInterface(t){return this.each(function(){const n=Os.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}j.on(document,$L,UL,function(e){const t=lt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ps(this))return;j.one(t,LE,()=>{fi(this)&&this.focus()});const n=lt.findOne(xE);n&&n!==t&&Os.getInstance(n).hide(),Os.getOrCreateInstance(t).toggle(this)});j.on(window,NL,()=>{for(const e of lt.find(xE))Os.getOrCreateInstance(e).show()});j.on(window,ML,()=>{for(const e of lt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&Os.getOrCreateInstance(e).hide()});Ml(Os);en(Os);const HL=/^aria-[\w-]*$/i,VE={"*":["class","dir","id","lang","role",HL],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},KL=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,WL=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?KL.has(n)?!!qL.test(e.nodeValue):!0:t.filter(s=>s instanceof RegExp).some(s=>s.test(n))};function zL(e,t,n){if(!e.length)return e;if(n&&typeof n=="function")return n(e);const r=new window.DOMParser().parseFromString(e,"text/html"),i=[].concat(...r.body.querySelectorAll("*"));for(const o of i){const l=o.nodeName.toLowerCase();if(!Object.keys(t).includes(l)){o.remove();continue}const c=[].concat(...o.attributes),h=[].concat(t["*"]||[],t[l]||[]);for(const d of c)WL(d,h)||o.removeAttribute(d.nodeName)}return r.body.innerHTML}const GL="TemplateFactory",QL={allowList:VE,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},YL={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},XL={entry:"(string|element|function|null)",selector:"(string|element)"};class JL extends Oo{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return QL}static get DefaultType(){return YL}static get NAME(){return GL}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[r,i]of Object.entries(this._config.content))this._setContent(t,i,r);const n=t.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[n,s]of Object.entries(t))super._typeCheckConfig({selector:n,entry:s},XL)}_setContent(t,n,s){const r=lt.findOne(s,t);if(r){if(n=this._resolvePossibleFunction(n),!n){r.remove();return}if(Kn(n)){this._putElementInTemplate(Rs(n),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(n);return}r.textContent=n}}_maybeSanitize(t){return this._config.sanitize?zL(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Le(t,[this])}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}}const ZL="tooltip",tV=new Set(["sanitize","allowList","sanitizeFn"]),$c="fade",eV="modal",la="show",nV=".tooltip-inner",Qm=`.${eV}`,Ym="hide.bs.modal",Di="hover",Fc="focus",sV="click",rV="manual",iV="hide",oV="hidden",aV="show",lV="shown",cV="inserted",uV="click",hV="focusin",dV="focusout",fV="mouseenter",pV="mouseleave",mV={AUTO:"auto",TOP:"top",RIGHT:Ze()?"left":"right",BOTTOM:"bottom",LEFT:Ze()?"right":"left"},gV={allowList:VE,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},_V={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class mi extends cn{constructor(t,n){if(typeof cE>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return gV}static get DefaultType(){return _V}static get NAME(){return ZL}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),j.off(this._element.closest(Qm),Ym,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=j.trigger(this._element,this.constructor.eventName(aV)),s=(dE(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!s)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(r),j.trigger(this._element,this.constructor.eventName(cV))),this._popper=this._createPopper(r),r.classList.add(la),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))j.on(l,"mouseover",tl);const o=()=>{j.trigger(this._element,this.constructor.eventName(lV)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||j.trigger(this._element,this.constructor.eventName(iV)).defaultPrevented)return;if(this._getTipElement().classList.remove(la),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))j.off(r,"mouseover",tl);this._activeTrigger[sV]=!1,this._activeTrigger[Fc]=!1,this._activeTrigger[Di]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),j.trigger(this._element,this.constructor.eventName(oV)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove($c,la),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=sk(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add($c),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new JL({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[nV]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains($c)}_isShown(){return this.tip&&this.tip.classList.contains(la)}_createPopper(t){const n=Le(this._config.placement,[this,t,this._element]),s=mV[n.toUpperCase()];return nd(this._element,t,this._getPopperConfig(s))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return Le(t,[this._element])}_getPopperConfig(t){const n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...Le(this._config.popperConfig,[n])}}_setListeners(){const t=this._config.trigger.split(" ");for(const n of t)if(n==="click")j.on(this._element,this.constructor.eventName(uV),this._config.selector,s=>{this._initializeOnDelegatedTarget(s).toggle()});else if(n!==rV){const s=n===Di?this.constructor.eventName(fV):this.constructor.eventName(hV),r=n===Di?this.constructor.eventName(pV):this.constructor.eventName(dV);j.on(this._element,s,this._config.selector,i=>{const o=this._initializeOnDelegatedTarget(i);o._activeTrigger[i.type==="focusin"?Fc:Di]=!0,o._enter()}),j.on(this._element,r,this._config.selector,i=>{const o=this._initializeOnDelegatedTarget(i);o._activeTrigger[i.type==="focusout"?Fc:Di]=o._element.contains(i.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},j.on(this._element.closest(Qm),Ym,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const n=qn.getDataAttributes(this._element);for(const s of Object.keys(n))tV.has(s)&&delete n[s];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:Rs(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[n,s]of Object.entries(this._config))this.constructor.Default[n]!==s&&(t[n]=s);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const n=mi.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}en(mi);const vV="popover",yV=".popover-header",EV=".popover-body",TV={...mi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},bV={...mi.DefaultType,content:"(null|string|element|function)"};class od extends mi{static get Default(){return TV}static get DefaultType(){return bV}static get NAME(){return vV}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[yV]:this._getTitle(),[EV]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const n=od.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}en(od);const wV="scrollspy",AV="bs.scrollspy",ad=`.${AV}`,IV=".data-api",SV=`activate${ad}`,Xm=`click${ad}`,CV=`load${ad}${IV}`,RV="dropdown-item",Er="active",PV='[data-bs-spy="scroll"]',Uc="[href]",OV=".nav, .list-group",Jm=".nav-link",NV=".nav-item",DV=".list-group-item",kV=`${Jm}, ${NV} > ${Jm}, ${DV}`,xV=".dropdown",LV=".dropdown-toggle",VV={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},MV={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ul extends cn{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return VV}static get DefaultType(){return MV}static get NAME(){return wV}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Rs(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(j.off(this._config.target,Xm),j.on(this._config.target,Xm,Uc,t=>{const n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();const s=this._rootElement||window,r=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:r,behavior:"smooth"});return}s.scrollTop=r}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){const n=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},r=(this._rootElement||document.documentElement).scrollTop,i=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const l=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&l){if(s(o),!r)return;continue}!i&&!l&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=lt.find(Uc,this._config.target);for(const n of t){if(!n.hash||Ps(n))continue;const s=lt.findOne(decodeURI(n.hash),this._element);fi(s)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,s))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Er),this._activateParents(t),j.trigger(this._element,SV,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(RV)){lt.findOne(LV,t.closest(xV)).classList.add(Er);return}for(const n of lt.parents(t,OV))for(const s of lt.prev(n,kV))s.classList.add(Er)}_clearActiveClass(t){t.classList.remove(Er);const n=lt.find(`${Uc}.${Er}`,t);for(const s of n)s.classList.remove(Er)}static jQueryInterface(t){return this.each(function(){const n=Ul.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}j.on(window,CV,()=>{for(const e of lt.find(PV))Ul.getOrCreateInstance(e)});en(Ul);const $V="tab",FV="bs.tab",hr=`.${FV}`,UV=`hide${hr}`,BV=`hidden${hr}`,jV=`show${hr}`,HV=`shown${hr}`,KV=`click${hr}`,qV=`keydown${hr}`,WV=`load${hr}`,zV="ArrowLeft",Zm="ArrowRight",GV="ArrowUp",tg="ArrowDown",Bc="Home",eg="End",Gs="active",ng="fade",jc="show",QV="dropdown",ME=".dropdown-toggle",YV=".dropdown-menu",Hc=`:not(${ME})`,XV='.list-group, .nav, [role="tablist"]',JV=".nav-item, .list-group-item",ZV=`.nav-link${Hc}, .list-group-item${Hc}, [role="tab"]${Hc}`,$E='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Kc=`${ZV}, ${$E}`,tM=`.${Gs}[data-bs-toggle="tab"], .${Gs}[data-bs-toggle="pill"], .${Gs}[data-bs-toggle="list"]`;class oi extends cn{constructor(t){super(t),this._parent=this._element.closest(XV),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),j.on(this._element,qV,n=>this._keydown(n)))}static get NAME(){return $V}show(){const t=this._element;if(this._elemIsActive(t))return;const n=this._getActiveElem(),s=n?j.trigger(n,UV,{relatedTarget:t}):null;j.trigger(t,jV,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(Gs),this._activate(lt.getElementFromSelector(t));const s=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(jc);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),j.trigger(t,HV,{relatedTarget:n})};this._queueCallback(s,t,t.classList.contains(ng))}_deactivate(t,n){if(!t)return;t.classList.remove(Gs),t.blur(),this._deactivate(lt.getElementFromSelector(t));const s=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(jc);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),j.trigger(t,BV,{relatedTarget:n})};this._queueCallback(s,t,t.classList.contains(ng))}_keydown(t){if(![zV,Zm,GV,tg,Bc,eg].includes(t.key))return;t.stopPropagation(),t.preventDefault();const n=this._getChildren().filter(r=>!Ps(r));let s;if([Bc,eg].includes(t.key))s=n[t.key===Bc?0:n.length-1];else{const r=[Zm,tg].includes(t.key);s=sd(n,t.target,r,!0)}s&&(s.focus({preventScroll:!0}),oi.getOrCreateInstance(s).show())}_getChildren(){return lt.find(Kc,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const n=this._elemIsActive(t),s=this._getOuterElement(t);t.setAttribute("aria-selected",n),s!==t&&this._setAttributeIfNotExists(s,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const n=lt.getElementFromSelector(t);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){const s=this._getOuterElement(t);if(!s.classList.contains(QV))return;const r=(i,o)=>{const l=lt.findOne(i,s);l&&l.classList.toggle(o,n)};r(ME,Gs),r(YV,jc),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,s){t.hasAttribute(n)||t.setAttribute(n,s)}_elemIsActive(t){return t.classList.contains(Gs)}_getInnerElement(t){return t.matches(Kc)?t:lt.findOne(Kc,t)}_getOuterElement(t){return t.closest(JV)||t}static jQueryInterface(t){return this.each(function(){const n=oi.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}j.on(document,KV,$E,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!Ps(this)&&oi.getOrCreateInstance(this).show()});j.on(window,WV,()=>{for(const e of lt.find(tM))oi.getOrCreateInstance(e)});en(oi);const eM="toast",nM="bs.toast",Vs=`.${nM}`,sM=`mouseover${Vs}`,rM=`mouseout${Vs}`,iM=`focusin${Vs}`,oM=`focusout${Vs}`,aM=`hide${Vs}`,lM=`hidden${Vs}`,cM=`show${Vs}`,uM=`shown${Vs}`,hM="fade",sg="hide",ca="show",ua="showing",dM={animation:"boolean",autohide:"boolean",delay:"number"},fM={animation:!0,autohide:!0,delay:5e3};class Bl extends cn{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return fM}static get DefaultType(){return dM}static get NAME(){return eM}show(){if(j.trigger(this._element,cM).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(hM);const n=()=>{this._element.classList.remove(ua),j.trigger(this._element,uM),this._maybeScheduleHide()};this._element.classList.remove(sg),Po(this._element),this._element.classList.add(ca,ua),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||j.trigger(this._element,aM).defaultPrevented)return;const n=()=>{this._element.classList.add(sg),this._element.classList.remove(ua,ca),j.trigger(this._element,lM)};this._element.classList.add(ua),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ca),super.dispose()}isShown(){return this._element.classList.contains(ca)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=t.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){j.on(this._element,sM,t=>this._onInteraction(t,!0)),j.on(this._element,rM,t=>this._onInteraction(t,!1)),j.on(this._element,iM,t=>this._onInteraction(t,!0)),j.on(this._element,oM,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const n=Bl.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}Ml(Bl);en(Bl);const FE=Sw(iN);FE.use($y);FE.mount("#app");
